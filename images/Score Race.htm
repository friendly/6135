<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="Score%20Race_files/style.css">
		<link href="Score%20Race_files/css.css" rel="stylesheet" type="text/css">
	<title>Score Race</title><style id="flourish-page-styles" type="text/css">html { 
 font-size:62.5%; 
 -webkit-font-smoothing: antialiased; 
 -moz-osx-font-smoothing: auto; } 


@media(min-width: 380px) {
html { font-size:75%; }
}

@media(min-width: 580px) {
html { font-size:87.5%; }
}

@media(min-width: 1080px) {
html { font-size:100%; }
}

@media(min-width: 1280px) {
html { font-size:120%; }
}

</style><style type="text/css">.flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }</style><style class="fl-ui-styles-controls">.fl-control.hidden {
	display: none;
}

.fl-control {
	vertical-align: middle;
	position: relative;
	font-size: 1.1rem;
	font-weight: bold;
}

.fl-controls-title {
	font-size: 1.1rem;
	font-weight: bold;
	vertical-align: middle;
}

.fl-control.fl-control .button {
	height: 2.5rem;
	padding: 0 0.5em;
}

.fl-control-dropdown select {
	height: 2.5rem;
	font-size: 1.1rem;
	font-weight: bold;
	padding: 0 0.25rem;
}

.fl-control-slider .slider-end-labels {
	font-size: 1.1rem;
	font-weight: bold;
}

.fl-control-slider {
	height: 2.5rem;
}

</style><style class="fl-ui-styles-button">.fl-control-buttons.fl-control.hidden {
	display: none;
}

.fl-control-buttons.fl-control .button {
	overflow: hidden;
	white-space: nowrap;
	margin: 0 2px 0 0 !important;
	background-color: #ffffff;
	color: #333333;
	border: 1px solid rgba(51, 51, 51, 0.25);
	border-radius: 3px;
}

.fl-control-buttons.fl-control .button:hover {
	background-color: #eeeeee;
	color: #333333;
}

.fl-control-buttons.fl-control .button.selected {
	background-color: #2886b2;
	color: #ffffff;
}

.fl-control-buttons.grouped.fl-control .button {
	border-right: none;
	border-radius: 0;
	margin: 0;
}

.fl-control-buttons.grouped.fl-control .button:first-child {
	border-radius: 3px 0 0 3px;
}

.fl-control-buttons.grouped.fl-control .button:last-child {
	border-radius: 0 3px 3px 0;
	border-right: 1px solid rgba(51, 51, 51, 0.25);
}

.fl-control-buttons.grouped.fl-control.fixed-width:not(.hidden) {
	width: undefined%;
}

</style><style class="fl-ui-styles-dropdown">.fl-control-dropdown .heading {
	margin-bottom: 0.4em;
}

.fl-control-dropdown {
	pointer-events: all;
}

.fl-control-dropdown select {
	display: inline-block;
	cursor: pointer;
	overflow: hidden;
	white-space: nowrap;
	position: relative;
	font-family: inherit;
	background-color: #ffffff;
	color: #333333;
	border: 1px solid transparent;
	border-bottom: 1px solid rgba(51, 51, 51, 0.25);
}

.fl-control-dropdown:after {
}

.fl-control-dropdown .main .current {
	line-height: 1em;
	height: 100%;
	max-width: 88%;
	display: inline-block;
	overflow: hidden;
	vertical-align: top;
}

.fl-control-dropdown .list {
	top: 2px;
	min-width: 100%;
	padding: 2px;
	display: none;
	max-height: 200px;
	overflow-y: auto;
	box-shadow: 0 1px 4px rgba(0, 0, 0, .1);
	margin-top: 2px;
}

.fl-control-dropdown .list .list-item {
	line-height: 1em;
	cursor: pointer;
	font-weight: normal;
	color: #333333;
}

.fl-control-dropdown.open .list {
	display: block;
	border: 1px solid rgba(51, 51, 51, 0.25);
	background-color: #ffffff;
	z-index: 1;
	animation: dropdown-out 200ms;
}

.fl-control-dropdown .list-item:hover {
	opacity: 0.6;
}

.fl-control-dropdown .list-item.selected, .fl-control-dropdown .list-item.selected:hover {
	opacity: 1;
	cursor: default;
}

.fl-control-dropdown .main {
	padding-left: 0;
	padding-right: 0.1rem;
}

</style><style type="text/css" class="flourish-controls">.fl-controls-container {
	display: inline-block;
	line-height: 1em;
}

.fl-controls-title {
	display: inline-block;
	margin: 0px 0.5em 0px 0px;
}

.fl-controls-container, .fl-controls-container * {
	box-sizing: border-box;
}

.slider-holder {
	margin-bottom: 20px;
}

.fl-controls-slider, .slider-play {
	pointer-events: all;
	display: inline-block;
	vertical-align: middle;
}

.slider-play svg {
	height: 100%;
	width: 100%;
	display: block;
	cursor:  pointer;
}

.fl-controls-slider svg {
	display: block;
}

.slider-play:hover {
	opacity: 0.6;
}

.fl-control-slider {
	width: 100%;
	bottom: 0;
	align-items: center;
}

.fl-control {
	position: relative;
}

.fl-control.hidden {
	display: none;
}

.fl-control .button {
	display: inline-flex;
	align-items: center;
	background: #eee;
	padding: 0 0.5em;
	margin-right: 0.25em;
	margin-bottom: 0.25em;
	line-height: 1em;
	box-sizing: border-box;
}

.fl-control.grouped:not(.hidden) {
	display: inline-table;
	table-layout: fixed;
}

.fl-control.grouped:not(.hidden) .button {
	display: table-cell;
	vertical-align: middle;
	margin: 0;
	text-align: center;
}

.fl-control .button.selected {
	background: #ddd;
}

.fl-control-dropdown {
	line-height: 1em;
	position: relative;
}

.fl-control-dropdown::after {
	display: block;
	content: '';
	width: 10px;
	height: 10px;
	background: transparent;
	position: absolute;
	right: 5px;
	left: auto;
	top: 50%;
	pointer-events: none;
	transform: translateY(calc(-50% + 3px));
	border-left: 5px solid transparent;
	border-right: 5px solid transparent;
	border-top: 5px solid;
	box-sizing: border-box;
}

.is-rtl .fl-control-dropdown::after {
	left: 5px;
	right: auto;
}

.fl-control-dropdown select {
	-webkit-appearance: none;
	-webkit-border-radius: 0px;
	width: 100%;
}

</style><link rel="stylesheet" href="Score%20Race_files/css_002.css" class="layout-font"></head>
	<body style="font-family: Roboto Condensed; background-color: rgb(255, 255, 255); background-size: cover; background-repeat: no-repeat; background-position: center center;" dir="ltr">
	

<script>window.Flourish = {"static_prefix":"https://flo.uri.sh/template/25964/v8/static","environment":"live","is_read_only":true};</script><script>var template=function(t){"use strict";var e,n,r,i;Array.from||(Array.from=(e=Object.prototype.toString,n=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},r=Math.pow(2,53)-1,i=function(t){var e=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e}(t);return Math.min(Math.max(e,0),r)},function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var r,a=arguments.length>1?arguments[1]:void 0;if(void 0!==a){if(!n(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(r=arguments[2])}for(var o,l=i(e.length),u=n(this)?Object(new this(l)):new Array(l),c=0;c<l;)o=e[c],u[c]=a?void 0===r?a(o,c):a.call(r,o,c):o,c+=1;return u.length=l,u}));var a={},o={height_mode:"auto",padding_right:6,padding_left:0,padding_top:0,padding_bottom:0,play_mode:"all",zoom_steps_to_show:3,color_mode:"line",color:{},color_single:"#333333",color_single_overrides:"CDU: red",start_circle_r:.3,end_circle_r:1.5,end_circle_stroke:.3,end_circle_stroke_bg:!0,circle_space_between:2,horse_images:!0,labels:{},hide_labels:!1,animate_scores:!0,rank_outside_picture:!0,rank_inside_color:"#ffffff",label_divider:" ",line_opacity:1,line_width:.3,curve:"curveLinear",shade:!0,shade_opacity:.1,shade_width:1,missing:!1,missing_opacity:1,missing_stroke_dash:.5,missing_width:.1,stage_duration:1500,update_duration:500,value_type:"scores",higher_scores_win:!0,ties_mode:"competition",target_position:null,selected_horse:null,mouseover_horse:null,x:{title_mode:"custom",nice:!1,axis_position:"top"},y:{title_mode:"custom",nice:!1},zoom_y_axis:!1,chart_bg:{},show_buttons:!0,toggle_control:{control_type:"buttons",button_group_width_mode:"auto"},show_replay:!0,filter_control:{},filter_include_all:!0,filter_all_label:"All",filter_value:null,label_ranks:"Ranks",label_scores:"Scores",label_replay:"Replay",controls_style:{},button_style:{background_hover:"#eeeeee"},dropdown_style:{},caption_mode:"text_legend",caption_font_size:1,caption_text_color:null,caption_text_weight:"normal",caption_background_color:null,caption_opacity:1,caption_border_color:"#ffffff",caption_text_align_h:"center",caption_text_align_v:"center",caption_border_radius:.2,caption_padding:1,caption_position:"center-center",caption_space_between:1,caption_text_width:15,caption_image_width:15,caption_image_position:"column",formatting:{},layout:{}};var l="http://www.w3.org/1999/xhtml",u={svg:"http://www.w3.org/2000/svg",xhtml:l,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function c(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),u.hasOwnProperty(e)?{space:u[e],local:t}:t}function s(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===l&&e.documentElement.namespaceURI===l?e.createElement(t):e.createElementNS(n,t)}}function f(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function d(t){var e=c(t);return(e.local?f:s)(e)}function h(){}function _(t){return null==t?h:function(){return this.querySelector(t)}}function p(){return[]}function g(t){return null==t?p:function(){return this.querySelectorAll(t)}}function y(t){return function(){return this.matches(t)}}function m(t){return new Array(t.length)}function b(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}b.prototype={constructor:b,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var v="$";function x(t,e,n,r,i,a){for(var o,l=0,u=e.length,c=a.length;l<c;++l)(o=e[l])?(o.__data__=a[l],r[l]=o):n[l]=new b(t,a[l]);for(;l<u;++l)(o=e[l])&&(i[l]=o)}function w(t,e,n,r,i,a,o){var l,u,c,s={},f=e.length,d=a.length,h=new Array(f);for(l=0;l<f;++l)(u=e[l])&&(h[l]=c=v+o.call(u,u.__data__,l,e),c in s?i[l]=u:s[c]=u);for(l=0;l<d;++l)(u=s[c=v+o.call(t,a[l],l,a)])?(r[l]=u,u.__data__=a[l],s[c]=null):n[l]=new b(t,a[l]);for(l=0;l<f;++l)(u=e[l])&&s[h[l]]===u&&(i[l]=u)}function k(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function M(t){return function(){this.removeAttribute(t)}}function T(t){return function(){this.removeAttributeNS(t.space,t.local)}}function A(t,e){return function(){this.setAttribute(t,e)}}function N(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function S(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function E(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function C(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function z(t){return function(){this.style.removeProperty(t)}}function D(t,e,n){return function(){this.style.setProperty(t,e,n)}}function F(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function O(t,e){return t.style.getPropertyValue(e)||C(t).getComputedStyle(t,null).getPropertyValue(e)}function P(t){return function(){delete this[t]}}function L(t,e){return function(){this[t]=e}}function j(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function H(t){return t.trim().split(/^|\s+/)}function q(t){return t.classList||new U(t)}function U(t){this._node=t,this._names=H(t.getAttribute("class")||"")}function R(t,e){for(var n=q(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function B(t,e){for(var n=q(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Y(t){return function(){R(this,t)}}function I(t){return function(){B(this,t)}}function W(t,e){return function(){(e.apply(this,arguments)?R:B)(this,t)}}function $(){this.textContent=""}function V(t){return function(){this.textContent=t}}function X(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function G(){this.innerHTML=""}function Z(t){return function(){this.innerHTML=t}}function Q(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function J(){this.nextSibling&&this.parentNode.appendChild(this)}function K(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tt(){return null}function et(){var t=this.parentNode;t&&t.removeChild(this)}function nt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function rt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}U.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var it={},at=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(it={mouseenter:"mouseover",mouseleave:"mouseout"}));function ot(t,e,n){return t=lt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function lt(t,e,n){return function(r){var i=at;at=r;try{t.call(this,this.__data__,e,n)}finally{at=i}}}function ut(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function ct(t,e,n){var r=it.hasOwnProperty(t.type)?ot:lt;return function(i,a,o){var l,u=this.__on,c=r(e,a,o);if(u)for(var s=0,f=u.length;s<f;++s)if((l=u[s]).type===t.type&&l.name===t.name)return this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=c,l.capture=n),void(l.value=e);this.addEventListener(t.type,c,n),l={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(l):this.__on=[l]}}function st(t,e,n){var r=C(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ft(t,e){return function(){return st(this,t,e)}}function dt(t,e){return function(){return st(this,t,e.apply(this,arguments))}}var ht=[null];function _t(t,e){this._groups=t,this._parents=e}function pt(){return new _t([[document.documentElement]],ht)}function gt(t){return"string"==typeof t?new _t([[document.querySelector(t)]],[document.documentElement]):new _t([[t]],ht)}_t.prototype=pt.prototype={constructor:_t,select:function(t){"function"!=typeof t&&(t=_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,l=e[i],u=l.length,c=r[i]=new Array(u),s=0;s<u;++s)(a=l[s])&&(o=t.call(a,a.__data__,s,l))&&("__data__"in a&&(o.__data__=a.__data__),c[s]=o);return new _t(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=g(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,l=e[a],u=l.length,c=0;c<u;++c)(o=l[c])&&(r.push(t.call(o,o.__data__,c,l)),i.push(o));return new _t(r,i)},filter:function(t){"function"!=typeof t&&(t=y(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],l=o.length,u=r[i]=[],c=0;c<l;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&u.push(a);return new _t(r,this._parents)},data:function(t,e){if(!t)return h=new Array(this.size()),c=-1,this.each((function(t){h[++c]=t})),h;var n=e?w:x,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var a=i.length,o=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;++c){var s=r[c],f=i[c],d=f.length,h=t.call(s,s&&s.__data__,c,r),_=h.length,p=l[c]=new Array(_),g=o[c]=new Array(_);n(s,f,p,g,u[c]=new Array(d),h,e);for(var y,m,b=0,v=0;b<_;++b)if(y=p[b]){for(b>=v&&(v=b+1);!(m=g[v])&&++v<_;);y._next=m||null}}return(o=new _t(o,r))._enter=l,o._exit=u,o},enter:function(){return new _t(this._enter||this._groups.map(m),this._parents)},exit:function(){return new _t(this._exit||this._groups.map(m),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var u,c=e[l],s=n[l],f=c.length,d=o[l]=new Array(f),h=0;h<f;++h)(u=c[h]||s[h])&&(d[h]=u);for(;l<r;++l)o[l]=e[l];return new _t(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=k);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,l=n[a],u=l.length,c=i[a]=new Array(u),s=0;s<u;++s)(o=l[s])&&(c[s]=o);c.sort(e)}return new _t(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,l=a.length;o<l;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=c(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?T:M:"function"==typeof e?n.local?E:S:n.local?N:A)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?z:"function"==typeof e?F:D)(t,e,null==n?"":n)):O(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?P:"function"==typeof e?j:L)(t,e)):this.node()[t]},classed:function(t,e){var n=H(t+"");if(arguments.length<2){for(var r=q(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?W:e?Y:I)(n,e))},text:function(t){return arguments.length?this.each(null==t?$:("function"==typeof t?X:V)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?G:("function"==typeof t?Q:Z)(t)):this.node().innerHTML},raise:function(){return this.each(J)},lower:function(){return this.each(K)},append:function(t){var e="function"==typeof t?t:d(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:d(t),r=null==e?tt:"function"==typeof e?e:_(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(et)},clone:function(t){return this.select(t?rt:nt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),o=a.length;if(!(arguments.length<2)){for(l=e?ct:ut,null==n&&(n=!1),r=0;r<o;++r)this.each(l(a[r],e,n));return this}var l=this.node().__on;if(l)for(var u,c=0,s=l.length;c<s;++c)for(r=0,u=l[c];r<o;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?dt:ft)(t,e))}};var yt=0;function mt(){this._="@"+(++yt).toString(36)}function bt(){for(var t,e=at;t=e.sourceEvent;)e=t;return e}function vt(t){return"string"==typeof t?new _t([document.querySelectorAll(t)],[document.documentElement]):new _t([null==t?[]:t],ht)}mt.prototype={constructor:mt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var xt={value:function(){}};function wt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new kt(r)}function kt(t){this._=t}function Mt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Tt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=xt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}kt.prototype=wt.prototype={constructor:kt,on:function(t,e){var n,r,i=this._,a=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),o=-1,l=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<l;)if(n=(t=a[o]).type)i[n]=Tt(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Tt(i[n],t.name,null);return this}for(;++o<l;)if((n=(t=a[o]).type)&&(n=Mt(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new kt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var At,Nt,St=0,Et=0,Ct=0,zt=1e3,Dt=0,Ft=0,Ot=0,Pt="object"==typeof performance&&performance.now?performance:Date,Lt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function jt(){return Ft||(Lt(Ht),Ft=Pt.now()+Ot)}function Ht(){Ft=0}function qt(){this._call=this._time=this._next=null}function Ut(t,e,n){var r=new qt;return r.restart(t,e,n),r}function Rt(){jt(),++St;for(var t,e=At;e;)(t=Ft-e._time)>=0&&e._call.call(null,t),e=e._next;--St}function Bt(){Ft=(Dt=Pt.now())+Ot,St=Et=0;try{Rt()}finally{St=0,function(){var t,e,n=At,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:At=e);Nt=t,It(r)}(),Ft=0}}function Yt(){var t=Pt.now(),e=t-Dt;e>zt&&(Ot-=e,Dt=t)}function It(t){St||(Et&&(Et=clearTimeout(Et)),t-Ft>24?(t<1/0&&(Et=setTimeout(Bt,t-Pt.now()-Ot)),Ct&&(Ct=clearInterval(Ct))):(Ct||(Dt=Pt.now(),Ct=setInterval(Yt,zt)),St=1,Lt(Bt)))}function Wt(t,e,n){var r=new qt;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}qt.prototype=Ut.prototype={constructor:qt,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?jt():+n)+(null==e?0:+e),this._next||Nt===this||(Nt?Nt._next=this:At=this,Nt=this),this._call=t,this._time=n,It()},stop:function(){this._call&&(this._call=null,this._time=1/0,It())}};var $t=wt("start","end","cancel","interrupt"),Vt=[],Xt=0,Gt=1,Zt=2,Qt=3,Jt=4,Kt=5,te=6;function ee(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(t){n.state=Gt,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(a){var c,s,f,d;if(n.state!==Gt)return u();for(c in i)if((d=i[c]).name===n.name){if(d.state===Qt)return Wt(o);d.state===Jt?(d.state=te,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=te,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(Wt((function(){n.state===Qt&&(n.state=Jt,n.timer.restart(l,n.delay,n.time),l(a))})),n.state=Zt,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Zt){for(n.state=Qt,r=new Array(f=n.tween.length),c=0,s=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++s]=d);r.length=s+1}}function l(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=Kt,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);n.state===Kt&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=te,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Ut(a,0,n.time)}(t,n,{name:e,index:r,group:i,on:$t,tween:Vt,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Xt})}function ne(t,e){var n=ie(t,e);if(n.state>Xt)throw new Error("too late; already scheduled");return n}function re(t,e){var n=ie(t,e);if(n.state>Qt)throw new Error("too late; already running");return n}function ie(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ae(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function oe(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function le(){}var ue=.7,ce=1/ue,se="\\s*([+-]?\\d+)\\s*",fe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",de="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",he=/^#([0-9a-f]{3,8})$/,_e=new RegExp("^rgb\\("+[se,se,se]+"\\)$"),pe=new RegExp("^rgb\\("+[de,de,de]+"\\)$"),ge=new RegExp("^rgba\\("+[se,se,se,fe]+"\\)$"),ye=new RegExp("^rgba\\("+[de,de,de,fe]+"\\)$"),me=new RegExp("^hsl\\("+[fe,de,de]+"\\)$"),be=new RegExp("^hsla\\("+[fe,de,de,fe]+"\\)$"),ve={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xe(){return this.rgb().formatHex()}function we(){return this.rgb().formatRgb()}function ke(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=he.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Me(e):3===n?new Se(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Te(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Te(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=_e.exec(t))?new Se(e[1],e[2],e[3],1):(e=pe.exec(t))?new Se(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ge.exec(t))?Te(e[1],e[2],e[3],e[4]):(e=ye.exec(t))?Te(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=me.exec(t))?De(e[1],e[2]/100,e[3]/100,1):(e=be.exec(t))?De(e[1],e[2]/100,e[3]/100,e[4]):ve.hasOwnProperty(t)?Me(ve[t]):"transparent"===t?new Se(NaN,NaN,NaN,0):null}function Me(t){return new Se(t>>16&255,t>>8&255,255&t,1)}function Te(t,e,n,r){return r<=0&&(t=e=n=NaN),new Se(t,e,n,r)}function Ae(t){return t instanceof le||(t=ke(t)),t?new Se((t=t.rgb()).r,t.g,t.b,t.opacity):new Se}function Ne(t,e,n,r){return 1===arguments.length?Ae(t):new Se(t,e,n,null==r?1:r)}function Se(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Ee(){return"#"+ze(this.r)+ze(this.g)+ze(this.b)}function Ce(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ze(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function De(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Pe(t,e,n,r)}function Fe(t){if(t instanceof Pe)return new Pe(t.h,t.s,t.l,t.opacity);if(t instanceof le||(t=ke(t)),!t)return new Pe;if(t instanceof Pe)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,u=(a+i)/2;return l?(o=e===a?(n-r)/l+6*(n<r):n===a?(r-e)/l+2:(e-n)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new Pe(o,l,u,t.opacity)}function Oe(t,e,n,r){return 1===arguments.length?Fe(t):new Pe(t,e,n,null==r?1:r)}function Pe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Le(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}ae(le,ke,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:xe,formatHex:xe,formatHsl:function(){return Fe(this).formatHsl()},formatRgb:we,toString:we}),ae(Se,Ne,oe(le,{brighter:function(t){return t=null==t?ce:Math.pow(ce,t),new Se(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ue:Math.pow(ue,t),new Se(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ee,formatHex:Ee,formatRgb:Ce,toString:Ce})),ae(Pe,Oe,oe(le,{brighter:function(t){return t=null==t?ce:Math.pow(ce,t),new Pe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ue:Math.pow(ue,t),new Pe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Se(Le(t>=240?t-240:t+120,i,r),Le(t,i,r),Le(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var je=Math.PI/180,He=180/Math.PI,qe=.96422,Ue=1,Re=.82521,Be=4/29,Ye=6/29,Ie=3*Ye*Ye,We=Ye*Ye*Ye;function $e(t){if(t instanceof Xe)return new Xe(t.l,t.a,t.b,t.opacity);if(t instanceof tn)return en(t);t instanceof Se||(t=Ae(t));var e,n,r=Je(t.r),i=Je(t.g),a=Je(t.b),o=Ge((.2225045*r+.7168786*i+.0606169*a)/Ue);return r===i&&i===a?e=n=o:(e=Ge((.4360747*r+.3850649*i+.1430804*a)/qe),n=Ge((.0139322*r+.0971045*i+.7141733*a)/Re)),new Xe(116*o-16,500*(e-o),200*(o-n),t.opacity)}function Ve(t,e,n,r){return 1===arguments.length?$e(t):new Xe(t,e,n,null==r?1:r)}function Xe(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Ge(t){return t>We?Math.pow(t,1/3):t/Ie+Be}function Ze(t){return t>Ye?t*t*t:Ie*(t-Be)}function Qe(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Je(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ke(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof tn)return new tn(t.h,t.c,t.l,t.opacity);if(t instanceof Xe||(t=$e(t)),0===t.a&&0===t.b)return new tn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*He;return new tn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new tn(t,e,n,null==r?1:r)}function tn(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function en(t){if(isNaN(t.h))return new Xe(t.l,0,0,t.opacity);var e=t.h*je;return new Xe(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}ae(Xe,Ve,oe(le,{brighter:function(t){return new Xe(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Xe(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Se(Qe(3.1338561*(e=qe*Ze(e))-1.6168667*(t=Ue*Ze(t))-.4906146*(n=Re*Ze(n))),Qe(-.9787684*e+1.9161415*t+.033454*n),Qe(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),ae(tn,Ke,oe(le,{brighter:function(t){return new tn(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new tn(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return en(this).rgb()}}));var nn=-.14861,rn=1.78277,an=-.29227,on=-.90649,ln=1.97294,un=ln*on,cn=ln*rn,sn=rn*an-on*nn;function fn(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof dn)return new dn(t.h,t.s,t.l,t.opacity);t instanceof Se||(t=Ae(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(sn*r+un*e-cn*n)/(sn+un-cn),a=r-i,o=(ln*(n-i)-an*a)/on,l=Math.sqrt(o*o+a*a)/(ln*i*(1-i)),u=l?Math.atan2(o,a)*He-120:NaN;return new dn(u<0?u+360:u,l,i,t.opacity)}(t):new dn(t,e,n,null==r?1:r)}function dn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function hn(t){return function(){return t}}function _n(t,e){return function(n){return t+n*e}}function pn(t,e){var n=e-t;return n?_n(t,n>180||n<-180?n-360*Math.round(n/360):n):hn(isNaN(t)?e:t)}function gn(t){return 1==(t=+t)?yn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):hn(isNaN(e)?n:e)}}function yn(t,e){var n=e-t;return n?_n(t,n):hn(isNaN(t)?e:t)}ae(dn,fn,oe(le,{brighter:function(t){return t=null==t?ce:Math.pow(ce,t),new dn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ue:Math.pow(ue,t),new dn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*je,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Se(255*(e+n*(nn*r+rn*i)),255*(e+n*(an*r+on*i)),255*(e+n*(ln*r)),this.opacity)}}));var mn=function t(e){var n=gn(e);function r(t,e){var r=n((t=Ne(t)).r,(e=Ne(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=yn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);var bn,vn=(bn=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,l=r<e-1?t[r+2]:2*a-i;return function(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}((n-r/e)*e,o,i,a,l)}},function(t){var e,n,r=t.length,i=new Array(r),a=new Array(r),o=new Array(r);for(e=0;e<r;++e)n=Ne(t[e]),i[e]=n.r||0,a[e]=n.g||0,o[e]=n.b||0;return i=bn(i),a=bn(a),o=bn(o),n.opacity=1,function(t){return n.r=i(t),n.g=a(t),n.b=o(t),n+""}});function xn(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function wn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=En(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function kn(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Mn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Tn(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=En(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var An=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nn=new RegExp(An.source,"g");function Sn(t,e){var n,r,i,a=An.lastIndex=Nn.lastIndex=0,o=-1,l=[],u=[];for(t+="",e+="";(n=An.exec(t))&&(r=Nn.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,u.push({i:o,x:Mn(n,r)})),a=Nn.lastIndex;return a<e.length&&(i=e.slice(a),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)l[(n=u[r]).i]=n.x(t);return l.join("")})}function En(t,e){var n,r=typeof e;return null==e||"boolean"===r?hn(e):("number"===r?Mn:"string"===r?(n=ke(e))?(e=n,mn):Sn:e instanceof ke?mn:e instanceof Date?kn:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?xn:Array.isArray(e)?wn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Tn:Mn)(t,e)}function Cn(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var zn,Dn,Fn,On,Pn=180/Math.PI,Ln={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jn(t,e,n,r,i,a){var o,l,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Pn,skewX:Math.atan(u)*Pn,scaleX:o,scaleY:l}}function Hn(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var l=[],u=[];return a=t(a),o=t(o),function(t,r,i,a,o,l){if(t!==i||r!==a){var u=o.push("translate(",null,e,null,n);l.push({i:u-4,x:Mn(t,i)},{i:u-2,x:Mn(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,l,u),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Mn(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,l,u),function(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Mn(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,l,u),function(t,e,n,r,a,o){if(t!==n||e!==r){var l=a.push(i(a)+"scale(",null,",",null,")");o.push({i:l-4,x:Mn(t,n)},{i:l-2,x:Mn(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,l,u),a=o=null,function(t){for(var e,n=-1,r=u.length;++n<r;)l[(e=u[n]).i]=e.x(t);return l.join("")}}}var qn=Hn((function(t){return"none"===t?Ln:(zn||(zn=document.createElement("DIV"),Dn=document.documentElement,Fn=document.defaultView),zn.style.transform=t,t=Fn.getComputedStyle(Dn.appendChild(zn),null).getPropertyValue("transform"),Dn.removeChild(zn),jn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Un=Hn((function(t){return null==t?Ln:(On||(On=document.createElementNS("http://www.w3.org/2000/svg","g")),On.setAttribute("transform",t),(t=On.transform.baseVal.consolidate())?jn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ln)}),", ",")",")");var Rn=function(t){return function(e,n){var r=t((e=Oe(e)).h,(n=Oe(n)).h),i=yn(e.s,n.s),a=yn(e.l,n.l),o=yn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=a(t),e.opacity=o(t),e+""}}}(pn);function Bn(t,e){var n=yn((t=Ve(t)).l,(e=Ve(e)).l),r=yn(t.a,e.a),i=yn(t.b,e.b),a=yn(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=a(e),t+""}}var Yn=function(t){return function(e,n){var r=t((e=Ke(e)).h,(n=Ke(n)).h),i=yn(e.c,n.c),a=yn(e.l,n.l),o=yn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=a(t),e.opacity=o(t),e+""}}}(pn);function In(t){return function e(n){function r(e,r){var i=t((e=fn(e)).h,(r=fn(r)).h),a=yn(e.s,r.s),o=yn(e.l,r.l),l=yn(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=a(t),e.l=o(Math.pow(t,n)),e.opacity=l(t),e+""}}return n=+n,r.gamma=e,r}(1)}In(pn);var Wn=In(yn);function $n(t,e){var n,r;return function(){var i=re(this,t),a=i.tween;if(a!==n)for(var o=0,l=(r=n=a).length;o<l;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function Vn(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=re(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=l;break}u===c&&i.push(l)}a.tween=i}}function Xn(t,e,n){var r=t._id;return t.each((function(){var t=re(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return ie(t,r).value[e]}}function Gn(t,e){var n;return("number"==typeof e?Mn:e instanceof ke?mn:(n=ke(e))?(e=n,mn):Sn)(t,e)}function Zn(t){return function(){this.removeAttribute(t)}}function Qn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Jn(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function Kn(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function tr(t,e,n){var r,i,a;return function(){var o,l,u=n(this);if(null!=u)return(o=this.getAttribute(t))===(l=u+"")?null:o===r&&l===i?a:(i=l,a=e(r=o,u));this.removeAttribute(t)}}function er(t,e,n){var r,i,a;return function(){var o,l,u=n(this);if(null!=u)return(o=this.getAttributeNS(t.space,t.local))===(l=u+"")?null:o===r&&l===i?a:(i=l,a=e(r=o,u));this.removeAttributeNS(t.space,t.local)}}function nr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function rr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function ir(t,e){return function(){ne(this,t).delay=+e.apply(this,arguments)}}function ar(t,e){return e=+e,function(){ne(this,t).delay=e}}function or(t,e){return function(){re(this,t).duration=+e.apply(this,arguments)}}function lr(t,e){return e=+e,function(){re(this,t).duration=e}}var ur=pt.prototype.constructor;function cr(t){return function(){this.style.removeProperty(t)}}var sr=0;function fr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function dr(){return++sr}var hr=pt.prototype;fr.prototype={constructor:fr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=_(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l,u,c=r[o],s=c.length,f=a[o]=new Array(s),d=0;d<s;++d)(l=c[d])&&(u=t.call(l,l.__data__,d,c))&&("__data__"in l&&(u.__data__=l.__data__),f[d]=u,ee(f[d],e,n,d,f,ie(l,n)));return new fr(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=g(t));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var u,c=r[l],s=c.length,f=0;f<s;++f)if(u=c[f]){for(var d,h=t.call(u,u.__data__,f,c),_=ie(u,n),p=0,y=h.length;p<y;++p)(d=h[p])&&ee(d,e,n,p,h,_);a.push(h),o.push(u)}return new fr(a,o,e,n)},filter:function(t){"function"!=typeof t&&(t=y(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],l=o.length,u=r[i]=[],c=0;c<l;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&u.push(a);return new fr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var u,c=e[l],s=n[l],f=c.length,d=o[l]=new Array(f),h=0;h<f;++h)(u=c[h]||s[h])&&(d[h]=u);for(;l<r;++l)o[l]=e[l];return new fr(o,this._parents,this._name,this._id)},selection:function(){return new ur(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=dr(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],u=l.length,c=0;c<u;++c)if(o=l[c]){var s=ie(o,e);ee(o,t,n,c,l,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new fr(r,this._parents,t,n)},call:hr.call,nodes:hr.nodes,node:hr.node,size:hr.size,empty:hr.empty,each:hr.each,on:function(t,e){var n=this._id;return arguments.length<2?ie(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?ne:re;return function(){var o=a(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}(n,t,e))},attr:function(t,e){var n=c(t),r="transform"===n?Un:Gn;return this.attrTween(t,"function"==typeof e?(n.local?er:tr)(n,r,Xn(this,"attr."+t,e)):null==e?(n.local?Qn:Zn)(n):(n.local?Kn:Jn)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=c(t);return this.tween(n,(r.local?nr:rr)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?qn:Gn;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=O(this,t),o=(this.style.removeProperty(t),O(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,cr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=O(this,t),l=n(this),u=l+"";return null==l&&(this.style.removeProperty(t),u=l=O(this,t)),o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,l))}}(t,r,Xn(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,l="end."+o;return function(){var u=re(this,t),c=u.on,s=null==u.value[o]?a||(a=cr(e)):void 0;c===n&&i===s||(r=(n=c).copy()).on(l,i=s),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=O(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,a,n)),r}return a._value=e,a}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Xn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=ie(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?$n:Vn)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?ir:ar)(e,t)):ie(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?or:lr)(e,t)):ie(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){re(this,t).ease=e}}(e,t)):ie(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var l={value:o},u={value:function(){0==--i&&a()}};n.each((function(){var n=re(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),n.on=e}))}))}};function _r(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}!function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3);var pr=1.70158;!function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(pr),function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(pr),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(pr);var gr=2*Math.PI;!function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=gr);function i(t){return e*_r(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*gr)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=gr);function i(t){return 1-e*_r(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*gr)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=gr);function i(t){return((t=2*t-1)<0?e*_r(-t)*Math.sin((r-t)/n):2-e*_r(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*gr)},i.period=function(n){return t(e,n)},i}(1,.3);var yr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function mr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return yr.time=jt(),yr;return n}pt.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>Zt&&n.state<Kt,n.state=te,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}(this,t)}))},pt.prototype.transition=function(t){var e,n;t instanceof fr?(e=t._id,t=t._name):(e=dr(),(n=yr).time=jt(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],u=l.length,c=0;c<u;++c)(o=l[c])&&ee(o,t,e,c,l,n||mr(o,e));return new fr(r,this._parents,t,e)};var br=Math.PI,vr=2*br,xr=1e-6,wr=vr-xr;function kr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Mr(){return new kr}function Tr(t){return function(){return t}}kr.prototype=Mr.prototype={constructor:kr,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,l=n-t,u=r-e,c=a-t,s=o-e,f=c*c+s*s;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>xr)if(Math.abs(s*l-u*c)>xr&&i){var d=n-a,h=r-o,_=l*l+u*u,p=d*d+h*h,g=Math.sqrt(_),y=Math.sqrt(f),m=i*Math.tan((br-Math.acos((_+f-p)/(2*g*y)))/2),b=m/y,v=m/g;Math.abs(b-1)>xr&&(this._+="L"+(t+b*c)+","+(e+b*s)),this._+="A"+i+","+i+",0,0,"+ +(s*d>c*h)+","+(this._x1=t+v*l)+","+(this._y1=e+v*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,a){t=+t,e=+e,a=!!a;var o=(n=+n)*Math.cos(r),l=n*Math.sin(r),u=t+o,c=e+l,s=1^a,f=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>xr||Math.abs(this._y1-c)>xr)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%vr+vr),f>wr?this._+="A"+n+","+n+",0,1,"+s+","+(t-o)+","+(e-l)+"A"+n+","+n+",0,1,"+s+","+(this._x1=u)+","+(this._y1=c):f>xr&&(this._+="A"+n+","+n+",0,"+ +(f>=br)+","+s+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Ar=Math.abs,Nr=Math.atan2,Sr=Math.cos,Er=Math.max,Cr=Math.min,zr=Math.sin,Dr=Math.sqrt,Fr=1e-12,Or=Math.PI,Pr=Or/2,Lr=2*Or;function jr(t){return t>=1?Pr:t<=-1?-Pr:Math.asin(t)}function Hr(t){return t.innerRadius}function qr(t){return t.outerRadius}function Ur(t){return t.startAngle}function Rr(t){return t.endAngle}function Br(t){return t&&t.padAngle}function Yr(t,e,n,r,i,a,o){var l=t-n,u=e-r,c=(o?a:-a)/Dr(l*l+u*u),s=c*u,f=-c*l,d=t+s,h=e+f,_=n+s,p=r+f,g=(d+_)/2,y=(h+p)/2,m=_-d,b=p-h,v=m*m+b*b,x=i-a,w=d*p-_*h,k=(b<0?-1:1)*Dr(Er(0,x*x*v-w*w)),M=(w*b-m*k)/v,T=(-w*m-b*k)/v,A=(w*b+m*k)/v,N=(-w*m+b*k)/v,S=M-g,E=T-y,C=A-g,z=N-y;return S*S+E*E>C*C+z*z&&(M=A,T=N),{cx:M,cy:T,x01:-s,y01:-f,x11:M*(i/x-1),y11:T*(i/x-1)}}function Ir(t){this._context=t}function Wr(t){return new Ir(t)}function $r(t){return t[0]}function Vr(t){return t[1]}function Xr(){var t=$r,e=Vr,n=Tr(!0),r=null,i=Wr,a=null;function o(o){var l,u,c,s=o.length,f=!1;for(null==r&&(a=i(c=Mr())),l=0;l<=s;++l)!(l<s&&n(u=o[l],l,o))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(u,l,o),+e(u,l,o));if(c)return a=null,c+""||null}return o.x=function(e){return arguments.length?(t="function"==typeof e?e:Tr(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:Tr(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:Tr(!!t),o):n},o.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),o):r},o}function Gr(){var t=$r,e=null,n=Tr(0),r=Vr,i=Tr(!0),a=null,o=Wr,l=null;function u(u){var c,s,f,d,h,_=u.length,p=!1,g=new Array(_),y=new Array(_);for(null==a&&(l=o(h=Mr())),c=0;c<=_;++c){if(!(c<_&&i(d=u[c],c,u))===p)if(p=!p)s=c,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),f=c-1;f>=s;--f)l.point(g[f],y[f]);l.lineEnd(),l.areaEnd()}p&&(g[c]=+t(d,c,u),y[c]=+n(d,c,u),l.point(e?+e(d,c,u):g[c],r?+r(d,c,u):y[c]))}if(h)return l=null,h+""||null}function c(){return Xr().defined(i).curve(o).context(a)}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:Tr(+n),e=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:Tr(+e),u):t},u.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Tr(+t),u):e},u.y=function(t){return arguments.length?(n="function"==typeof t?t:Tr(+t),r=null,u):n},u.y0=function(t){return arguments.length?(n="function"==typeof t?t:Tr(+t),u):n},u.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Tr(+t),u):r},u.lineX0=u.lineY0=function(){return c().x(t).y(n)},u.lineY1=function(){return c().x(t).y(r)},u.lineX1=function(){return c().x(e).y(n)},u.defined=function(t){return arguments.length?(i="function"==typeof t?t:Tr(!!t),u):i},u.curve=function(t){return arguments.length?(o=t,null!=a&&(l=o(a)),u):o},u.context=function(t){return arguments.length?(null==t?a=l=null:l=o(a=t),u):a},u}function Zr(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Qr(t){return t}Ir.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Jr=ti(Wr);function Kr(t){this._curve=t}function ti(t){function e(e){return new Kr(t(e))}return e._curve=t,e}function ei(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(ti(t)):e()._curve},t}function ni(){return ei(Xr().curve(Jr))}function ri(){var t=Gr().curve(Jr),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return ei(n())},delete t.lineX0,t.lineEndAngle=function(){return ei(r())},delete t.lineX1,t.lineInnerRadius=function(){return ei(i())},delete t.lineY0,t.lineOuterRadius=function(){return ei(a())},delete t.lineY1,t.curve=function(t){return arguments.length?e(ti(t)):e()._curve},t}function ii(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}Kr.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var ai=Array.prototype.slice;function oi(t){return t.source}function li(t){return t.target}function ui(t){var e=oi,n=li,r=$r,i=Vr,a=null;function o(){var o,l=ai.call(arguments),u=e.apply(this,l),c=n.apply(this,l);if(a||(a=o=Mr()),t(a,+r.apply(this,(l[0]=u,l)),+i.apply(this,l),+r.apply(this,(l[0]=c,l)),+i.apply(this,l)),o)return a=null,o+""||null}return o.source=function(t){return arguments.length?(e=t,o):e},o.target=function(t){return arguments.length?(n=t,o):n},o.x=function(t){return arguments.length?(r="function"==typeof t?t:Tr(+t),o):r},o.y=function(t){return arguments.length?(i="function"==typeof t?t:Tr(+t),o):i},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o}function ci(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function si(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function fi(t,e,n,r,i){var a=ii(e,n),o=ii(e,n=(n+i)/2),l=ii(r,n),u=ii(r,i);t.moveTo(a[0],a[1]),t.bezierCurveTo(o[0],o[1],l[0],l[1],u[0],u[1])}var di={draw:function(t,e){var n=Math.sqrt(e/Or);t.moveTo(n,0),t.arc(0,0,n,0,Lr)}},hi={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},_i=Math.sqrt(1/3),pi=2*_i,gi={draw:function(t,e){var n=Math.sqrt(e/pi),r=n*_i;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},yi=Math.sin(Or/10)/Math.sin(7*Or/10),mi=Math.sin(Lr/10)*yi,bi=-Math.cos(Lr/10)*yi,vi={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=mi*n,i=bi*n;t.moveTo(0,-n),t.lineTo(r,i);for(var a=1;a<5;++a){var o=Lr*a/5,l=Math.cos(o),u=Math.sin(o);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},xi={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},wi=Math.sqrt(3),ki={draw:function(t,e){var n=-Math.sqrt(e/(3*wi));t.moveTo(0,2*n),t.lineTo(-wi*n,-n),t.lineTo(wi*n,-n),t.closePath()}},Mi=-.5,Ti=Math.sqrt(3)/2,Ai=1/Math.sqrt(12),Ni=3*(Ai/2+1),Si={draw:function(t,e){var n=Math.sqrt(e/Ni),r=n/2,i=n*Ai,a=r,o=n*Ai+n,l=-a,u=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(l,u),t.lineTo(Mi*r-Ti*i,Ti*r+Mi*i),t.lineTo(Mi*a-Ti*o,Ti*a+Mi*o),t.lineTo(Mi*l-Ti*u,Ti*l+Mi*u),t.lineTo(Mi*r+Ti*i,Mi*i-Ti*r),t.lineTo(Mi*a+Ti*o,Mi*o-Ti*a),t.lineTo(Mi*l+Ti*u,Mi*u-Ti*l),t.closePath()}},Ei=[di,hi,gi,xi,vi,ki,Si];function Ci(){}function zi(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Di(t){this._context=t}function Fi(t){this._context=t}function Oi(t){this._context=t}function Pi(t,e){this._basis=new Di(t),this._beta=e}Di.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zi(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zi(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Fi.prototype={areaStart:Ci,areaEnd:Ci,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zi(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Oi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zi(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Pi.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],a=e[0],o=t[n]-i,l=e[n]-a,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*o),this._beta*e[u]+(1-this._beta)*(a+r*l));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Li=function t(e){function n(t){return 1===e?new Di(t):new Pi(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function ji(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Hi(t,e){this._context=t,this._k=(1-e)/6}Hi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ji(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ji(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var qi=function t(e){function n(t){return new Hi(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Ui(t,e){this._context=t,this._k=(1-e)/6}Ui.prototype={areaStart:Ci,areaEnd:Ci,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ji(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ri=function t(e){function n(t){return new Ui(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Bi(t,e){this._context=t,this._k=(1-e)/6}Bi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ji(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Yi=function t(e){function n(t){return new Bi(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Ii(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>Fr){var l=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*l-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*l-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Fr){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/s,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/s}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function Wi(t,e){this._context=t,this._alpha=e}Wi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Ii(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var $i=function t(e){function n(t){return e?new Wi(t,e):new Hi(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Vi(t,e){this._context=t,this._alpha=e}Vi.prototype={areaStart:Ci,areaEnd:Ci,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ii(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Xi=function t(e){function n(t){return e?new Vi(t,e):new Ui(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Gi(t,e){this._context=t,this._alpha=e}Gi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ii(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Zi=function t(e){function n(t){return e?new Gi(t,e):new Bi(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Qi(t){this._context=t}function Ji(t){return t<0?-1:1}function Ki(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(Ji(a)+Ji(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function ta(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ea(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,o-l*n,a,o)}function na(t){this._context=t}function ra(t){this._context=new ia(t)}function ia(t){this._context=t}function aa(t){this._context=t}function oa(t){var e,n,r=t.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function la(t,e){this._context=t,this._t=e}function ua(t,e){if((i=t.length)>1)for(var n,r,i,a=1,o=t[e[0]],l=o.length;a<i;++a)for(r=o,o=t[e[a]],n=0;n<l;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function ca(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function sa(t,e){return t[e]}function fa(t){var e=t.map(da);return ca(t).sort((function(t,n){return e[t]-e[n]}))}function da(t){for(var e,n=-1,r=0,i=t.length,a=-1/0;++n<i;)(e=+t[n][1])>a&&(a=e,r=n);return r}function ha(t){var e=t.map(_a);return ca(t).sort((function(t,n){return e[t]-e[n]}))}function _a(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}Qi.prototype={areaStart:Ci,areaEnd:Ci,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ea(this,this._t0,ta(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ea(this,ta(this,n=Ki(this,t,e)),n);break;default:ea(this,this._t0,n=Ki(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(ra.prototype=Object.create(na.prototype)).point=function(t,e){na.prototype.point.call(this,e,t)},ia.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}},aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=oa(t),i=oa(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},la.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var pa=Object.freeze({__proto__:null,arc:function(){var t=Hr,e=qr,n=Tr(0),r=null,i=Ur,a=Rr,o=Br,l=null;function u(){var u,c,s=+t.apply(this,arguments),f=+e.apply(this,arguments),d=i.apply(this,arguments)-Pr,h=a.apply(this,arguments)-Pr,_=Ar(h-d),p=h>d;if(l||(l=u=Mr()),f<s&&(c=f,f=s,s=c),f>Fr)if(_>Lr-Fr)l.moveTo(f*Sr(d),f*zr(d)),l.arc(0,0,f,d,h,!p),s>Fr&&(l.moveTo(s*Sr(h),s*zr(h)),l.arc(0,0,s,h,d,p));else{var g,y,m=d,b=h,v=d,x=h,w=_,k=_,M=o.apply(this,arguments)/2,T=M>Fr&&(r?+r.apply(this,arguments):Dr(s*s+f*f)),A=Cr(Ar(f-s)/2,+n.apply(this,arguments)),N=A,S=A;if(T>Fr){var E=jr(T/s*zr(M)),C=jr(T/f*zr(M));(w-=2*E)>Fr?(v+=E*=p?1:-1,x-=E):(w=0,v=x=(d+h)/2),(k-=2*C)>Fr?(m+=C*=p?1:-1,b-=C):(k=0,m=b=(d+h)/2)}var z=f*Sr(m),D=f*zr(m),F=s*Sr(x),O=s*zr(x);if(A>Fr){var P,L=f*Sr(b),j=f*zr(b),H=s*Sr(v),q=s*zr(v);if(_<Or&&(P=function(t,e,n,r,i,a,o,l){var u=n-t,c=r-e,s=o-i,f=l-a,d=f*u-s*c;if(!(d*d<Fr))return[t+(d=(s*(e-a)-f*(t-i))/d)*u,e+d*c]}(z,D,H,q,L,j,F,O))){var U=z-P[0],R=D-P[1],B=L-P[0],Y=j-P[1],I=1/zr(function(t){return t>1?0:t<-1?Or:Math.acos(t)}((U*B+R*Y)/(Dr(U*U+R*R)*Dr(B*B+Y*Y)))/2),W=Dr(P[0]*P[0]+P[1]*P[1]);N=Cr(A,(s-W)/(I-1)),S=Cr(A,(f-W)/(I+1))}}k>Fr?S>Fr?(g=Yr(H,q,z,D,f,S,p),y=Yr(L,j,F,O,f,S,p),l.moveTo(g.cx+g.x01,g.cy+g.y01),S<A?l.arc(g.cx,g.cy,S,Nr(g.y01,g.x01),Nr(y.y01,y.x01),!p):(l.arc(g.cx,g.cy,S,Nr(g.y01,g.x01),Nr(g.y11,g.x11),!p),l.arc(0,0,f,Nr(g.cy+g.y11,g.cx+g.x11),Nr(y.cy+y.y11,y.cx+y.x11),!p),l.arc(y.cx,y.cy,S,Nr(y.y11,y.x11),Nr(y.y01,y.x01),!p))):(l.moveTo(z,D),l.arc(0,0,f,m,b,!p)):l.moveTo(z,D),s>Fr&&w>Fr?N>Fr?(g=Yr(F,O,L,j,s,-N,p),y=Yr(z,D,H,q,s,-N,p),l.lineTo(g.cx+g.x01,g.cy+g.y01),N<A?l.arc(g.cx,g.cy,N,Nr(g.y01,g.x01),Nr(y.y01,y.x01),!p):(l.arc(g.cx,g.cy,N,Nr(g.y01,g.x01),Nr(g.y11,g.x11),!p),l.arc(0,0,s,Nr(g.cy+g.y11,g.cx+g.x11),Nr(y.cy+y.y11,y.cx+y.x11),p),l.arc(y.cx,y.cy,N,Nr(y.y11,y.x11),Nr(y.y01,y.x01),!p))):l.arc(0,0,s,x,v,p):l.lineTo(F,O)}else l.moveTo(0,0);if(l.closePath(),u)return l=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Or/2;return[Sr(r)*n,zr(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Tr(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Tr(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Tr(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Tr(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Tr(+t),u):i},u.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:Tr(+t),u):a},u.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Tr(+t),u):o},u.context=function(t){return arguments.length?(l=null==t?null:t,u):l},u},area:Gr,areaRadial:ri,curveBasis:function(t){return new Di(t)},curveBasisClosed:function(t){return new Fi(t)},curveBasisOpen:function(t){return new Oi(t)},curveBundle:Li,curveCardinal:qi,curveCardinalClosed:Ri,curveCardinalOpen:Yi,curveCatmullRom:$i,curveCatmullRomClosed:Xi,curveCatmullRomOpen:Zi,curveLinear:Wr,curveLinearClosed:function(t){return new Qi(t)},curveMonotoneX:function(t){return new na(t)},curveMonotoneY:function(t){return new ra(t)},curveNatural:function(t){return new aa(t)},curveStep:function(t){return new la(t,.5)},curveStepAfter:function(t){return new la(t,1)},curveStepBefore:function(t){return new la(t,0)},line:Xr,lineRadial:ni,linkHorizontal:function(){return ui(ci)},linkRadial:function(){var t=ui(fi);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},linkVertical:function(){return ui(si)},pie:function(){var t=Qr,e=Zr,n=null,r=Tr(0),i=Tr(Lr),a=Tr(0);function o(o){var l,u,c,s,f,d=o.length,h=0,_=new Array(d),p=new Array(d),g=+r.apply(this,arguments),y=Math.min(Lr,Math.max(-Lr,i.apply(this,arguments)-g)),m=Math.min(Math.abs(y)/d,a.apply(this,arguments)),b=m*(y<0?-1:1);for(l=0;l<d;++l)(f=p[_[l]=l]=+t(o[l],l,o))>0&&(h+=f);for(null!=e?_.sort((function(t,n){return e(p[t],p[n])})):null!=n&&_.sort((function(t,e){return n(o[t],o[e])})),l=0,c=h?(y-d*b)/h:0;l<d;++l,g=s)u=_[l],s=g+((f=p[u])>0?f*c:0)+b,p[u]={data:o[u],index:l,value:f,startAngle:g,endAngle:s,padAngle:m};return p}return o.value=function(e){return arguments.length?(t="function"==typeof e?e:Tr(+e),o):t},o.sortValues=function(t){return arguments.length?(e=t,n=null,o):e},o.sort=function(t){return arguments.length?(n=t,e=null,o):n},o.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Tr(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Tr(+t),o):i},o.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:Tr(+t),o):a},o},pointRadial:ii,radialArea:ri,radialLine:ni,stack:function(){var t=Tr([]),e=ca,n=ua,r=sa;function i(i){var a,o,l=t.apply(this,arguments),u=i.length,c=l.length,s=new Array(c);for(a=0;a<c;++a){for(var f,d=l[a],h=s[a]=new Array(u),_=0;_<u;++_)h[_]=f=[0,+r(i[_],d,_,i)],f.data=i[_];h.key=d}for(a=0,o=e(s);a<c;++a)s[o[a]].index=a;return n(s,o),s}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:Tr(ai.call(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:Tr(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?ca:"function"==typeof t?t:Tr(ai.call(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?ua:t,i):n},i},stackOffsetDiverging:function(t,e){if((l=t.length)>0)for(var n,r,i,a,o,l,u=0,c=t[e[0]].length;u<c;++u)for(a=o=0,n=0;n<l;++n)(i=(r=t[e[n]][u])[1]-r[0])>0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):(r[0]=0,r[1]=i)},stackOffsetExpand:function(t,e){if((r=t.length)>0){for(var n,r,i,a=0,o=t[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=t[n][a][1]||0;if(i)for(n=0;n<r;++n)t[n][a][1]/=i}ua(t,e)}},stackOffsetNone:ua,stackOffsetSilhouette:function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],a=i.length;r<a;++r){for(var o=0,l=0;o<n;++o)l+=t[o][r][1]||0;i[r][1]+=i[r][0]=-l/2}ua(t,e)}},stackOffsetWiggle:function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var l=0,u=0,c=0;l<i;++l){for(var s=t[e[l]],f=s[o][1]||0,d=(f-(s[o-1][1]||0))/2,h=0;h<l;++h){var _=t[e[h]];d+=(_[o][1]||0)-(_[o-1][1]||0)}u+=f,c+=d*f}n[o-1][1]+=n[o-1][0]=a,u&&(a-=c/u)}n[o-1][1]+=n[o-1][0]=a,ua(t,e)}},stackOrderAppearance:fa,stackOrderAscending:ha,stackOrderDescending:function(t){return ha(t).reverse()},stackOrderInsideOut:function(t){var e,n,r=t.length,i=t.map(_a),a=fa(t),o=0,l=0,u=[],c=[];for(e=0;e<r;++e)n=a[e],o<l?(o+=i[n],u.push(n)):(l+=i[n],c.push(n));return c.reverse().concat(u)},stackOrderNone:ca,stackOrderReverse:function(t){return ca(t).reverse()},symbol:function(){var t=Tr(di),e=Tr(64),n=null;function r(){var r;if(n||(n=r=Mr()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"==typeof e?e:Tr(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:Tr(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r},symbolCircle:di,symbolCross:hi,symbolDiamond:gi,symbolSquare:xi,symbolStar:vi,symbolTriangle:ki,symbolWye:Si,symbols:Ei});function ga(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var ya,ma,ba=(1===(ya=ga).length&&(ma=ya,ya=function(t,e){return ga(ma(t),e)}),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;ya(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;ya(t[i],e)>0?r=i:n=i+1}return n}}),va=ba.right;function xa(t){return null===t?NaN:+t}function wa(t,e){var n,r,i,a=t.length,o=-1;if(null==e){for(;++o<a;)if(null!=(n=t[o])&&n>=n)for(r=i=n;++o<a;)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=i=n;++o<a;)null!=(n=e(t[o],o,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}function ka(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}var Ma=Math.sqrt(50),Ta=Math.sqrt(10),Aa=Math.sqrt(2);function Na(t,e,n){var r,i,a,o,l=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=Sa(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++l<i;)a[l]=(t+l)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++l<i;)a[l]=(t-l)/o;return r&&a.reverse(),a}function Sa(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Ma?10:a>=Ta?5:a>=Aa?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Ma?10:a>=Ta?5:a>=Aa?2:1)}function Ea(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Ma?i*=10:a>=Ta?i*=5:a>=Aa&&(i*=2),e<t?-i:i}function Ca(t,e,n){if(null==n&&(n=xa),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t);return o+(+n(t[a+1],a+1,t)-o)*(i-a)}}function za(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&n>r&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&n>r&&(r=n);return r}function Da(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&r>n&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&r>n&&(r=n);return r}var Fa="$";function Oa(){}function Pa(t,e){var n=new Oa;if(t instanceof Oa)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==e)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}function La(){}Oa.prototype=Pa.prototype={constructor:Oa,has:function(t){return Fa+t in this},get:function(t){return this[Fa+t]},set:function(t,e){return this[Fa+t]=e,this},remove:function(t){var e=Fa+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Fa&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Fa&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Fa&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Fa&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Fa&&++t;return t},empty:function(){for(var t in this)if(t[0]===Fa)return!1;return!0},each:function(t){for(var e in this)e[0]===Fa&&t(this[e],e.slice(1),this)}};var ja=Pa.prototype;function Ha(t,e){var n=new La;if(t instanceof La)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}La.prototype=Ha.prototype={constructor:La,has:ja.has,add:function(t){return this[Fa+(t+="")]=t,this},remove:ja.remove,clear:ja.clear,values:ja.keys,size:ja.size,empty:ja.empty,each:ja.each};var qa=new Date,Ua=new Date;function Ra(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,a){var o,l=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return l;do{l.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<r);return l},i.filter=function(n){return Ra((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return qa.setTime(+e),Ua.setTime(+r),t(qa),t(Ua),Math.floor(n(qa,Ua))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Ba=Ra((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Ba.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ra((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Ba:null},Ba.range;var Ya=1e3,Ia=6e4,Wa=36e5,$a=864e5,Va=6048e5,Xa=Ra((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Ya)}),(function(t,e){return(e-t)/Ya}),(function(t){return t.getUTCSeconds()}));Xa.range;var Ga=Ra((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ya)}),(function(t,e){t.setTime(+t+e*Ia)}),(function(t,e){return(e-t)/Ia}),(function(t){return t.getMinutes()}));Ga.range;var Za=Ra((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ya-t.getMinutes()*Ia)}),(function(t,e){t.setTime(+t+e*Wa)}),(function(t,e){return(e-t)/Wa}),(function(t){return t.getHours()}));Za.range;var Qa=Ra((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ia)/$a}),(function(t){return t.getDate()-1}));function Ja(t){return Ra((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ia)/Va}))}Qa.range;var Ka=Ja(0),to=Ja(1),eo=Ja(2),no=Ja(3),ro=Ja(4),io=Ja(5),ao=Ja(6);Ka.range,to.range,eo.range,no.range,ro.range,io.range,ao.range;var oo=Ra((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));oo.range;var lo=Ra((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));lo.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ra((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null},lo.range;var uo=Ra((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Ia)}),(function(t,e){return(e-t)/Ia}),(function(t){return t.getUTCMinutes()}));uo.range;var co=Ra((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*Wa)}),(function(t,e){return(e-t)/Wa}),(function(t){return t.getUTCHours()}));co.range;var so=Ra((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/$a}),(function(t){return t.getUTCDate()-1}));function fo(t){return Ra((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Va}))}so.range;var ho=fo(0),_o=fo(1),po=fo(2),go=fo(3),yo=fo(4),mo=fo(5),bo=fo(6);ho.range,_o.range,po.range,go.range,yo.range,mo.range,bo.range;var vo=Ra((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));vo.range;var xo=Ra((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function wo(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ko(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Mo(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}xo.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ra((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null},xo.range;var To,Ao,No,So,Eo,Co={"-":"",_:" ",0:"0"},zo=/^\s*\d+/,Do=/^%/,Fo=/[\\^$*+?|[\]().{}]/g;function Oo(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Po(t){return t.replace(Fo,"\\$&")}function Lo(t){return new RegExp("^(?:"+t.map(Po).join("|")+")","i")}function jo(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Ho(t,e,n){var r=zo.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function qo(t,e,n){var r=zo.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Uo(t,e,n){var r=zo.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ro(t,e,n){var r=zo.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Bo(t,e,n){var r=zo.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Yo(t,e,n){var r=zo.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Io(t,e,n){var r=zo.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Wo(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function $o(t,e,n){var r=zo.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Vo(t,e,n){var r=zo.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Xo(t,e,n){var r=zo.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Go(t,e,n){var r=zo.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Zo(t,e,n){var r=zo.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Qo(t,e,n){var r=zo.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Jo(t,e,n){var r=zo.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ko(t,e,n){var r=zo.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function tl(t,e,n){var r=zo.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function el(t,e,n){var r=Do.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function nl(t,e,n){var r=zo.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function rl(t,e,n){var r=zo.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function il(t,e){return Oo(t.getDate(),e,2)}function al(t,e){return Oo(t.getHours(),e,2)}function ol(t,e){return Oo(t.getHours()%12||12,e,2)}function ll(t,e){return Oo(1+Qa.count(lo(t),t),e,3)}function ul(t,e){return Oo(t.getMilliseconds(),e,3)}function cl(t,e){return ul(t,e)+"000"}function sl(t,e){return Oo(t.getMonth()+1,e,2)}function fl(t,e){return Oo(t.getMinutes(),e,2)}function dl(t,e){return Oo(t.getSeconds(),e,2)}function hl(t){var e=t.getDay();return 0===e?7:e}function _l(t,e){return Oo(Ka.count(lo(t)-1,t),e,2)}function pl(t){var e=t.getDay();return e>=4||0===e?ro(t):ro.ceil(t)}function gl(t,e){return t=pl(t),Oo(ro.count(lo(t),t)+(4===lo(t).getDay()),e,2)}function yl(t){return t.getDay()}function ml(t,e){return Oo(to.count(lo(t)-1,t),e,2)}function bl(t,e){return Oo(t.getFullYear()%100,e,2)}function vl(t,e){return Oo((t=pl(t)).getFullYear()%100,e,2)}function xl(t,e){return Oo(t.getFullYear()%1e4,e,4)}function wl(t,e){var n=t.getDay();return Oo((t=n>=4||0===n?ro(t):ro.ceil(t)).getFullYear()%1e4,e,4)}function kl(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Oo(e/60|0,"0",2)+Oo(e%60,"0",2)}function Ml(t,e){return Oo(t.getUTCDate(),e,2)}function Tl(t,e){return Oo(t.getUTCHours(),e,2)}function Al(t,e){return Oo(t.getUTCHours()%12||12,e,2)}function Nl(t,e){return Oo(1+so.count(xo(t),t),e,3)}function Sl(t,e){return Oo(t.getUTCMilliseconds(),e,3)}function El(t,e){return Sl(t,e)+"000"}function Cl(t,e){return Oo(t.getUTCMonth()+1,e,2)}function zl(t,e){return Oo(t.getUTCMinutes(),e,2)}function Dl(t,e){return Oo(t.getUTCSeconds(),e,2)}function Fl(t){var e=t.getUTCDay();return 0===e?7:e}function Ol(t,e){return Oo(ho.count(xo(t)-1,t),e,2)}function Pl(t){var e=t.getUTCDay();return e>=4||0===e?yo(t):yo.ceil(t)}function Ll(t,e){return t=Pl(t),Oo(yo.count(xo(t),t)+(4===xo(t).getUTCDay()),e,2)}function jl(t){return t.getUTCDay()}function Hl(t,e){return Oo(_o.count(xo(t)-1,t),e,2)}function ql(t,e){return Oo(t.getUTCFullYear()%100,e,2)}function Ul(t,e){return Oo((t=Pl(t)).getUTCFullYear()%100,e,2)}function Rl(t,e){return Oo(t.getUTCFullYear()%1e4,e,4)}function Bl(t,e){var n=t.getUTCDay();return Oo((t=n>=4||0===n?yo(t):yo.ceil(t)).getUTCFullYear()%1e4,e,4)}function Yl(){return"+0000"}function Il(){return"%"}function Wl(t){return+t}function $l(t){return Math.floor(+t/1e3)}To=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,u=t.shortMonths,c=Lo(i),s=jo(i),f=Lo(a),d=jo(a),h=Lo(o),_=jo(o),p=Lo(l),g=jo(l),y=Lo(u),m=jo(u),b={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:il,e:il,f:cl,g:vl,G:wl,H:al,I:ol,j:ll,L:ul,m:sl,M:fl,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Wl,s:$l,S:dl,u:hl,U:_l,V:gl,w:yl,W:ml,x:null,X:null,y:bl,Y:xl,Z:kl,"%":Il},v={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:Ml,e:Ml,f:El,g:Ul,G:Bl,H:Tl,I:Al,j:Nl,L:Sl,m:Cl,M:zl,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Wl,s:$l,S:Dl,u:Fl,U:Ol,V:Ll,w:jl,W:Hl,x:null,X:null,y:ql,Y:Rl,Z:Yl,"%":Il},x={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=_[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:Xo,e:Xo,f:tl,g:Io,G:Yo,H:Zo,I:Zo,j:Go,L:Ko,m:Vo,M:Qo,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=s[r[0].toLowerCase()],n+r[0].length):-1},q:$o,Q:nl,s:rl,S:Jo,u:qo,U:Uo,V:Ro,w:Ho,W:Bo,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:Io,Y:Yo,Z:Wo,"%":el};function w(t,e){return function(n){var r,i,a,o=[],l=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++l<c;)37===t.charCodeAt(l)&&(o.push(t.slice(u,l)),null!=(i=Co[r=t.charAt(++l)])?r=t.charAt(++l):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),u=l+1);return o.push(t.slice(u,l)),o.join("")}}function k(t,e){return function(n){var r,i,a=Mo(1900,void 0,1);if(M(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=ko(Mo(a.y,0,1))).getUTCDay(),r=i>4||0===i?_o.ceil(r):_o(r),r=so.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=wo(Mo(a.y,0,1))).getDay(),r=i>4||0===i?to.ceil(r):to(r),r=Qa.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?ko(Mo(a.y,0,1)).getUTCDay():wo(Mo(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,ko(a)):wo(a)}}function M(t,e,n,r){for(var i,a,o=0,l=e.length,u=n.length;o<l;){if(r>=u)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=x[i in Co?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),v.x=w(n,v),v.X=w(r,v),v.c=w(e,v),{format:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",v);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Ao=To.format,No=To.parse,So=To.utcFormat,Eo=To.utcParse;var Vl="%Y-%m-%dT%H:%M:%S.%LZ";function Xl(t){throw new TypeError("Expected a value of type string but got a value of type "+typeof t)}function Gl(t){return function(e){return"string"!=typeof e&&Xl(e),(e=e.trim())?t(e):null}}Date.prototype.toISOString||So(Vl),+new Date("2000-01-01T00:00:00.000Z")||Eo(Vl);var Zl=new Date(1972,3,27,19,45,5),Ql={"%b %d":[{regex:/^june\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,5,t.split(/\s/)[1])}},{regex:/^july\s(3[01]|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,6,t.split(/\s/)[1])}},{regex:/^sept\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,8,t.split(/\s/)[1])}}],"%d %b":[{regex:/^(0?[1-9]|[1-9][0-9])\sjune$/i,toDate:function(t){return new Date(null,5,t.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\sjuly$/i,toDate:function(t){return new Date(null,6,t.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\ssept$/i,toDate:function(t){return new Date(null,8,t.split(/\s/)[0])}}]};function Jl(t){return function(e){var n=null;return t.forEach((function(t){e.match(t.regex)&&(n=t.toDate(e))})),n}}function Kl(t,e){var n,r=No(t),i=Ao(t);return n=Gl("function"==typeof e?function(t){return e(t,null!==r(t))}:function(t){return null!==r(t)}),Object.freeze({test:n,parse:Gl((function(e){return r(e)||(Ql[t]?Jl(Ql[t])(e):null)})),format:function(t){return i(t)},type:"datetime",description:t,id:"datetime$"+t,example:i(Zl)})}var tu=Object.freeze([Kl("%Y-%m-%dT%H:%M:%S.%LZ"),Kl("%d/%m/%Y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),Kl("%d/%m/%y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&!isNaN(n[2])})),Kl("%m/%d/%Y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3})),Kl("%m/%d/%y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),Kl("%Y/%m/%d",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12&&n[2]>0&&n[2]<=31})),Kl("%d-%m-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),Kl("%d-%m-%y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&!isNaN(n[2])})),Kl("%m-%d-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3})),Kl("%m-%d-%y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),Kl("%Y-%m-%d",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12&&n[2]>0&&n[2]<=31})),Kl("%d %b %Y",(function(t,e){if(!e)return!1;var n=t.split(" ").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),Kl("%d %B %Y",(function(t,e){if(!e)return!1;var n=t.split(" ").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),Kl("%d %b %y"),Kl("%d %B %y"),Kl("%d-%b-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),Kl("%d-%B-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),Kl("%d-%b-%y"),Kl("%d-%B-%y"),Kl("%m/%Y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>=1e3})),Kl("%m/%y"),Kl("%b %Y",(function(t,e){return!!e&&t.split(" ").map(parseFloat)[1]>=1e3})),Kl("%B %Y",(function(t,e){return!!e&&t.split(" ").map(parseFloat)[1]>=1e3})),Kl("%b %y"),Kl("%B %y"),Kl("%d %b",(function(t,e){return!!e||!!Jl(Ql["%d %b"])(t)})),Kl("%d %B"),Kl("%b %d",(function(t,e){return!!e||!!Jl(Ql["%b %d"])(t)})),Kl("%B %d"),Kl("%d-%m",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12})),Kl("%m-%d"),Kl("%d/%m"),Kl("%m/%d"),Kl("%Y",(function(t,e){if(!e)return!1;var n=parseFloat(t);return n>1499&&n<2200})),Kl("%B"),Kl("%b"),Kl("%X"),Kl("%I:%M %p"),Kl("%H:%M"),Kl("%H:%M:%S"),Kl("%-I%p"),Kl("Q%q %Y",(function(t,e){return!!e&&6===t.replace(/\s/g,"").length})),Kl("%Y Q%q",(function(t,e){return!!e&&6===t.replace(/\s/g,"").length}))]);function eu(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function nu(t){return(t=eu(Math.abs(t)))?t[1]:NaN}var ru,iu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function au(t){if(!(e=iu.exec(t)))throw new Error("invalid format: "+t);var e;return new ou({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ou(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function lu(t,e){var n=eu(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}au.prototype=ou.prototype,ou.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var uu={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return lu(100*t,e)},r:lu,s:function(t,e){var n=eu(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(ru=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+eu(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function cu(t){return t}var su,fu,du,hu=Array.prototype.map,_u=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function pu(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?cu:(e=hu.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(t.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?cu:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(hu.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=au(t)).fill,n=t.align,f=t.sign,d=t.symbol,h=t.zero,_=t.width,p=t.comma,g=t.precision,y=t.trim,m=t.type;"n"===m?(p=!0,m="g"):uu[m]||(void 0===g&&(g=12),y=!0,m="g"),(h||"0"===e&&"="===n)&&(h=!0,e="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",v="$"===d?a:/[%p]/.test(m)?u:"",x=uu[m],w=/[defgprs%]/.test(m);function k(t){var i,a,u,d=b,k=v;if("c"===m)k=x(t)+k,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?s:x(Math.abs(t),g),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==f&&(M=!1),d=(M?"("===f?f:c:"-"===f||"("===f?"":f)+d,k=("s"===m?_u[8+ru/3]:"")+k+(M&&"("===f?")":""),w)for(i=-1,a=t.length;++i<a;)if(48>(u=t.charCodeAt(i))||u>57){k=(46===u?o+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}p&&!h&&(t=r(t,1/0));var T=d.length+t.length+k.length,A=T<_?new Array(_-T+1).join(e):"";switch(p&&h&&(t=r(A+t,A.length?_-k.length:1/0),A=""),n){case"<":t=d+t+k+A;break;case"=":t=d+A+t+k;break;case"^":t=A.slice(0,T=A.length>>1)+d+t+k+A.slice(T);break;default:t=A+d+t+k}return l(t)}return g=void 0===g?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return t+""},k}return{format:f,formatPrefix:function(t,e){var n=f(((t=au(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(nu(e)/3))),i=Math.pow(10,-r),a=_u[8+r/3];return function(t){return n(i*t)+a}}}}function gu(t){return Math.max(0,-nu(Math.abs(t)))}function yu(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(nu(e)/3)))-nu(Math.abs(t)))}function mu(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,nu(e)-nu(t))+1}!function(t){su=pu(t),fu=su.format,du=su.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var bu={test:Gl((function(t){return/^(\+|-)?\d{1,3}(,\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Gl((function(t){return parseFloat(t.replace(/,/g,""))})),description:"Comma thousand separator, point decimal mark",thousand_separator:",",decimal_mark:".",id:"number$comma_point",example:"12,235.56"},vu={test:Gl((function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Gl((function(t){return parseFloat(t.replace(/\s/g,""))})),description:"Space thousand separator, point decimal mark",thousand_separator:" ",decimal_mark:".",id:"number$space_point",example:"12 235.56"},xu={test:Gl((function(t){return/^(\+|-)?\d+(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Gl((function(t){return parseFloat(t)})),description:"No thousand separator, point decimal mark",thousand_separator:"",decimal_mark:".",id:"number$none_point",example:"12235.56"},wu={test:Gl((function(t){return/^(\+|-)?\d{1,3}(\.\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Gl((function(t){return parseFloat(t.replace(/\./g,"").replace(/,/,"."))})),description:"Point thousand separator, comma decimal mark",thousand_separator:".",decimal_mark:",",id:"number$point_comma",example:"12.235,56"},ku={test:Gl((function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Gl((function(t){return parseFloat(t.replace(/\s/g,"").replace(/,/,"."))})),description:"Space thousand separator, comma decimal mark",thousand_separator:" ",decimal_mark:",",id:"number$space_comma",example:"12 235,56"},Mu={test:Gl((function(t){return/^(\+|-)?\d+(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Gl((function(t){return parseFloat(t.replace(/,/,"."))})),description:"No thousand separator, comma decimal mark",thousand_separator:"",decimal_mark:",",id:"number$none_comma",example:"12235,56"},Tu=Object.freeze([bu,vu,wu,ku,xu,Mu]);Tu.forEach((function(t){t.type="number",t.format=function(t){var e,n,r=pu({decimal:t.decimal_mark,thousands:t.thousand_separator,grouping:[3],currency:["",""]});return function(t,i){return i||(i=",.2f"),i!==n&&(n=i,e=r.format(n)),e(t)}}(t),Object.freeze(t)}));var Au,Nu=Object.freeze({test:function(t){return"string"==typeof t||Xl(t)},parse:function(t){return"string"==typeof t?t:Xl(t)},format:function(t){if("string"==typeof t)return t},type:"string",description:"Arbitrary string",id:"string$arbitrary_string"}),Su=Object.freeze({datetime:tu,number:Tu}),Eu=Object.freeze(["datetime","number","string"]),Cu=Object.freeze({n_max:250,n_failing_values:0,failure_fraction:.05,sort:!0}),zu=Object.freeze(Object.keys(Cu));function Du(t,e){return t.index-e.index}function Fu(t,e){return e.n_success-t.n_success||Du(t,e)}function Ou(t){return(""+t).trim()}function Pu(t){return void 0===t?function(t){return Ou(t)}:"function"==typeof t?function(e,n){return Ou(t(e,n))}:function(e){return Ou(e[""+t])}}function Lu(t){t?Array.isArray(t)||(t=[t]):t=Eu;var e=t.reduce((function(t,e){var n=Su[e];return n&&Array.prototype.push.apply(t,n),t}),[]),n=-1!==t.indexOf("string"),r=zu.reduce((function(t,e){return t[e]=Cu[e],t}),{}),i=function(t,i){i=Pu(i);var a=t.map(i).filter((function(t){return t}));if(!a.length)return n?[Nu]:[];var o=Math.min(r.n_max,a.length),l=Math.floor(o*r.failure_fraction),u=r.n_failing_values,c=r.sort?Fu:Du,s=e.slice().reduce((function(t,e,n){for(var r=s=0,i=[],c=!1,s=0;s<o;s++){var f=a[s];if(!e.test(f)&&(++r>l?c=!0:-1===i.indexOf(f)&&(i.push(f),i.length>u&&(c=!0)),c))break}return c||t.push({interp:e,n_success:o-r,index:n}),t}),[]).sort(c).map((function(t){return t.interp}));return n&&s.push(Nu),s};return zu.forEach((function(t){var e;i[(e=t,e.replace(/_(\w)/g,(function(t,e){return e.toUpperCase()})))]=function(e){return void 0===e?r[t]:(r[t]=e,i)}})),i}Lu.DATETIME_IDS=Object.freeze(tu.map((function(t){return t.id}))),Lu.NUMBER_IDS=Object.freeze(Tu.map((function(t){return t.id}))),Lu.STRING_IDS=Object.freeze([Nu.id]),Lu.getInterpretation=(Au=tu.concat(Tu,Nu).reduce((function(t,e){return t[e.id]=e,t}),{}),function(t){return Au[t]}),Lu._createAccessorFunction=Pu;const ju=Lu.getInterpretation,Hu=Object.freeze({transform_labels:!1,transform:"multiply",multiply_divide_constant:1,exponentiate_constant:0,multiplier:1,prefix:"",n_dec:2,suffix:"",strip_zeros:!0,strip_separator:!0,negative_sign:"-$nk"});function qu(t,e){const n=ju(e);if(!n)throw new Error(`format_id ${e} not recognised`);if("number"!==n.type)throw new Error(`format_id ${e}not a number format`);const r=n.format,i=n.decimal_mark,a=n.thousand_separator,o=Math.trunc(t.n_dec),l=(a?",":"")+"."+o+"f",u=t.strip_zeros&&o>0?new RegExp("\\"+i+"?0+$"):null,c=t.strip_separator&&a,s=t.negative_sign,f=function(t){let e=1;return t.transform_labels&&(e="multiply"===t.transform?t.multiply_divide_constant:"divide"===t.transform?1/t.multiply_divide_constant:Math.pow(10,t.exponentiate_constant)),function(t){return t*e}}(t);return function(e){const n=o>=0?f(e):function(t,e){if(!(e=e>0?Math.floor(e):Math.ceil(e)))return Math.round(t);const n=Math.pow(10,Math.abs(e));return e>0?Math.round(t*n)/n:Math.round(t/n)*n}(f(e),o),i=n<0,d=Math.abs(n),h=c&&a&&d>=1e3&&d<1e4;let _=r(d,l);return u&&(_=_.replace(u,"")),h&&(_=_.replace(a,"")),i&&"none"!==s?"-$nk"===s?"-"+t.prefix+_+t.suffix:"$-nk"===s?t.prefix+"-"+_+t.suffix:"($nk)"===s?"("+t.prefix+_+t.suffix+")":t.prefix+"("+_+")"+t.suffix:t.prefix+_+t.suffix}}function Uu(){return this.declarations=[],this}function Ru(t){return this.selector=t,this.styles=[],this}Uu.prototype.select=function(t){if(!t)return this;var e=new Ru(t);return e.parent=this,this.addDeclaration(e),e},Uu.prototype.addDeclaration=function(t){return this.declarations.push(t),this},Uu.prototype.print=function(){var t="";return this.declarations.forEach((function(e){t+=e.selector+" {\n",e.styles.forEach((function(e){t+="\t"+e[0]+": "+e[1]+";\n"})),t+="}\n\n"})),t},Uu.prototype.clear=function(){return this.declarations=[],this},Ru.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this},Ru.prototype.select=function(t){return this.parent.select(this.selector+" "+t)};var Bu=!1;function Yu(){if(!Bu&&"undefined"!=typeof document){var t=function(){var t=new Uu;return t.select(".fl-controls-container").style("display","inline-block").style("line-height","1em"),t.select(".fl-controls-title").style("display","inline-block").style("margin","0px 0.5em 0px 0px"),t.select(".fl-controls-container, .fl-controls-container *").style("box-sizing","border-box"),t.select(".slider-holder").style("margin-bottom","20px"),t.select(".fl-controls-slider, .slider-play").style("pointer-events","all").style("display","inline-block").style("vertical-align","middle"),t.select(".slider-play svg").style("height","100%").style("width","100%").style("display","block").style("cursor"," pointer",""),t.select(".fl-controls-slider svg").style("display","block"),t.select(".slider-play:hover").style("opacity","0.6"),t.select(".fl-control-slider").style("width","100%").style("bottom","0").style("align-items","center"),t.select(".fl-control").style("position","relative"),t.select(".fl-control.hidden").style("display","none"),t.select(".fl-control .button").style("display","inline-flex").style("align-items","center").style("background","#eee").style("padding","0 0.5em").style("margin-right","0.25em").style("margin-bottom","0.25em").style("line-height","1em").style("box-sizing","border-box"),t.select(".fl-control.grouped:not(.hidden)").style("display","inline-table").style("table-layout","fixed").select(".button").style("display","table-cell").style("vertical-align","middle").style("margin","0").style("text-align","center"),t.select(".fl-control .button.selected").style("background","#ddd"),t.select(".fl-control-dropdown").style("line-height","1em").style("position","relative"),t.select(".fl-control-dropdown::after").style("display","block").style("content","''").style("width","10px").style("height","10px").style("background","transparent").style("position","absolute").style("right","5px").style("left","auto").style("top","50%").style("pointer-events","none").style("transform","translateY(calc(-50% + 3px))").style("border-left","5px solid transparent").style("border-right","5px solid transparent").style("border-top","5px solid").style("box-sizing","border-box"),t.select(".is-rtl .fl-control-dropdown::after").style("left","5px").style("right","auto"),t.select(".fl-control-dropdown select").style("-webkit-appearance","none").style("-webkit-border-radius","0px").style("width","100%"),t.print()}(),e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.className="flourish-controls",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),Bu=!0}}var Iu,Wu,$u=(Iu=document.createElement("canvas").getContext("2d"),function(t,e){return Iu.font=e||"10px sans-serif",Iu.measureText(t).width});var Vu=Array.prototype.slice;function Xu(t){return t}var Gu=1,Zu=2,Qu=3,Ju=4,Ku=1e-6;function tc(t){return"translate("+(t+.5)+",0)"}function ec(t){return"translate(0,"+(t+.5)+")"}function nc(t){return function(e){return+t(e)}}function rc(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function ic(){return!this.__axis}function ac(t,e){var n=[],r=null,i=null,a=6,o=6,l=3,u=t===Gu||t===Ju?-1:1,c=t===Ju||t===Zu?"x":"y",s=t===Gu||t===Qu?tc:ec;function f(f){var d=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,h=null==i?e.tickFormat?e.tickFormat.apply(e,n):Xu:i,_=Math.max(a,0)+l,p=e.range(),g=+p[0]+.5,y=+p[p.length-1]+.5,m=(e.bandwidth?rc:nc)(e.copy()),b=f.selection?f.selection():f,v=b.selectAll(".domain").data([null]),x=b.selectAll(".tick").data(d,e).order(),w=x.exit(),k=x.enter().append("g").attr("class","tick"),M=x.select("line"),T=x.select("text");v=v.merge(v.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(k),M=M.merge(k.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),T=T.merge(k.append("text").attr("fill","currentColor").attr(c,u*_).attr("dy",t===Gu?"0em":t===Qu?"0.71em":"0.32em")),f!==b&&(v=v.transition(f),x=x.transition(f),M=M.transition(f),T=T.transition(f),w=w.transition(f).attr("opacity",Ku).attr("transform",(function(t){return isFinite(t=m(t))?s(t):this.getAttribute("transform")})),k.attr("opacity",Ku).attr("transform",(function(t){var e=this.parentNode.__axis;return s(e&&isFinite(e=e(t))?e:m(t))}))),w.remove(),v.attr("d",t===Ju||t==Zu?o?"M"+u*o+","+g+"H0.5V"+y+"H"+u*o:"M0.5,"+g+"V"+y:o?"M"+g+","+u*o+"V0.5H"+y+"V"+u*o:"M"+g+",0.5H"+y),x.attr("opacity",1).attr("transform",(function(t){return s(m(t))})),M.attr(c+"2",u*a),T.attr(c,u*_).text(h),b.filter(ic).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Zu?"start":t===Ju?"end":"middle"),b.each((function(){this.__axis=m}))}return f.scale=function(t){return arguments.length?(e=t,f):e},f.ticks=function(){return n=Vu.call(arguments),f},f.tickArguments=function(t){return arguments.length?(n=null==t?[]:Vu.call(t),f):n.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:Vu.call(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(i=t,f):i},f.tickSize=function(t){return arguments.length?(a=o=+t,f):a},f.tickSizeInner=function(t){return arguments.length?(a=+t,f):a},f.tickSizeOuter=function(t){return arguments.length?(o=+t,f):o},f.tickPadding=function(t){return arguments.length?(l=+t,f):l},f}function oc(t){return ac(Qu,t)}var lc=Array.prototype,uc=lc.map,cc=lc.slice;function sc(t){return+t}var fc=[0,1];function dc(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(e)}function hc(t,e,n,r){var i=t[0],a=t[1],o=e[0],l=e[1];return a<i?(i=n(a,i),o=r(l,o)):(i=n(i,a),o=r(o,l)),function(t){return o(i(t))}}function _c(t,e,n,r){var i=Math.min(t.length,e.length)-1,a=new Array(i),o=new Array(i),l=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<i;)a[l]=n(t[l],t[l+1]),o[l]=r(e[l],e[l+1]);return function(e){var n=va(t,e,1,i)-1;return o[n](a[n](e))}}function pc(t){var e=t.domain;return t.ticks=function(t){var n=e();return Na(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return function(t,e,n){var r,i=t[0],a=t[t.length-1],o=Ea(i,a,null==e?10:e);switch((n=au(null==n?",f":n)).type){case"s":var l=Math.max(Math.abs(i),Math.abs(a));return null!=n.precision||isNaN(r=yu(o,l))||(n.precision=r),du(n,l);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=mu(o,Math.max(Math.abs(i),Math.abs(a))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=gu(o))||(n.precision=r-2*("%"===n.type))}return fu(n)}(e(),t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),a=0,o=i.length-1,l=i[a],u=i[o];return u<l&&(r=l,l=u,u=r,r=a,a=o,o=r),(r=Sa(l,u,n))>0?r=Sa(l=Math.floor(l/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=Sa(l=Math.ceil(l*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[a]=Math.floor(l/r)*r,i[o]=Math.ceil(u/r)*r,e(i)):r<0&&(i[a]=Math.ceil(l*r)/r,i[o]=Math.floor(u*r)/r,e(i)),t},t}function gc(){var t=function(t,e){var n,r,i,a=fc,o=fc,l=En,u=!1;function c(){return n=Math.min(a.length,o.length)>2?_c:hc,r=i=null,s}function s(e){return(r||(r=n(a,o,u?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,l)))(+e)}return s.invert=function(t){return(i||(i=n(o,a,dc,u?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},s.domain=function(t){return arguments.length?(a=uc.call(t,sc),c()):a.slice()},s.range=function(t){return arguments.length?(o=cc.call(t),c()):o.slice()},s.rangeRound=function(t){return o=cc.call(t),l=Cn,c()},s.clamp=function(t){return arguments.length?(u=!!t,c()):u},s.interpolate=function(t){return arguments.length?(l=t,c()):l},c()}(dc,Mn);return t.copy=function(){return e=t,gc().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp());var e},pc(t)}function yc(t){this.container=gt(t),this._width=null,this._height=null,this._handleRadius=15,this._channelHeight=5,this._channelRadius=null,this._handleFill="black",this._channelFill="#eee",this._margin={top:null,left:null,right:null},this._domain=[0,1],this._value=null,this._snap=!1,this._scale=null,this._axis=!1,this._ticks=null,this._tickFormat=null,this._tickSize=null,this._label=null,this._labelSize=18,this._startLabel=null,this._startLabelBelow=!1,this._endLabel=null,this._endLabelBelow=!1,this._startEndLabelSize=16,this.handlers={change:[]}}function mc(t){t.length>0&&"_"==t.charAt(0)&&(yc.prototype[t.substr(1)]=function(e){return void 0===e?this[t]:(this[t]=e,this)})}var bc=new yc;for(var vc in bc)mc(vc);function xc(t,e,n,r){if(void 0===n&&(n=0),void 0===r&&(r=t.length),r-n==0)return e;if(r-n==1)return t[n];if(r-n==2)return Math.abs(t[n]-e)<=Math.abs(t[n+1]-e)?t[n]:t[n+1];var i=n+Math.floor((r-n)/2),a=t[i],o=t[i-1];return o<=e&&e<=a?Math.abs(o-e)<=Math.abs(a-e)?o:a:a<=e?xc(t,e,i,r):xc(t,e,n,i)}function wc(t,e){return"boolean"==typeof t?t?Math.round(e):e:xc(t,e)}function kc(t){return new yc(t)}function Mc(t,e,n){var r,i,a,o,l,u,c={},s=gt(n).append("div").attr("class","fl-control fl-control-slider animatable"),f=s.append("div").attr("class","slider-play"),d=s.append("div").attr("class","fl-controls-slider"),h=null,_=function(){clearTimeout(h),h=null},p=function(e){var n=o[e];n.options_index!==t.index()&&(t.index(n.options_index),t.trigger("change"))},g=kc(d.node()).snap(!0).on("change",(function(t){var e=null!==h;e&&_(),p(t),e&&m()})),y=function(){_(),s.classed("playing",!1),f.html(r),t._isPlaying_(!1),u=!1},m=function(){var n=t.getSortedIndex(),r=l[n],i=t.n_options-1,a=n<i?n+1:0;h=setTimeout((function(){p(a),e.slider_loop||a<i?m():y()}),r)},b=function(){s.classed("playing",!0),f.html(i),m(),t._isPlaying_(!0),u=!0};f.on("click",(function(){null===h?b():y()}));var v=function(){return s.style("display","inline-flex"),function(){var t=Math.round(Wu(e.slider_handle_height)/2);s.style("width",Math.round(Wu(e.slider_width))+"px"),f.style("height",2*t+"px").style("width",2*t+"px").style("display",e.slider_play_button?null:"none");var n=s.node().getBoundingClientRect().width,r=f.node().getBoundingClientRect().width;d.style("width",Math.max(n-r,1)+"px").style("height",2*t+"px"),g.handleRadius(t).margin({left:t+5,right:t+Wu(e.slider_margin),top:t})}(),e.slider_play_button?s.classed("animatable",!0):(y(),s.classed("animatable",!1)),a!==e.slider_handle_color&&(g.update(),a=e.slider_handle_color||"currentColor",s.select(".slider-handle").style("fill",a),r='<svg width="25px" height="30px" viewBox="0 0 25 30"> <polygon fill="'+a+'" stroke="none" points="25 15 0 30 0 0"></polygon> </svg>',i='<svg width="26px" height="30px" viewBox="0 0 26 30"> <g stroke="none" stroke-width="1" fill="'+a+'"><rect x="2" y="2" width="9" height="26"></rect> <rect x="15" y="2" width="9" height="26"></rect> </g> </svg>',f.html(h?i:r)),c},x=function(){return y(),s.style("display","none"),c};return c.show=v,c.hide=x,c.update=function(n,r){if(o=n,!t.n_options||"slider"!==e.control_type)return x(),c;r?v():x();var i=t.n_options,a=e.slider_loop;l=o.map((function(t,n){return 1e3*(e.slider_step_time+(a&&n===i-1?e.slider_restart_pause:0))}));var s=t.getSortedIndex(),f=o[s];return g.domain([0,i-1]).value(s).endLabel(f.display).channelHeight(Math.round(Wu(e.slider_track_height))).channelFill(e.slider_background_color).update(),g.container.select("svg").attr("fill","currentColor"),d.select("text.slider-end-labels").style("fill",e.slider_font_color).attr("y","0").attr("dy","0.25em"),t._isPlaying_()&&!u?b():!t._isPlaying_()&&u&&y(),c},c}yc.prototype.margin=function(t){if(!t)return this._margin;for(vc in t){if(!(vc in this._margin))throw"Slider.margin: unrecognised option "+vc;this._margin[vc]=t[vc]}return this},yc.prototype.on=function(t,e){if(!(t in this.handlers))throw"Slider.on: No such event: "+t;return this.handlers[t].push(e),this},yc.prototype.fire=function(t,e){if(!(t in this.handlers))throw"Slider.fire: No such event: "+t;for(var n=this.handlers[t],r=0;r<n.length;r++)n[r].call(this,e);return this},yc.prototype.draw=function(){var t=this,e=this._width,n=this._height,r=this.container.node();if(!e){var i=r.getBoundingClientRect();if(!i||0==i.width)return this;e=i.width,n=i.height}var a,o=null==this._channelRadius?this._channelHeight/2:this._channelRadius,l=null==this._margin.left?Math.max(this._handleRadius,o):this._margin.left,u=null==this._margin.right?Math.max(this._handleRadius,o):this._margin.right,c=null==this._margin.top?Math.max(this._handleRadius,this._channelHeight/2):this._margin.top,s=e-l-u,f=s+2*o,d=1.5*this._labelSize;null!=this._label&&null==this._margin.top&&(c+=d),"http://www.w3.org/2000/svg"==r.namespaceURI?a=this.container:((a=this.container.selectAll("svg").data([{width:e,height:n}])).exit().remove(),(a=a.enter().append("svg").merge(a)).attr("width",(function(t){return t.width})).attr("height",(function(t){return t.height})));var h=a.selectAll("g.slider-container").data([{left:l,top:c,id:this._id}]);h.exit().remove(),(h=h.enter().append("g").attr("class","slider-container").merge(h)).attr("transform",(function(t){return"translate("+t.left+","+t.top+")"})).attr("id",(function(t){return t.id})),this.scale=(this._scale?this._scale():gc()).domain(this._domain).range([0,s]),null==this._value||this._value<this._domain[0]?this._value=this._domain[0]:this._value>this._domain[1]&&(this._value=this._domain[1]),this._snap&&(this._value=wc(this._snap,this._value));var _,p=[];this._axis&&(_="boolean"!=typeof this._axis?this._axis(this.scale):oc().scale(this.scale).tickPadding(6),this._ticks&&_.ticks(this._ticks),this._tickFormat&&_.tickFormat(this._tickFormat),this._tickSize?_.tickSize(this._tickSize):_.tickSize(Math.max(5,this._handleRadius-this._channelHeight-2)),p.push(_));var g,y,m,b,v=h.selectAll(".slider-axis").data(p).enter();function x(){document.removeEventListener("mouseup",x,!1),document.removeEventListener("mousemove",w,!1)}function w(t){T(t.clientX-m)}function k(){document.removeEventListener("touchend",k,!1),document.removeEventListener("touchmove",M,!1)}function M(t){1==t.touches.length&&T(t.touches[0].clientX-m)}function T(e){var n=b+e,r=Math.max(0,Math.min(s,n)),i=t.scale.invert(r);t._snap&&(i=wc(t._snap,i)),y.attr("cx",t.scale(i)),i!=t._value&&(t._value=i,t.fire("change",t._value))}v.append("g").attr("class","slider-axis").attr("transform","translate(0,"+this._channelHeight/2+")").each((function(t){t(gt(this))})),v.select(".domain").attr("fill","none"),v.selectAll(".tick line").attr("stroke","black"),v.exit().remove(),(g=h.selectAll(".slider-channel").data([{width:f,height:this._channelHeight,channel_r:o}])).exit().remove(),g=g.enter().append("rect").attr("class","slider-channel").attr("cursor","pointer").on("click",(function(){var e=Math.max(0,Math.min(s,function(t){var e=bt();return e.changedTouches&&(e=e.changedTouches[0]),function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}(t,e)}(this)[0]));t._value=t.scale.invert(e),t._snap&&(t._value=wc(t._snap,t._value)),y.attr("cx",t.scale(t._value)),t.fire("change",t._value)})).merge(g),g.attr("width",(function(t){return t.width})).attr("fill",this._channelFill).attr("height",(function(t){return t.height})).attr("y",(function(t){return-t.height/2})).attr("x",(function(t){return-t.channel_r})).attr("rx",(function(t){return t.channel_r})),(y=(y=h.selectAll(".slider-handle").data([{v:this._value,x:this.scale(this._value)}])).enter().append("circle").attr("class","slider-handle").attr("cursor","col-resize").merge(y)).attr("cx",(function(t){return t.x})).attr("r",this._handleRadius).attr("fill",this._handleFill).on("mousedown",(function(){at.preventDefault(),function(e){document.addEventListener("mouseup",x,!1),document.addEventListener("mousemove",w,!1),m=e.clientX,b=t.scale(t._value)}(at)})).on("touchstart",(function(){at.preventDefault(),function(e){1==e.touches.length&&(document.addEventListener("touchend",k,!1),document.addEventListener("touchmove",M,!1),m=e.touches[0].clientX,b=t.scale(t._value))}(at)}));var A=[];this._label&&A.push({label:this._label,x:s/2,y:-d,font_size:this._labelSize});var N=h.selectAll(".slider-label").data(A);N.exit().remove(),(N=N.enter().append("text").attr("class","slider-label").attr("text-anchor","middle").attr("cursor","default").merge(N)).text((function(t){return t.label})).attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y})).attr("font-size",this._labelSize);var S=[];this._startLabel&&S.push({label:this._startLabel,x:this._startLabelBelow?0:-(o+5+Math.max(0,this._handleRadius-o)),y:this._startLabelBelow?o+15:this._startEndLabelSize/1.75-o/2,anchor:this._startLabelBelow?"middle":"end",font_size:this._startEndLabelSize}),this._endLabel&&S.push({label:this._endLabel,x:this._endLabelBelow?s:s+(o+Math.max(0,this._handleRadius-o)+5),y:this._startLabelBelow?o+15:this._startEndLabelSize/1.75-o/2,anchor:this._endLabelBelow?"middle":"start",font_size:this._startEndLabelSize});var E=h.selectAll(".slider-end-labels").data(S);return E.exit().remove(),(E=E.enter().append("text").attr("class","slider-end-labels").attr("pointer-events","none").merge(E)).text((function(t){return t.label})).attr("font-size",(function(t){return t.font_size})).attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y})).attr("text-anchor",(function(t){return t.anchor})),this},yc.prototype.update=yc.prototype.draw,kc.version="1.4.2";var Tc=Object.freeze({control_type:"dropdown",control_title:"",dropdown_width_mode:"auto",dropdown_width_fixed:20,button_group:!0,button_group_width_mode:"fixed",button_group_width_fixed:20,slider_width:15,slider_handle_color:null,slider_font_color:null,slider_background_color:"#dddddd",slider_handle_height:1,slider_track_height:.2,slider_margin:4.5,slider_play_button:!0,slider_step_time:2,slider_loop:!0,slider_restart_pause:0,sort:!1,_index_:null,_is_playing_:!1});function Ac(t){return t}function Nc(t){return null==t?"":t.toString()}function Sc(t){var e={},n=Ac,r=Nc,i=[],a=!0,o=[],l=[],u=[],c=document.createElement("div");c.setAttribute("class","fl-controls-container");var s=gt(c).append("div").attr("class","fl-controls-title"),f=function(t,e,n){var r={},i=gt(n).append("div").attr("class","fl-control fl-control-dropdown").style("display","none");const a=i.append("select").on("change",(function(){const e=a.select("option:checked").datum().options_index;t.index(e),t.trigger("change")}));var o=function(t){var r="100%";"auto"==e.dropdown_width_mode?r=Math.min(t+40,Wu(20))+Wu(1)+"px":"fixed"==e.dropdown_width_mode&&(r=Wu(e.dropdown_width_fixed)+"px"),n.style.width="full"==e.dropdown_width_mode?r:"",i.style("width",r).style("display","full"!==e.dropdown_width_mode?"inline-table":null)},l=function(){i.style("display","none")};return r.show=o,r.hide=l,r.update=function(n,i){var u=window.getComputedStyle(a.node()).fontSize;if(!t.n_options||"dropdown"!==e.control_type)return l(),r;const c=a.selectAll("option").data(n,(t=>t.value));c.exit().remove();var s=c.enter().append("option").text((t=>t.display)).attr("value",(t=>t.value));let f=0;const d=u+" sans-serif";return"auto"===e.dropdown_width_mode&&c.merge(s).each((function(t){const e=$u(t.display,d);f=Math.max(f,e)})),a.node().value=t.value(),i?o(f):l(),r},r}(e,t,c),d=function(t,e,n){var r={},i=gt(n).append("div").attr("class","fl-control fl-control-buttons"),a=function(){i.classed("hidden",!1)},o=function(){i.classed("hidden",!0)};return r.show=a,r.hide=o,r.update=function(n,l){if(!t.n_options||"buttons"!==e.control_type)return o(),r;var u=t.index();i.classed("grouped",e.button_group),i.classed("fixed-width","fixed"==e.button_group_width_mode||"full"==e.button_group_width_mode),i.style("width",e.button_group&&"fixed"==e.button_group_width_mode?Wu(e.button_group_width_fixed)+"px":"full"==e.button_group_width_mode?"100%":null);var c=function(e){var n=e.options_index;n!==t.index()&&(t.index(n),t.trigger("change"))},s=i.selectAll(".button").data(n,(function(t){return t.display})),f=s.enter().append("div").attr("class","button").style("cursor","pointer").attr("role","button").attr("tabindex",0).on("click",(function(t){c(t)})).on("keyup",(function(t){"Space"!==at.code&&"Enter"!==at.code||(at.preventDefault(),c(t))}));f.append("span").text((function(t){return t.display})),s.merge(f).classed("selected",(function(t){return t.options_index===u})).attr("aria-pressed",(function(t){return t.options_index===u})),s.exit().remove(),l?a():o()},r}(e,t,c),h=Mc(e,t,c);for(var _ in Tc)void 0===t[_]&&(t[_]=Tc[_]);var p=t._index_;e.appendTo=function(t){return Yu(),gt(t).node().appendChild(c),e};e.remove=function(){return c.parentElement&&c.parentElement.removeChild(c),e},e.options=function(t){if(void 0===t)return o.slice();if(!Array.isArray(t))return e;var n=(o=t.slice()).length,r=g();return n?(null===r||r>=n)&&g(0):g(null),e},Object.defineProperty(e,"n_options",{get:function(){return o.length}});var g=function(n){return void 0===n?(t._is_playing_||(p=t._index_),p):(null===n||function(t){return o.length&&t>=0&&t<o.length}(n)?(p=n,t._is_playing_||(t._index_=p)):console.warn("Invalid index, ignoring update call"),e)};e.index=g,e.getSortedIndex=function(){var e,n=g();return"unsorted"==t.sort?n:(l.some((function(t,r){if(t.options_index===n)return e=r,!0})),e)},e.value=function(t){if(void 0===t)return o[g()];var n=o.indexOf(t);return-1!==n&&g(n),e},e.on=function(t,n){return"change"===t&&u.push(n.bind(e)),e},e.parse=function(t){return void 0===t?n:(n=null===t?Ac:t,e)},e.format=function(t,n){if(void 0===t)return r;if(null===t&&(r=Nc),"string"==typeof t)try{r=function(t){const e=Lu.getInterpretation(t);if(!e)throw new Error(`format_id ${t} not recognised`);return function(){return e.format(...arguments)}}(t)}catch(t){r=Nc,console.warn(t.message)}else r=t;return n&&Array.isArray(n)&&(i=n),e},e.visible=function(t){return void 0===t?a:(a=null===t||t,e)},e.update=function(){var u;return u=parseFloat(getComputedStyle(document.documentElement).fontSize)||16,Wu=function(t){return t*u},l=function(t,e,n,r,i){var a=t.map((function(t,e){return{value:t,options_index:e,parsed:n(t),display:i.includes(t)?t:r(t)}}));return e?a.sort((function(t,e){return function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}(t.parsed,e.parsed)})):a}(o,t.sort,n,r,i),function(e){c.style.display=e.length>1?null:"none",c.style.width="",s.node().innerHTML=t.control_title,s.node().style.display=""===t.control_title?"none":"inline-block",h.update(e,a),f.update(e,a),d.update(e,a)}(l),e},e.trigger=function(t){var n,r;return"change"===t&&(n=g(),r=o[n],u.forEach((function(t){t(r,n)}))),e},e.getNode=function(){return c};return e._isPlaying_=function(e){if(void 0===e)return t._is_playing_;t._is_playing_=!!e,e||g(p)},e}function Ec(){return this.declarations=[],this}function Cc(t){return this.selector=t,this.styles=[],this}Ec.prototype.select=function(t){if(!t)return this;var e=new Cc(t);return e.parent=this,this.addDeclaration(e),e},Ec.prototype.addDeclaration=function(t){return this.declarations.push(t),this},Ec.prototype.print=function(){var t="";return this.declarations.forEach((function(e){t+=e.selector+" {\n",e.styles.forEach((function(e){t+="\t"+e[0]+": "+e[1]+";\n"})),t+="}\n\n"})),t},Ec.prototype.clear=function(){return this.declarations=[],this},Cc.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this},Cc.prototype.select=function(t){return this.parent.select(this.selector+" "+t)};var zc=Object.freeze({font_size:1,font_weight:"bold",height:2});function Dc(t,e,n){for(var r in this._state=t,zc)void 0===this._state[r]&&(this._state[r]=zc[r]);return this._layout=n||{},this._styles=new Ec,this._selector=e,this._createStylesheet(),this}function Fc(t,e){var n=function(t,e){if("string"!=typeof t)return!1;var n=ke(t);return n.opacity=void 0!==e?e:1,n}(t,e);return!!n&&n.toString()}Dc.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-controls",document.head.appendChild(this._stylesheet)},Dc.prototype.update=function(){this._styles.clear(),this._styles.select(this._selector+".hidden").style("display","none"),this._styles.select(this._selector).style("vertical-align","middle").style("position","relative").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(".fl-controls-title").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight).style("vertical-align","middle"),this._styles.select(this._selector+".fl-control .button").style("height",this._state.height+"rem").style("padding","0 0.5em"),this._styles.select(this._selector+"-dropdown select").style("height",this._state.height+"rem").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight).style("padding","0 "+.1*this._state.height+"rem"),this._styles.select(this._selector+"-slider .slider-end-labels").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(this._selector+"-slider").style("height",this._state.height+"rem"),this._stylesheet.innerHTML=this._styles.print()},function(){var t=document.createElement("canvas").getContext("2d")}();var Oc=Object.freeze({background:null,font_color:null,background_selected:"#2886b2",font_color_selected:"#ffffff",background_hover:null,font_color_hover:null,border_width:1,border_transparency:.25,border_color:null,border_radius:3});function Pc(t,e,n){for(var r in this._state=t,Oc)void 0===this._state[r]&&(this._state[r]=Oc[r]);return this._layout=n||{},this._styles=new Ec,this._selector=e,this._createStylesheet(),this}Pc.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-button",document.head.appendChild(this._stylesheet)},Pc.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=Fc(this._state.border_color||e,this._state.border_transparency);this._styles.select(this._selector+".fl-control.hidden").style("display","none"),this._styles.select(this._selector+".fl-control .button").style("overflow","hidden").style("white-space","nowrap").style("margin","0 2px 0 0 !important").style("background-color",t).style("color",e).style("border",this._state.border_width+"px solid "+n).style("border-radius",this._state.border_radius+"px"),this._styles.select(this._selector+".fl-control .button:hover").style("background-color",this._state.background_hover||t).style("color",this._state.font_color_hover||e),this._styles.select(this._selector+".fl-control .button.selected").style("background-color",this._state.background_selected).style("color",this._state.font_color_selected),this._styles.select(this._selector+".grouped.fl-control .button").style("border-right","none").style("border-radius","0").style("margin","0"),this._styles.select(this._selector+".grouped.fl-control .button:first-child").style("border-radius",this._state.border_radius+"px 0 0 "+this._state.border_radius+"px"),this._styles.select(this._selector+".grouped.fl-control .button:last-child").style("border-radius","0 "+this._state.border_radius+"px "+this._state.border_radius+"px 0").style("border-right",this._state.border_width+"px solid "+n),this._styles.select(this._selector+".grouped.fl-control.fixed-width:not(.hidden)").style("width",this._state.grouped_width+"%"),this._stylesheet.innerHTML=this._styles.print()};var Lc=Object.freeze({background:null,font_color:null,border_style:"bottom",border_width:1,border_color:null,border_transparency:.25,border_radius:3});function jc(t,e,n){for(var r in this._state=t,Lc)void 0===this._state[r]&&(this._state[r]=Lc[r]);return this._layout=n||{},this._styles=new Ec,this._selector=e,this._createStylesheet(),this}jc.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-dropdown",document.head.appendChild(this._stylesheet)},jc.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=Fc(this._state.border_color||e,this._state.border_transparency);this._styles.select(this._selector+" .heading").style("margin-bottom","0.4em"),this._styles.select(this._selector).style("pointer-events","all"),this._styles.select(this._selector+" select").style("display","inline-block").style("cursor","pointer").style("overflow","hidden").style("white-space","nowrap").style("position","relative").style("font-family","inherit").style("background-color",t).style("color",e).style("border","bottom"==this._state.border_style?this._state.border_width+"px solid transparent":this._state.border_width+"px solid "+n).style("border-bottom","bottom"==this._state.border_style?this._state.border_width+"px solid "+n:null).style("border-radius","bottom"==this._state.border_style?null:this._state.border_radius+"px"),this._styles.select(this._selector+":after").style("right","bottom"==this._state.border_style?null:this._state.border_width+5+"px"),this._styles.select(this._selector+" .main .current").style("line-height","1em").style("height","100%").style("max-width","88%").style("display","inline-block").style("overflow","hidden").style("vertical-align","top"),this._styles.select(this._selector+" .list").style("top","2px").style("min-width","100%").style("padding","2px").style("display","none").style("max-height","200px").style("overflow-y","auto").style("box-shadow","0 1px 4px rgba(0, 0, 0, .1)").style("margin-top","2px").select(".list-item").style("line-height","1em").style("cursor","pointer").style("font-weight","normal").style("color",e),this._styles.select(this._selector+".open .list").style("display","block").style("border",this._state.border_width+"px solid "+n).style("background-color",t).style("z-index","1").style("animation","dropdown-out 200ms"),this._styles.select(this._selector+" .list-item:hover").style("opacity","0.6"),this._styles.select(this._selector+" .list-item.selected, "+this._selector+" .list-item.selected:hover").style("opacity","1").style("cursor","default"),"bottom"==this._state.border_style&&this._styles.select(this._selector+" .main").style("padding-left",0).style("padding-right","0.1rem"),this._stylesheet.innerHTML=this._styles.print()};var Hc,qc,Uc,Rc=document.createElement("canvas").getContext("2d");function Bc(t,e,n,r){let i=[],a=0;if(null!==n&&n<=0)return i.widest_line=a,i;Rc.font=e;const o=Rc.measureText(t).width;if(o<=r)i.push(t),a=o;else{const e=t.trim().split(/\s+/g);let o="";for(var l=0;l<e.length;l++){const t=e[l];let u=o+(o?" ":"")+t,c=Rc.measureText(u).width;if(!(c<=r)){if(!(i.length+1==n)&&""!=o&&(i.push(o),o=t,c=Rc.measureText(o).width,c<=r)){a=Math.max(a,c);continue}let e=(o||u)+"…",l=Rc.measureText(e).width;for(;l>r&&e.length>2;)e=e.substring(0,e.length-2)+"…",l=Rc.measureText(e).width;a=Math.max(a,l),o=e;break}o=u,a=Math.max(a,c)}i.push(o)}return i.widest_line=a,i}function Yc(){document.body.querySelector(".font-samples").innerHTML=""}function Ic(t){Uc||(Uc=t||["normal","bold"]);var e="";["mobile_big","tablet","desktop","big_screen"].forEach((function(t){var n="@media(min-width: "+As["breakpoint_"+t]+"px) {\n",r="html { font-size:"+As["font_size_"+t]+"%; }";e+=n+r+"\n}\n\n"}));var n="html { \n font-size:"+As.font_size_mobile_small+"%; \n -webkit-font-smoothing: antialiased; \n -moz-osx-font-smoothing: auto; } \n\n\n";Hc.innerHTML=n+e;var r=[As.body_font,As.title_font,As.subtitle_font,As.footer_font];r.forEach((function(t){if(t){for(var e=!1,n=document.head.querySelectorAll("link.layout-font"),r=0;r<n.length;r++){n[r].href==t.url&&(e=!0)}if(!e){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("href",t.url),i.className="layout-font",document.head.appendChild(i),function(t){document.body.querySelector(".font-samples")||((qc=document.createElement("div")).className="font-samples",qc.style.visibility="hidden",qc.style.overflow="hidden",qc.style.height=0,document.body.appendChild(qc)),Uc.forEach((function(e){var n=document.createElement("div");n.className="font-sample-el",n.innerText=t.name,n.style.fontFamily=t.name,n.style.fontWeight=e,qc.appendChild(n)}))}(t)}}}));for(var i=document.head.querySelectorAll("link.layout-font"),a=0;a<i.length;a++){var o=i[a],l=!1;r.forEach((function(t){t&&t.url==o.href&&(l=!0)})),l||o.parentElement.removeChild(o)}document.body.style.fontFamily=As.body_font.name}var Wc,$c,Vc,Xc,Gc,Zc,Qc,Jc,Kc,ts,es=Object.freeze({"stack-default":["header","controls","primary","footer"],"stack-2":["primary","header","controls","footer"],"stack-3":["header","primary","controls","footer"],"stack-4":["controls","primary","header","footer"],"grid-1":{wrapper:{display:"grid","grid-template-rows":"min-content min-content minmax(min-content,auto) min-content","grid-template-columns":"1fr 2fr"},header:{"grid-column-start":1},legend:{"grid-column-start":1},controls:{"grid-column-start":1},primary:{"grid-column-start":2,"grid-row":"1 / -1"},footer:{"grid-column-start":"1","grid-row-start":4}}});function ns(t){return window.innerWidth!==Wc&&(Wc=window.innerWidth,$c=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*$c}function rs(t){return"justify"==t?"":"left"==t?"start":"right"==t?"end":"center"==t?"center":void 0}function is(t){return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")?"http://"+t:t}function as(){return As.header_logo_enabled&&As.header_logo_src}function os(){var t="top"==As.header_border||"top_and_bottom"==As.header_border,e="bottom"==As.header_border||"top_and_bottom"==As.header_border;Vc.style.textAlign=rs(As.header_align),Vc.style.margin=0,Vc.style.borderTop=t?As.header_border_width+"px "+As.header_border_style+" "+As.header_border_color:null,Vc.style.borderBottom=e?As.header_border_width+"px "+As.header_border_style+" "+As.header_border_color:null,Vc.style.paddingTop=t?As.header_border_space+"rem":"",Vc.style.paddingBottom=e?As.header_border_space+"rem":"",Xc.innerHTML=As.title?As.title:"",Xc.setAttribute("id","flourish-header-title"),Xc.style.fontFamily=As.title_font?As.title_font.name:"inherit",Xc.style.fontSize=("custom"!=As.title_size?As.title_size:As.title_size_custom)+"rem",Xc.style.lineHeight=As.title_line_height,Xc.style.fontWeight=As.title_weight,Xc.style.color=As.title_color||As.font_color,Xc.style.margin=0,Xc.style.paddingTop=As.title?("custom"==As.title_space_above?As.title_space_above_custom:As.title_space_above)+"rem":0,Gc.innerHTML=As.subtitle?As.subtitle:"",Gc.setAttribute("id","flourish-header-subtitle"),Gc.style.fontFamily=As.subtitle_font?As.subtitle_font.name:"inherit",Gc.style.fontSize=("custom"!=As.subtitle_size?As.subtitle_size:As.subtitle_size_custom)+"rem",Gc.style.lineHeight=As.subtitle_line_height,Gc.style.fontWeight=As.subtitle_weight,Gc.style.color=As.subtitle_color||As.font_color,Gc.style.margin=0,Gc.style.paddingTop=As.subtitle?("custom"==As.subtitle_space_above?As.subtitle_space_above_custom:As.subtitle_space_above)+"rem":0,Zc.innerHTML=As.header_text?As.header_text:"",Zc.setAttribute("id","flourish-header-text"),Zc.style.fontSize=("custom"!=As.header_text_size?As.header_text_size:As.header_text_size_custom)+"rem",Zc.style.lineHeight=As.header_text_line_height,Zc.style.fontWeight=As.header_text_weight,Zc.style.margin=0,Zc.style.color=As.header_text_color||As.font_color,Zc.style.paddingTop=As.header_text?("custom"==As.header_text_space_above?As.header_text_space_above_custom:As.header_text_space_above)+"rem":0,Qc.style.clear="both",Jc.innerHTML="",as()&&((Kc=Kc||document.createElement("img")).className="flourish-header-logo",Kc.src=is(As.header_logo_src),Kc.alt=As.header_logo_alt,Kc.style.position="inside"==As.header_logo_align?"":"fixed",Kc.style.height=As.header_logo_height+"rem",Kc.style.top="outside"==As.header_logo_align?0:"",Kc.style.left="outside"==As.header_logo_align&&"left"==As.header_logo_position_outside?0:"",Kc.style.right="outside"==As.header_logo_align&&"right"==As.header_logo_position_outside?0:"",Kc.style.marginTop=As.header_logo_margin_top+"rem",Kc.style.marginBottom=As.header_logo_margin_bottom+"rem",Kc.style.marginLeft=As.header_logo_margin_left+"rem",Kc.style.marginRight=As.header_logo_margin_right+"rem",Kc.style.float="top"==As.header_logo_position_inside||"outside"==As.header_logo_align?"":As.header_logo_position_inside,Kc.style.width="auto",As.header_logo_link_url?((ts=document.createElement("a")).target="_blank",ts.appendChild(Kc),Jc.appendChild(ts),Kc.style.cursor="pointer",ts.href=is(As.header_logo_link_url)):Jc.appendChild(Kc))}
/** @preserve
	/////    SAPC APCA - Advanced Perceptual Contrast Algorithm
	/////           Beta 0.1.9 W3 • contrast function only
	/////           DIST: W3 • Revision date: July 3, 2022
	/////    Function to parse color values and determine Lc contrast
	/////    Copyright © 2019-2022 by Andrew Somers. All Rights Reserved.
	/////    LICENSE: W3 LICENSE
	/////    CONTACT: Please use the ISSUES or DISCUSSIONS tab at:
	/////    https://github.com/Myndex/SAPC-APCA/
	/////
	///////////////////////////////////////////////////////////////////////////////
	/////
	/////    MINIMAL IMPORTS:
	/////      import { APCAcontrast, sRGBtoY, displayP3toY,
	/////               calcAPCA, fontLookupAPCA } from 'apca-w3';
	/////      import { colorParsley } from 'colorparsley';
	/////
	/////    FORWARD CONTRAST USAGE:
	/////      Lc = APCAcontrast( sRGBtoY( TEXTcolor ) , sRGBtoY( BACKGNDcolor ) );
	/////    Where the colors are sent as an rgba array [255,255,255,1]
	/////
	/////    Retrieving an array of font sizes for the contrast:
	/////      fontArray = fontLookupAPCA(Lc);
	/////
	/////    Live Demonstrator at https://www.myndex.com/APCA/
	// */
const ls={mainTRC:2.4,get mainTRCencode(){return 1/this.mainTRC},sRco:.2126729,sGco:.7151522,sBco:.072175,normBG:.56,normTXT:.57,revTXT:.62,revBG:.65,blkThrs:.022,blkClmp:1.414,scaleBoW:1.14,scaleWoB:1.14,loBoWoffset:.027,loWoBoffset:.027,deltaYmin:5e-4,loClip:.1,mFactor:1.9468554433171,get mFactInv(){return 1/this.mFactor},mOffsetIn:.0387393816571401,mExpAdj:.283343396420869,get mExp(){return this.mExpAdj/this.blkClmp},mOffsetOut:.312865795870758};function us(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0];function e(t){return Math.pow(t/255,ls.mainTRC)}return ls.sRco*e(t[0])+ls.sGco*e(t[1])+ls.sBco*e(t[2])}function cs(t,e){if("string"!=typeof t)return!1;var n=ke(t);return n.opacity=void 0!==e?e:1,n}function ss(t,e){if(!t||!e)return void console.warn("No valid color",t,e);const n=us(Object.values(cs(t))),r=us(Object.values(cs(e)));return Math.abs(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;const r=[0,1.1];if(isNaN(t)||isNaN(e)||Math.min(t,e)<r[0]||Math.max(t,e)>r[1])return 0;let i=0,a=0,o="BoW";return t=t>ls.blkThrs?t:t+Math.pow(ls.blkThrs-t,ls.blkClmp),e=e>ls.blkThrs?e:e+Math.pow(ls.blkThrs-e,ls.blkClmp),Math.abs(e-t)<ls.deltaYmin?0:(e>t?(i=(Math.pow(e,ls.normBG)-Math.pow(t,ls.normTXT))*ls.scaleBoW,a=i<ls.loClip?0:i-ls.loBoWoffset):(o="WoB",i=(Math.pow(e,ls.revBG)-Math.pow(t,ls.revTXT))*ls.scaleWoB,a=i>-ls.loClip?0:i+ls.loWoBoffset),n<0?100*a:0==n?Math.round(100*Math.abs(a))+"<sub>"+o+"</sub>":Number.isInteger(n)?(100*a).toFixed(n):0)}(n,r))}var fs,ds,hs,_s,ps,gs=!1;function ys(){var t;return(t=document.createElement("style")).type="text/css",t.innerHTML=".flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }",document.head.appendChild(t),(fs=document.createElement("footer")).className="flourish-footer",(ds=document.createElement("div")).className="flourish-footer-text",ds.setAttribute("id","flourish-footer-text"),(hs=document.createElement("div")).className="flourish-footer-logo-container",fs.appendChild(ds),fs.appendChild(hs),fs}function ms(){return As.background_color_enabled&&!function(t){if(!t)return void console.warn("No valid color",t);const e=ss("#000000",t);return ss("#ffffff",t)<e}(As.background_color)}function bs(){var t=As.footer_logo_src?As.footer_logo_src:"";return As.footer_logo_src_light&&ms()&&(t=As.footer_logo_src_light),t}function vs(){return As.footer_logo_enabled&&bs()}function xs(){var t=[{name:As.source_name,url:As.source_url},{name:As.multiple_sources?As.source_name_2:"",url:As.multiple_sources?As.source_url_2:""},{name:As.multiple_sources?As.source_name_3:"",url:As.multiple_sources?As.source_url_3:""}].filter((function(t){return t.name||t.url}));gs=t.length>0||As.footer_note||As.footer_note_secondary||vs();var e,n="top"==As.footer_border||"top_and_bottom"==As.footer_border,r="bottom"==As.footer_border||"top_and_bottom"==As.footer_border;fs.style.display="flex",fs.style.height=gs?null:0,fs.style.width="100%",fs.style.paddingTop=n?As.footer_border_space+"rem":"",fs.style.paddingBottom=r?As.footer_border_space+"rem":"",fs.style.borderTop=n?As.footer_border_width+"px "+As.footer_border_style+" "+As.footer_border_color:"",fs.style.borderBottom=r?As.footer_border_width+"px "+As.footer_border_style+" "+As.footer_border_color:"",fs.style.fontFamily=As.footer_font?As.footer_font.name:"inherit",fs.style.fontWeight=As.footer_text_weight,fs.style.justifyContent="justify"==(e=As.footer_align)?"space-between":"left"==e?"flex-start":"right"==e?"flex-end":"center"==e?"center":void 0,fs.style.fontSize=As.footer_text_size+"rem",fs.style.color=As.footer_text_color||As.font_color,fs.style.alignItems=As.footer_align_vertical;var i=document.createElement("span");t.forEach((function(t,e){var n=document.createElement("p");if(e>0&&(n.innerText=", "),t.url){var r=document.createElement("a");r.innerText=t.name||t.url,r.href=is(t.url),r.target="_blank",n.appendChild(r)}else n.innerText+=t.name||t.url;i.innerHTML+=n.innerHTML})),ds.style.order="left"==As.footer_logo_order?2:"",ds.style.textAlign=rs(As.footer_align);var a="<p>";a+=""!==i.innerHTML?As.source_label+" "+i.innerHTML:"",a+=As.footer_note?(""!==i.innerHTML?" • ":"")+As.footer_note:"",a+="</p>",a+=As.footer_note_secondary?"<br /><p>"+As.footer_note_secondary+"</p>":"",ds.innerHTML=a,hs.innerHTML="",vs()&&((_s=_s||document.createElement("img")).className="flourish-footer-logo",_s.src=is(bs()),_s.alt=As.footer_logo_alt,_s.style.height=As.footer_logo_height+"rem",_s.style.marginRight="left"==As.footer_logo_order?As.footer_logo_margin+"rem":"",_s.style.marginLeft="right"==As.footer_logo_order?As.footer_logo_margin+"rem":"",_s.style.verticalAlign=As.footer_align_vertical,_s.style.display=vs()?"":"none",As.footer_logo_link_url?((ps=document.createElement("a")).target="_blank",ps.appendChild(_s),hs.appendChild(ps),_s.style.cursor="pointer",ps.href=is(As.footer_logo_link_url)):hs.appendChild(_s))}function ws(){Ic(),os(),xs(),document.body.style.backgroundColor=As.background_color_enabled?As.background_color:"transparent",document.body.style.backgroundImage=As.background_image_enabled?"url("+As.background_image_src+")":"",document.body.style.backgroundSize=As.background_image_size,document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition=As.background_image_position;var t=Ds.wrapper.style;t.display="flex",t.height="100vh",t.color=As.font_color,t.maxWidth="wrapper"==As.max_width_target?As.max_width+"px":"",t.marginLeft="wrapper"==As.max_width_target&&"left"!=As.max_width_align?"auto":"",t.marginRight="wrapper"==As.max_width_target&&"right"!=As.max_width_align?"auto":"",t.padding=As.margin_top+"rem "+As.margin_right+"rem "+As.margin_bottom+"rem "+As.margin_left+"rem",t.borderTop=As.border.enabled?As.border.top.width+"px "+As.border.top.style+" "+As.border.top.color:"",t.borderRight=As.border.enabled?As.border.right.width+"px "+As.border.right.style+" "+As.border.right.color:"",t.borderBottom=As.border.enabled?As.border.bottom.width+"px "+As.border.bottom.style+" "+As.border.bottom.color:"",t.borderLeft=As.border.enabled?As.border.left.width+"px "+As.border.left.style+" "+As.border.left.color:"";var e=Ds.primary.outer.style,n=Ds.legend.outer.style,r=parseFloat(e.order)>parseFloat(n.order)?"above":"below",i=ks();if("stack"==i.mode)i.elements.forEach((function(t,e){Ds[t].outer.style.order=10*e}));else for(var a in i.elements)for(var o in i.elements[a]){var l=Ds[a].outer||Ds[a];l.style[o]=i.elements[a][o],l.style.order=""}Ds.header.outer.style.display="",Ds.footer.outer.style.display="",Ds.controls.outer.style.display="",e.display="flex",n.display="",e.flex="1 1 auto",e.height=null,Qs(r),Ds.primary.outer.style.maxWidth="primary"==As.max_width_target?As.max_width+"px":"",Ds.primary.outer.style.marginLeft="primary"==As.max_width_target&&"left"!=As.max_width_align?"auto":"",Ds.primary.outer.style.marginRight="primary"==As.max_width_target&&"right"!=As.max_width_align?"auto":"";var u=""!=As.screenreader_text_primary.trim(),c=document.getElementById("fl-layout-primary-description");Ds.primary.outer.setAttribute("aria-label","primary visualisation container"),c.innerText=As.screenreader_text_primary,u?Ds.primary.outer.setAttribute("aria-describedBy","fl-layout-primary-description"):Ds.primary.outer.removeAttribute("aria-describedBy"),As.screenreader_hide_primary?Ds.primary.inner.setAttribute("aria-hidden",!0):Ds.primary.inner.removeAttribute("aria-hidden"),""!=As.screenreader_label.trim()?Ls().setAttribute("aria-label",As.screenreader_label):Ls().removeAttribute("aria-label"),zs.map((function(t){var e=Ds[t],n=e.outer.style;return{name:t,height:Os(e.inner),order:parseFloat(n.order),style:n}})).sort((function(t,e){return t.order-e.order})).filter((function(t){if(t.height||"primary"==t.name)return!0;t.style.paddingBottom="",t.style.paddingTop="",t.style.display="none"})).forEach((function(t,e,n){t.style.width="100%",t.style.paddingTop=e?Ms("padding"):"",t.style.paddingBottom=e<n.length-1?Ms("padding"):""})),Ds.wrapper.style.gridColumnGap=Ms("gap"),Ds.wrapper.style.gridRowGap=Ms("gap"),document.body.setAttribute("dir",As.read_direction),Ds.wrapper.setAttribute("dir",As.read_direction),document.getElementById("fl-layout-wrapper-outer").setAttribute("dir","ltr")}function ks(){var t=window.innerWidth<As.breakpoint_mobile_big,e=As.layout_order.indexOf("grid")>-1,n={id:As.layout_order,mode:e?"grid":"stack",elements:es[As.layout_order]};return t&&e&&(n.id="stack-default",n.mode="stack",n.elements=es["stack-default"]),n}function Ms(t){var e,n=ks();return e="custom"==As.space_between_sections?As.space_between_sections_custom:As.space_between_sections,"grid"==n.mode?"gap"==t?e+"rem":"":"gap"==t?"":e/2+"rem"}var Ts=Object.freeze({body_font:{name:"Source Sans Pro",url:"https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700"},title_font:null,subtitle_font:null,footer_font:null,read_direction:"ltr",border:{enabled:!1,top:{width:1,color:"#dddddd",style:"solid"},right:{width:1,color:"#dddddd",style:"solid"},bottom:{width:1,color:"#dddddd",style:"solid"},left:{width:1,color:"#dddddd",style:"solid"}},layout_order:"stack-default",margin_top:.75,margin_right:.75,margin_bottom:.75,margin_left:.75,space_between_sections:1,space_between_sections_custom:1,background_color_enabled:!0,background_color:"#ffffff",background_image_enabled:!1,background_image_src:"",background_image_size:"cover",background_image_position:"center center",max_width:600,max_width_target:"none",max_width_align:"center",breakpoint_mobile_small:0,breakpoint_mobile_big:380,breakpoint_tablet:580,breakpoint_desktop:1080,breakpoint_big_screen:1280,font_color:"#333333",font_size_mobile_small:62.5,font_size_mobile_big:75,font_size_tablet:87.5,font_size_desktop:100,font_size_big_screen:120,header_align:"left",header_border:"none",header_border_width:1,header_border_color:"#dddddd",header_border_style:"solid",header_border_space:.5,header_logo_enabled:!1,header_logo_align:"inside",header_logo_src:"",header_logo_alt:"Header logo",header_logo_link_url:"",header_logo_height:3,header_logo_position_inside:"left",header_logo_position_outside:"left",header_logo_margin_top:.25,header_logo_margin_right:.5,header_logo_margin_bottom:0,header_logo_margin_left:0,title:"",title_size:1.6,title_size_custom:1.6,title_line_height:1.2,title_color:null,title_weight:"bold",title_space_above:0,title_space_above_custom:1.5,title_styling:!1,subtitle:"",subtitle_size:1.6,subtitle_size_custom:1.6,subtitle_line_height:1.2,subtitle_color:null,subtitle_weight:"normal",subtitle_space_above:0,subtitle_space_above_custom:1.5,subtitle_styling:!1,header_text:"",header_text_size:1.2,header_text_size_custom:1.2,header_text_line_height:1.2,header_text_color:null,header_text_weight:"normal",header_text_space_above:.5,header_text_space_above_custom:1.5,source_label:"Source: ",source_name:"",source_url:"",source_name_2:"",source_url_2:"",source_name_3:"",source_url_3:"",footer_note:"",footer_note_secondary:"",footer_text_size:1,footer_text_color:null,footer_styling:!1,footer_text_weight:"normal",footer_align:"justify",footer_align_vertical:"center",footer_border:"none",footer_border_width:1,footer_border_color:"#dddddd",footer_border_style:"solid",footer_border_space:.5,footer_logo_enabled:!1,footer_logo_src:"",footer_logo_src_light:"",footer_logo_alt:"Footer logo",footer_logo_link_url:"",footer_logo_height:1.5,footer_logo_margin:.25,footer_logo_order:"right",screenreader_hide_primary:!0,screenreader_text_primary:"",screenreader_label:""});var As,Ns="Your web browser does not support the features used by this content. Consider updating to a modern browser.";function Ss(t,e,n){Ic(n),t=function(t){return function(){return document.body.classList.add("fl-fonts-loaded"),t.apply(this,arguments)}}(t=t||window.template.update);var r=setTimeout(t,isNaN(e)?500:e),i=[],a=[];document.fonts&&a.push(document.fonts.ready),vs()&&a.push(function(){if(vs())return new Promise((function(t){var e=is(bs());function n(){"undefined"!=typeof Flourish&&Flourish.warn&&Flourish.warn("flourish-layout unable to load image: "+e),t()}(_s=_s||document.createElement("img")).onload=function(){t()},_s.onerror=n,_s.oncancel=n,_s.src=e}))}()),as()&&a.push(function(){if(as())return new Promise((function(t){var e=is(As.header_logo_src);function n(){"undefined"!=typeof Flourish&&Flourish.warn&&Flourish.warn("flourish-layout unable to load image: "+e),t()}(Kc=Kc||document.createElement("img")).onload=function(){t()},Kc.onerror=n,Kc.oncancel=n,Kc.src=e}))}()),a.length&&(document.fonts||a.push(new Promise((function(t){setTimeout(t,500)}))),Promise.all(a).then((function(e){if(document.fonts&&e[0].size){var n=function(t){for(var e=t.next(),n=[];e&&!e.done;)n.push(e.value),e=t.next();return n}(e[0].keys()).map((function(t){return Es(t)}));i=i.concat(n),clearTimeout(r),t(),Yc()}document.fonts.addEventListener("loadingdone",(function(e){var n=!1;e.fontfaces.forEach((function(t){var e=Es(t);i.includes(e)||(i.push(e),n=!0)})),n&&(clearTimeout(r),t(),Yc())}))})))}function Es(t){return[t.family,t.variant,t.weight,t.unicodeRange].join(" ")}var Cs,zs=["header","controls","legend","primary","footer"],Ds={};function Fs(t){return t.getBoundingClientRect().width}function Os(t){return t.getBoundingClientRect().height}function Ps(t,e){var n="fl-layout-"+t,r=document.createElement("section");r.className="fl-layout-container",r.id=n+"-container",r.style.width="100%",r.style.position="relative",r.style.order=e;var i=document.createElement("div");return i.className="fl-layout-inner",i.id=n,i.style.width="100%",i.style.position="relative","primary"==t&&(r.style.display="flex",function(t){var e=document.createElement("p");e.id="fl-layout-primary-description";var n=e.style;n.border="0",n.display="none",n.height="1px",n.width="1px",n.margin="-1px",n.overflow="hidden",n.padding="0",n.position="absolute",n.clip="rect(0 0 0 0)",t.appendChild(e)}(r)),r.appendChild(i),Ds.wrapper.appendChild(r),{outer:r,inner:i}}function Ls(){return Ds.wrapper}function js(){return Ds.sidebar}function Hs(t){return-1!==zs.indexOf(t)?Ds[t].inner:null}function qs(t){return Ds[t]||void 0===t?Fs("wrapper"==t||void 0===t?Ds.wrapper:Ds[t].outer):null}function Us(t){return Ds[t]||void 0===t?"wrapper"==t||void 0===t?Fs(Ds.wrapper)-Xs("horizontal")-Gs("horizontal"):Fs(Ds[t].inner):null}function Rs(t){return Ds[t]||void 0===t?Os("wrapper"==t||void 0===t?Ds.wrapper:Ds[t].outer):null}function Bs(t){return Ds[t]||void 0===t?"wrapper"==t||void 0===t?Os(Ds.wrapper)-Xs("vertical")-Gs("vertical"):Os(Ds[t].inner):null}function Ys(){var t="grid"==ks().mode?0:$s(Ds.primary.outer);return Os(Ds.primary.outer)-t}function Is(){return Fs(Ds.primary.inner)}function Ws(){return As.screenreader_hide_primary?"hidden":"readable"}function $s(t){return"grid"==ks().mode?parseFloat(getComputedStyle(Ds.wrapper).gap)||0:(parseFloat(getComputedStyle(t).paddingTop)||0)+(parseFloat(getComputedStyle(t).paddingBottom)||0)}function Vs(){var t=function(){if(Flourish.fixed_height)return window.innerHeight;var t=window.innerWidth;return t>999?650:t>599?575:400}()-Xs("vertical")-Gs("vertical"),e=function(){var t=ks(),e="grid-1"==t.id?[]:["header","controls","legend","footer"];return e.reduce((function(e,n){var r=Rs(n);return r>0&&"grid"==t.mode&&(r+=$s()),e+r}),0)}();return t-e-("grid"==ks().mode?0:$s(Ds.primary.outer))}function Xs(t){var e;return"left"==t?e=As.margin_left:"right"==t?e=As.margin_right:"top"==t?e=As.margin_top:"bottom"==t?e=As.margin_bottom:"horizontal"==t?e=As.margin_left+As.margin_right:"vertical"==t&&(e=As.margin_top+As.margin_bottom),ns(e)}function Gs(t){return As.border.enabled?"vertical"==t?As.border.top.width+As.border.bottom.width:"horizontal"==t?As.border.left.width+As.border.right.width:null:0}function Zs(t){var e=Ds.primary;if(Flourish.fixed_height||void 0===Flourish.fixed_height)e.inner.style.height="";else{var n=null===t,r=n?Vs():t;r+$s(Ds.primary.outer)!==parseFloat(e.outer.style.height)&&(Ds.wrapper.style.height="",e.outer.style.flex="",e.inner.style.height=r+"px",Flourish.setHeight(n?null:Rs()))}}function Qs(t){var e=parseFloat(Ds.primary.outer.style.order);Ds.legend.outer.style.order=e+1*("below"===t.trim().toLowerCase()?1:-1)}function Js(t){var e=Cs.querySelector(".fl-layout-overlay-message");if(t){Cs.style.display="block";var n="string"==typeof t?t:Ns;e.innerHTML=n}else e.textContent="",Cs.style.display="none"}function Ks(){return Cs}let tf;function ef(){tf&&nf(),tf=function(t,e){if("string"==typeof t&&(t=document.querySelector(t)),!t)return console.error("No valid target in createScreenshotSVG"),null;const{width:n,height:r,x:i,y:a}=t.getBoundingClientRect(),o=document.createElementNS("http://www.w3.org/2000/svg","svg");return o.id=e,o.classList.add("flourish-screenshot-svg-container"),o.style.left=i+"px",o.style.top=a+"px",o.style.width=n+"px",o.style.height=r+"px",o.style.position="absolute",t.appendChild(o),{addTextElements:function(e){if("string"==typeof e&&(e=t.querySelectorAll(e)),!e)return console.error("No valid els inside addTextElements"),null;for(const t of e){const{x:e,y:n,width:r}=t.getBoundingClientRect(),i=document.createElementNS("http://www.w3.org/2000/svg","text"),{color:a,"font-family":l,"font-size":u,"font-weight":c,"line-height":s,"padding-left":f,"padding-top":d}=window.getComputedStyle(t),h=`${c} ${u} ${l}`,_=Bc(t.innerText,h,null,Math.ceil(r)),p=isNaN(parseFloat(s))?1.2*parseFloat(u)+"px":s,g=window.getComputedStyle(t.closest("[style*='opacity']")||t).opacity;_.forEach(((t,n)=>{const r=document.createElementNS("http://www.w3.org/2000/svg","tspan");r.innerHTML=t,r.setAttribute("dy",0===n?parseFloat(d):p),r.setAttribute("dx",parseFloat(f)),r.setAttribute("x",e),r.setAttribute("opacity",g),i.appendChild(r)})),i.style.dominantBaseline="text-before-edge",i.setAttribute("x",e+"px"),i.setAttribute("y",n+"px"),i.setAttribute("font-family",l),i.setAttribute("font-size",u),i.setAttribute("font-weight",c),i.setAttribute("fill",a),o.appendChild(i)}return this},addCircleElements:function(e){if("string"==typeof e&&(e=t.querySelectorAll(e)),!e)return console.error("No valid els inside addCircleElements"),null;for(const t of e){const e=document.createElementNS("http://www.w3.org/2000/svg","circle"),{x:n,y:r,width:i}=t.getBoundingClientRect(),a=window.getComputedStyle(t)["background-color"],l=window.getComputedStyle(t.closest("[style*='opacity']")||t).opacity,u=i/2;e.setAttribute("cx",n+u+"px"),e.setAttribute("cy",r+u+"px"),e.setAttribute("r",u+"px"),e.setAttribute("opacity",l),e.setAttribute("fill",a),"rgba(0, 0, 0, 0)"===a&&e.setAttribute("stroke","#CCC"),o.appendChild(e)}return this},addGradient:function(e,n,r){if("string"==typeof e&&(e=t.querySelector(e)),!e)return console.error("No valid els inside addCircleElements"),null;const i=document.createElementNS("http://www.w3.org/2000/svg","g"),{x:a,y:l,width:u,height:c}=e.getBoundingClientRect(),{max:s,min:f}=r,d=s-f;for(let t=0;t<=u;t++){const e=document.createElementNS("http://www.w3.org/2000/svg","line");e.setAttribute("stroke",n(f+t*d/u)),e.setAttribute("x1",t+a),e.setAttribute("y1",l),e.setAttribute("x2",t+a),e.setAttribute("y2",c+l),i.appendChild(e)}return o.appendChild(i),this},remove:function(){o.remove()}}}(this.getWrapper(),"fl-layout-svg-screenshot-container"),tf.addTextElements("#fl-layout-header-container h1"),tf.addTextElements("#fl-layout-header-container h2"),tf.addTextElements("#fl-layout-header-container p"),tf.addTextElements("#fl-layout-footer .flourish-footer-text")}function nf(){tf.remove(),tf=null}function rf(t,e){return Object.keys(e).forEach((function(n){void 0===t[n]&&(t[n]=e[n])})),t}var af=Object.freeze({axis_position:"bottom",y_axis_position:"",numeric_scale_type:"linear",nice:!0,flip:!1,zero_axis:"auto",linear_min:null,linear_max:null,log_min:null,log_max:null,datetime_min:"",datetime_max:"",line_visible:!0,line_and_tick_color:"#eeeeee",line_and_tick_width:.1,tick_side:"out",tick_mode:"auto",tick_number:5,tick_custom:"",tick_length:.5,tick_padding:.25,edge_padding:50,tick_label_position:"default",tick_label_size:1,tick_label_color:"#4A4A4A",tick_label_angle:"45",tick_label_weight:"normal",tick_label_space_mode:"auto",tick_label_space:10,tick_label_max_lines:2,tick_label_line_height:1.1,gridlines_visible:!1,gridline_color:"#eeeeee",gridline_width:.1,gridline_style:"solid",gridline_category_dividers:!1,gridline_category_dividers_extend:!1,title_mode:"auto",title:"",title_color:"#4A4A4A",title_size:1.1,title_weight:"bold",title_padding:.6}),of=Object.freeze({axis_visible:!0,numeric_scale_type:"linear",nice:!0,flip:!1,zero_axis:"auto",linear_min:null,linear_max:null,log_min:null,log_max:null,datetime_min:"",datetime_max:"",line_visible:!0,line_and_tick_color:"#eeeeee",line_and_tick_width:.1,tick_side:"out",tick_mode:"number",tick_number:4,tick_custom:"",tick_length:.5,tick_padding:.25,edge_padding:50,tick_label_position:"default",tick_label_size:1,tick_label_color:"#4A4A4A",tick_label_angle:"0",tick_label_weight:"normal",tick_label_space_mode:"auto",tick_label_space:10,tick_label_max_lines:2,tick_label_line_height:1.1,gridlines_visible:!0,gridline_color:"#eeeeee",gridline_width:.1,gridline_style:"solid",gridline_category_dividers:!1,gridline_category_dividers_extend:!1,title_mode:"auto",title:"",title_position:"end",title_color:"#4A4A4A",title_size:1.1,title_weight:"bold",title_padding:.6}),lf=Object.freeze(rf({axis_visible:!1},of)),uf=Object.freeze({background_color_enabled:!1,background_color:"#f5f5f5",background_image_enabled:!1,background_image_src:"",background_image_size:"stretch",background_image_position:"xMidYMid"});function cf(t,e,n){t[e]||(t[e]={}),rf(t[e],n)}function sf(t){t=t||{};var e=cf.bind(null,t);return e("x",af),e("y",of),e("y2",lf),e("background",uf),t}var ff="http://www.w3.org/1999/xhtml",df={svg:"http://www.w3.org/2000/svg",xhtml:ff,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function hf(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),df.hasOwnProperty(e)?{space:df[e],local:t}:t}function _f(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ff&&e.documentElement.namespaceURI===ff?e.createElement(t):e.createElementNS(n,t)}}function pf(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gf(t){var e=hf(t);return(e.local?pf:_f)(e)}function yf(){}function mf(t){return null==t?yf:function(){return this.querySelector(t)}}function bf(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function vf(){return[]}function xf(t){return null==t?vf:function(){return this.querySelectorAll(t)}}function wf(t){return function(){return this.matches(t)}}function kf(t){return function(e){return e.matches(t)}}var Mf=Array.prototype.find;function Tf(){return this.firstElementChild}var Af=Array.prototype.filter;function Nf(){return this.children}function Sf(t){return new Array(t.length)}function Ef(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Cf(t,e,n,r,i,a){for(var o,l=0,u=e.length,c=a.length;l<c;++l)(o=e[l])?(o.__data__=a[l],r[l]=o):n[l]=new Ef(t,a[l]);for(;l<u;++l)(o=e[l])&&(i[l]=o)}function zf(t,e,n,r,i,a,o){var l,u,c,s=new Map,f=e.length,d=a.length,h=new Array(f);for(l=0;l<f;++l)(u=e[l])&&(h[l]=c=o.call(u,u.__data__,l,e)+"",s.has(c)?i[l]=u:s.set(c,u));for(l=0;l<d;++l)c=o.call(t,a[l],l,a)+"",(u=s.get(c))?(r[l]=u,u.__data__=a[l],s.delete(c)):n[l]=new Ef(t,a[l]);for(l=0;l<f;++l)(u=e[l])&&s.get(h[l])===u&&(i[l]=u)}function Df(t){return t.__data__}function Ff(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Of(t){return function(){this.removeAttribute(t)}}function Pf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Lf(t,e){return function(){this.setAttribute(t,e)}}function jf(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Hf(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function qf(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Uf(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Rf(t){return function(){this.style.removeProperty(t)}}function Bf(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Yf(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function If(t,e){return t.style.getPropertyValue(e)||Uf(t).getComputedStyle(t,null).getPropertyValue(e)}function Wf(t){return function(){delete this[t]}}function $f(t,e){return function(){this[t]=e}}function Vf(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Xf(t){return t.trim().split(/^|\s+/)}function Gf(t){return t.classList||new Zf(t)}function Zf(t){this._node=t,this._names=Xf(t.getAttribute("class")||"")}function Qf(t,e){for(var n=Gf(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Jf(t,e){for(var n=Gf(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Kf(t){return function(){Qf(this,t)}}function td(t){return function(){Jf(this,t)}}function ed(t,e){return function(){(e.apply(this,arguments)?Qf:Jf)(this,t)}}function nd(){this.textContent=""}function rd(t){return function(){this.textContent=t}}function id(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function ad(){this.innerHTML=""}function od(t){return function(){this.innerHTML=t}}function ld(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ud(){this.nextSibling&&this.parentNode.appendChild(this)}function cd(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sd(){return null}function fd(){var t=this.parentNode;t&&t.removeChild(this)}function dd(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function hd(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _d(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function pd(t,e,n){return function(){var r,i=this.__on,a=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var o=0,l=i.length;o<l;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=e);this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}function gd(t,e,n){var r=Uf(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function yd(t,e){return function(){return gd(this,t,e)}}function md(t,e){return function(){return gd(this,t,e.apply(this,arguments))}}Ef.prototype={constructor:Ef,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Zf.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var bd=[null];function vd(t,e){this._groups=t,this._parents=e}function xd(){return new vd([[document.documentElement]],bd)}function wd(t){return"string"==typeof t?new vd([[document.querySelector(t)]],[document.documentElement]):new vd([[t]],bd)}vd.prototype=xd.prototype={constructor:vd,select:function(t){"function"!=typeof t&&(t=mf(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,l=e[i],u=l.length,c=r[i]=new Array(u),s=0;s<u;++s)(a=l[s])&&(o=t.call(a,a.__data__,s,l))&&("__data__"in a&&(o.__data__=a.__data__),c[s]=o);return new vd(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:bf(e)}}(t):xf(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,l=e[a],u=l.length,c=0;c<u;++c)(o=l[c])&&(r.push(t.call(o,o.__data__,c,l)),i.push(o));return new vd(r,i)},selectChild:function(t){return this.select(null==t?Tf:function(t){return function(){return Mf.call(this.children,t)}}("function"==typeof t?t:kf(t)))},selectChildren:function(t){return this.selectAll(null==t?Nf:function(t){return function(){return Af.call(this.children,t)}}("function"==typeof t?t:kf(t)))},filter:function(t){"function"!=typeof t&&(t=wf(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],l=o.length,u=r[i]=[],c=0;c<l;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&u.push(a);return new vd(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Df);var n=e?zf:Cf,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var a=i.length,o=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;++c){var s=r[c],f=i[c],d=f.length,h=bf(t.call(s,s&&s.__data__,c,r)),_=h.length,p=l[c]=new Array(_),g=o[c]=new Array(_);n(s,f,p,g,u[c]=new Array(d),h,e);for(var y,m,b=0,v=0;b<_;++b)if(y=p[b]){for(b>=v&&(v=b+1);!(m=g[v])&&++v<_;);y._next=m||null}}return(o=new vd(o,r))._enter=l,o._exit=u,o},enter:function(){return new vd(this._enter||this._groups.map(Sf),this._parents)},exit:function(){return new vd(this._exit||this._groups.map(Sf),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof vd))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var u,c=e[l],s=n[l],f=c.length,d=o[l]=new Array(f),h=0;h<f;++h)(u=c[h]||s[h])&&(d[h]=u);for(;l<r;++l)o[l]=e[l];return new vd(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Ff);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,l=n[a],u=l.length,c=i[a]=new Array(u),s=0;s<u;++s)(o=l[s])&&(c[s]=o);c.sort(e)}return new vd(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,l=a.length;o<l;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=hf(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Pf:Of:"function"==typeof e?n.local?qf:Hf:n.local?jf:Lf)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Rf:"function"==typeof e?Yf:Bf)(t,e,null==n?"":n)):If(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Wf:"function"==typeof e?Vf:$f)(t,e)):this.node()[t]},classed:function(t,e){var n=Xf(t+"");if(arguments.length<2){for(var r=Gf(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?ed:e?Kf:td)(n,e))},text:function(t){return arguments.length?this.each(null==t?nd:("function"==typeof t?id:rd)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ad:("function"==typeof t?ld:od)(t)):this.node().innerHTML},raise:function(){return this.each(ud)},lower:function(){return this.each(cd)},append:function(t){var e="function"==typeof t?t:gf(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:gf(t),r=null==e?sd:"function"==typeof e?e:mf(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(fd)},clone:function(t){return this.select(t?hd:dd)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),o=a.length;if(!(arguments.length<2)){for(l=e?pd:_d,r=0;r<o;++r)this.each(l(a[r],e,n));return this}var l=this.node().__on;if(l)for(var u,c=0,s=l.length;c<s;++c)for(r=0,u=l[c];r<o;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?md:yd)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};var kd=0;function Md(){this._="@"+(++kd).toString(36)}function Td(t){return"svg"===t.tagName.toLowerCase()}Md.prototype={constructor:Md,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Ad=0;var Nd=Object.freeze({left:!0,top:!0,right:!0,bottom:!0}),Sd=Object.freeze({left:!1,top:!1,right:!1,bottom:!1});var Ed=wt("start","end","cancel","interrupt"),Cd=[],zd=0,Dd=1,Fd=2,Od=3,Pd=4,Ld=5,jd=6;function Hd(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(t){n.state=Dd,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(a){var c,s,f,d;if(n.state!==Dd)return u();for(c in i)if((d=i[c]).name===n.name){if(d.state===Od)return Wt(o);d.state===Pd?(d.state=jd,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=jd,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(Wt((function(){n.state===Od&&(n.state=Pd,n.timer.restart(l,n.delay,n.time),l(a))})),n.state=Fd,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Fd){for(n.state=Od,r=new Array(f=n.tween.length),c=0,s=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++s]=d);r.length=s+1}}function l(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=Ld,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);n.state===Ld&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=jd,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Ut(a,0,n.time)}(t,n,{name:e,index:r,group:i,on:Ed,tween:Cd,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:zd})}function qd(t,e){var n=Rd(t,e);if(n.state>zd)throw new Error("too late; already scheduled");return n}function Ud(t,e){var n=Rd(t,e);if(n.state>Od)throw new Error("too late; already running");return n}function Rd(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Bd(t,e){var n,r;return function(){var i=Ud(this,t),a=i.tween;if(a!==n)for(var o=0,l=(r=n=a).length;o<l;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function Yd(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=Ud(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=l;break}u===c&&i.push(l)}a.tween=i}}function Id(t,e,n){var r=t._id;return t.each((function(){var t=Ud(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Rd(t,r).value[e]}}function Wd(t,e){var n;return("number"==typeof e?Mn:e instanceof ke?mn:(n=ke(e))?(e=n,mn):Sn)(t,e)}function $d(t){return function(){this.removeAttribute(t)}}function Vd(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Xd(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function Gd(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function Zd(t,e,n){var r,i,a;return function(){var o,l,u=n(this);if(null!=u)return(o=this.getAttribute(t))===(l=u+"")?null:o===r&&l===i?a:(i=l,a=e(r=o,u));this.removeAttribute(t)}}function Qd(t,e,n){var r,i,a;return function(){var o,l,u=n(this);if(null!=u)return(o=this.getAttributeNS(t.space,t.local))===(l=u+"")?null:o===r&&l===i?a:(i=l,a=e(r=o,u));this.removeAttributeNS(t.space,t.local)}}function Jd(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function Kd(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function th(t,e){return function(){qd(this,t).delay=+e.apply(this,arguments)}}function eh(t,e){return e=+e,function(){qd(this,t).delay=e}}function nh(t,e){return function(){Ud(this,t).duration=+e.apply(this,arguments)}}function rh(t,e){return e=+e,function(){Ud(this,t).duration=e}}var ih=xd.prototype.constructor;function ah(t){return function(){this.style.removeProperty(t)}}var oh=0;function lh(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function uh(){return++oh}var ch=xd.prototype;lh.prototype={constructor:lh,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=mf(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l,u,c=r[o],s=c.length,f=a[o]=new Array(s),d=0;d<s;++d)(l=c[d])&&(u=t.call(l,l.__data__,d,c))&&("__data__"in l&&(u.__data__=l.__data__),f[d]=u,Hd(f[d],e,n,d,f,Rd(l,n)));return new lh(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=xf(t));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var u,c=r[l],s=c.length,f=0;f<s;++f)if(u=c[f]){for(var d,h=t.call(u,u.__data__,f,c),_=Rd(u,n),p=0,g=h.length;p<g;++p)(d=h[p])&&Hd(d,e,n,p,h,_);a.push(h),o.push(u)}return new lh(a,o,e,n)},filter:function(t){"function"!=typeof t&&(t=wf(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],l=o.length,u=r[i]=[],c=0;c<l;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&u.push(a);return new lh(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var u,c=e[l],s=n[l],f=c.length,d=o[l]=new Array(f),h=0;h<f;++h)(u=c[h]||s[h])&&(d[h]=u);for(;l<r;++l)o[l]=e[l];return new lh(o,this._parents,this._name,this._id)},selection:function(){return new ih(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=uh(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],u=l.length,c=0;c<u;++c)if(o=l[c]){var s=Rd(o,e);Hd(o,t,n,c,l,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new lh(r,this._parents,t,n)},call:ch.call,nodes:ch.nodes,node:ch.node,size:ch.size,empty:ch.empty,each:ch.each,on:function(t,e){var n=this._id;return arguments.length<2?Rd(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?qd:Ud;return function(){var o=a(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}(n,t,e))},attr:function(t,e){var n=hf(t),r="transform"===n?Un:Wd;return this.attrTween(t,"function"==typeof e?(n.local?Qd:Zd)(n,r,Id(this,"attr."+t,e)):null==e?(n.local?Vd:$d)(n):(n.local?Gd:Xd)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=hf(t);return this.tween(n,(r.local?Jd:Kd)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?qn:Wd;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=If(this,t),o=(this.style.removeProperty(t),If(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,ah(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=If(this,t),l=n(this),u=l+"";return null==l&&(this.style.removeProperty(t),u=l=If(this,t)),o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,l))}}(t,r,Id(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,l="end."+o;return function(){var u=Ud(this,t),c=u.on,s=null==u.value[o]?a||(a=ah(e)):void 0;c===n&&i===s||(r=(n=c).copy()).on(l,i=s),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=If(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,a,n)),r}return a._value=e,a}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Id(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Rd(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?Bd:Yd)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?th:eh)(e,t)):Rd(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?nh:rh)(e,t)):Rd(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Ud(this,t).ease=e}}(e,t)):Rd(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Ud(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var l={value:o},u={value:function(){0==--i&&a()}};n.each((function(){var n=Ud(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),n.on=e})),0===i&&a()}))},[Symbol.iterator]:ch[Symbol.iterator]};function sh(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}!function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3);var fh=1.70158;!function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(fh),function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(fh),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(fh);var dh=2*Math.PI;!function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=dh);function i(t){return e*sh(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*dh)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=dh);function i(t){return 1-e*sh(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*dh)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=dh);function i(t){return((t=2*t-1)<0?e*sh(-t)*Math.sin((r-t)/n):2-e*sh(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*dh)},i.period=function(n){return t(e,n)},i}(1,.3);var hh={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function _h(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function ph(t){return""+t}function gh(t){var e=ph;return function(n){return void 0===n?e||ph:(e=n,t)}}function yh(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function mh(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}xd.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>Fd&&n.state<Ld,n.state=jd,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}(this,t)}))},xd.prototype.transition=function(t){var e,n;t instanceof lh?(e=t._id,t=t._name):(e=uh(),(n=hh).time=jt(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],u=l.length,c=0;c<u;++c)(o=l[c])&&Hd(o,t,e,c,l,n||_h(o,e));return new lh(r,this._parents,t,e)};var vh,xh,wh,kh,Mh={"-":"",_:" ",0:"0"},Th=/^\s*\d+/,Ah=/^%/,Nh=/[\\^$*+?|[\]().{}]/g;function Sh(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Eh(t){return t.replace(Nh,"\\$&")}function Ch(t){return new RegExp("^(?:"+t.map(Eh).join("|")+")","i")}function zh(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function Dh(t,e,n){var r=Th.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Fh(t,e,n){var r=Th.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Oh(t,e,n){var r=Th.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ph(t,e,n){var r=Th.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Lh(t,e,n){var r=Th.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function jh(t,e,n){var r=Th.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Hh(t,e,n){var r=Th.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qh(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Uh(t,e,n){var r=Th.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Rh(t,e,n){var r=Th.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Bh(t,e,n){var r=Th.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Yh(t,e,n){var r=Th.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Ih(t,e,n){var r=Th.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Wh(t,e,n){var r=Th.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function $h(t,e,n){var r=Th.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Vh(t,e,n){var r=Th.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Xh(t,e,n){var r=Th.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Gh(t,e,n){var r=Ah.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Zh(t,e,n){var r=Th.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Qh(t,e,n){var r=Th.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Jh(t,e){return Sh(t.getDate(),e,2)}function Kh(t,e){return Sh(t.getHours(),e,2)}function t_(t,e){return Sh(t.getHours()%12||12,e,2)}function e_(t,e){return Sh(1+Qa.count(lo(t),t),e,3)}function n_(t,e){return Sh(t.getMilliseconds(),e,3)}function r_(t,e){return n_(t,e)+"000"}function i_(t,e){return Sh(t.getMonth()+1,e,2)}function a_(t,e){return Sh(t.getMinutes(),e,2)}function o_(t,e){return Sh(t.getSeconds(),e,2)}function l_(t){var e=t.getDay();return 0===e?7:e}function u_(t,e){return Sh(Ka.count(lo(t)-1,t),e,2)}function c_(t){var e=t.getDay();return e>=4||0===e?ro(t):ro.ceil(t)}function s_(t,e){return t=c_(t),Sh(ro.count(lo(t),t)+(4===lo(t).getDay()),e,2)}function f_(t){return t.getDay()}function d_(t,e){return Sh(to.count(lo(t)-1,t),e,2)}function h_(t,e){return Sh(t.getFullYear()%100,e,2)}function __(t,e){return Sh((t=c_(t)).getFullYear()%100,e,2)}function p_(t,e){return Sh(t.getFullYear()%1e4,e,4)}function g_(t,e){var n=t.getDay();return Sh((t=n>=4||0===n?ro(t):ro.ceil(t)).getFullYear()%1e4,e,4)}function y_(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Sh(e/60|0,"0",2)+Sh(e%60,"0",2)}function m_(t,e){return Sh(t.getUTCDate(),e,2)}function b_(t,e){return Sh(t.getUTCHours(),e,2)}function v_(t,e){return Sh(t.getUTCHours()%12||12,e,2)}function x_(t,e){return Sh(1+so.count(xo(t),t),e,3)}function w_(t,e){return Sh(t.getUTCMilliseconds(),e,3)}function k_(t,e){return w_(t,e)+"000"}function M_(t,e){return Sh(t.getUTCMonth()+1,e,2)}function T_(t,e){return Sh(t.getUTCMinutes(),e,2)}function A_(t,e){return Sh(t.getUTCSeconds(),e,2)}function N_(t){var e=t.getUTCDay();return 0===e?7:e}function S_(t,e){return Sh(ho.count(xo(t)-1,t),e,2)}function E_(t){var e=t.getUTCDay();return e>=4||0===e?yo(t):yo.ceil(t)}function C_(t,e){return t=E_(t),Sh(yo.count(xo(t),t)+(4===xo(t).getUTCDay()),e,2)}function z_(t){return t.getUTCDay()}function D_(t,e){return Sh(_o.count(xo(t)-1,t),e,2)}function F_(t,e){return Sh(t.getUTCFullYear()%100,e,2)}function O_(t,e){return Sh((t=E_(t)).getUTCFullYear()%100,e,2)}function P_(t,e){return Sh(t.getUTCFullYear()%1e4,e,4)}function L_(t,e){var n=t.getUTCDay();return Sh((t=n>=4||0===n?yo(t):yo.ceil(t)).getUTCFullYear()%1e4,e,4)}function j_(){return"+0000"}function H_(){return"%"}function q_(t){return+t}function U_(t){return Math.floor(+t/1e3)}!function(t){vh=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,u=t.shortMonths,c=Ch(i),s=zh(i),f=Ch(a),d=zh(a),h=Ch(o),_=zh(o),p=Ch(l),g=zh(l),y=Ch(u),m=zh(u),b={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:Jh,e:Jh,f:r_,g:__,G:g_,H:Kh,I:t_,j:e_,L:n_,m:i_,M:a_,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:q_,s:U_,S:o_,u:l_,U:u_,V:s_,w:f_,W:d_,x:null,X:null,y:h_,Y:p_,Z:y_,"%":H_},v={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:m_,e:m_,f:k_,g:O_,G:L_,H:b_,I:v_,j:x_,L:w_,m:M_,M:T_,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:q_,s:U_,S:A_,u:N_,U:S_,V:C_,w:z_,W:D_,x:null,X:null,y:F_,Y:P_,Z:j_,"%":H_},x={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=_.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:Bh,e:Bh,f:Xh,g:Hh,G:jh,H:Ih,I:Ih,j:Yh,L:Vh,m:Rh,M:Wh,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=s.get(r[0].toLowerCase()),n+r[0].length):-1},q:Uh,Q:Zh,s:Qh,S:$h,u:Fh,U:Oh,V:Ph,w:Dh,W:Lh,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:Hh,Y:jh,Z:qh,"%":Gh};function w(t,e){return function(n){var r,i,a,o=[],l=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++l<c;)37===t.charCodeAt(l)&&(o.push(t.slice(u,l)),null!=(i=Mh[r=t.charAt(++l)])?r=t.charAt(++l):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),u=l+1);return o.push(t.slice(u,l)),o.join("")}}function k(t,e){return function(n){var r,i,a=bh(1900,void 0,1);if(M(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=mh(bh(a.y,0,1))).getUTCDay(),r=i>4||0===i?_o.ceil(r):_o(r),r=so.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=yh(bh(a.y,0,1))).getDay(),r=i>4||0===i?to.ceil(r):to(r),r=Qa.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?mh(bh(a.y,0,1)).getUTCDay():yh(bh(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,mh(a)):yh(a)}}function M(t,e,n,r){for(var i,a,o=0,l=e.length,u=n.length;o<l;){if(r>=u)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=x[i in Mh?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),v.x=w(n,v),v.X=w(r,v),v.c=w(e,v),{format:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",v);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}(t),vh.format,xh=vh.parse,wh=vh.utcFormat,kh=vh.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var R_="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||wh(R_),+new Date("2000-01-01T00:00:00.000Z")||kh(R_);var B_=parseFloat,Y_=xh("%Y-%m-%d");function I_(t){var e=B_;return function(n){return void 0===n?e||B_:(e=n,t)}}function W_(t){var e=Y_;return function(n){return void 0===n?e||Y_:(e=n,t)}}function $_(t){var e=[],n={};return t.forEach((function(t){n[t]||(e.push(t),n[t]=!0)})),e}var V_=Array.isArray;function X_(t){return t}function G_(t){return{prop:function(e,n){Object.defineProperty(t,e,{value:n,enumerable:!0})},getter:function(e,n){Object.defineProperty(t,e,{get:n,enumerable:!0})},method:function(e,n){Object.defineProperty(t,e,{value:n})}}}function Z_(t,e){var n=1;return t[e?"reduce":"reduceRight"]((function(t,e){return t[e]||(t[e]=n),n+=1,t}),{})}function Q_(t,e){var n=1;return t[e?"reduce":"reduceRight"]((function(t,e){return t[e]=n++,t}),{})}function J_(t,e,n,r){var i;i="dense"===r?function(t,e){var n=1;return t[e?"reduce":"reduceRight"]((function(t,e){return t[e]||(t[e]=n++),t}),{})}(e,n):"fractional"===r?function(t,e){var n=Z_(t,e),r=Q_(t,e);return Object.keys(n).reduce((function(t,e){return t[e]=(n[e]+r[e])/2,t}),{})}(e,n):"worst"===r?Q_(e,n):Z_(e,n);var a=function(t){return i[t]};return"ordinal"===r&&(a=function(t){return i[t]++}),t.map(a)}function K_(t){return t=t||Math.random,function(e,n){var r=n-e+1;return Math.floor(t()*r)+e}}function tp(t,e){return t[K_(e)(0,t.length-1)]}function ep(t,e,n,r){var i,a=t.length;if(n=void 0!==e&&n,e=void 0!==e?Math.floor(e):a,!a||e<1)return[];var o=K_(r);if(n||1===e){i=[];for(var l=0;l<e;l++)i.push(t[o(0,a-1)]);return i}i=t.slice();var u=Math.min(a,e);for(l=0;l<u;l++){var c=o(l,a-1);if(c!==l){var s=i[c],f=i[l];i[l]=s,i[c]=f}}return i.length=u,i}function np(t,e,n){if(!e.length)return t.slice();for(var r=0,i=t.reduce((function(t,i){for(;t.length===e[r];)t.push(n),r++;return t.push(i),t}),[]);e[r++];)i.push(n);return i}function rp(t,e){return V_(e)?e.map((function(e){return Ca(t,e)})):Ca(t,e)}function ip(t){t.getter("variance",(function(){return function(t,e){var n,r,i=t.length,a=0,o=-1,l=0,u=0;if(null==e)for(;++o<i;)isNaN(n=xa(t[o]))||(u+=(r=n-l)*(n-(l+=r/++a)));else for(;++o<i;)isNaN(n=xa(e(t[o],o,t)))||(u+=(r=n-l)*(n-(l+=r/++a)));if(a>1)return u/(a-1)}(this.values)})),t.getter("sd",(function(){return Math.sqrt(this.variance)})),t.getter("median",(function(){return rp(this.sorted_values,.5)})),t.getter("iqr",(function(){var t=rp(this.sorted_values,[.25,.75]);return t[1]-t[0]})),t.method("quantiles",(function(t){return rp(this.sorted_values,t)})),t.method("quartiles",(function(){return rp(this.sorted_values,[.25,.5,.75])}))}function ap(t){return t>=-90&&t<=90}function op(t){return t>=-180&&t<=180}function lp(t,e,n){return t.length?n?e(t.min)&&e(t.max)?1:0:t.values.reduce((function(t,n){return t+e(n)}),0)/t.length:null}var up=function(){var t={},e=G_(t);return function(t){t.method("unsorted",(function(){return this.values.slice()})),t.method("ascending",(function(){return this.sorted_values.slice()})),t.method("descending",(function(){return this.sorted_values.slice().reverse()})),t.method("unique",(function(){return $_(this.values)})),t.method("uniqueAscending",(function(){return $_(this.sorted_values)})),t.method("uniqueDescending",(function(){return $_(this.sorted_values).reverse()}))}(e),ip(e),function(t){t.method("random",(function(t){return tp(this.values,t)})),t.method("sample",(function(t,e,n){return ep(this.values,t,e,n)}))}(e),function(t){t.method("rank",(function(t,e){return J_(this.values,this.sorted_values,t,e)}))}(e),function(t){t.method("unclean",(function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return np(t=t||this.values,this.dropped_indexes,NaN)}))}(e),function(t){t.method("latitudeScore",(function(t){return lp(this,ap,t)})),t.method("longitudeScore",(function(t){return lp(this,op,t)}))}(e),t}();function cp(t,e){var n=Object.create(up);return function(t,e,n){n=n||X_;var r=1/0,i=-1/0,a=null,o=0,l=[],u=Object.freeze(e.reduce((function(t,e,a){var u=n(e);return"number"!=typeof u||isNaN(u)?l.push(a):(t.push(u),r=Math.min(r,u),i=Math.max(i,u),o+=u),t}),[])),c=G_(t);c.prop("enhanced_array",!0),c.prop("numeric_array",!0),c.prop("values",u),c.prop("min",u.length?r:null),c.prop("max",u.length?i:null),c.prop("sum",o),c.prop("mean",u.length?o/u.length:null),c.prop("range",u.length?i-r:null),c.prop("length",u.length),c.prop("dropped_indexes",Object.freeze(l)),c.method("extent",(function(){return[this.min,this.max]})),c.getter("sorted_values",(function(){var t;return a||(t=-1/0,u.every((function(e){if(e>=t)return t=e,!0}))&&(a=u),a=function(t){var e=1/0;return t.every((function(t){if(t<=e)return e=t,!0}))}(u)?Object.freeze(u.slice().reverse()):Object.freeze(u.slice().sort(ga))),a}))}(n,t,e),n}var sp=Object.freeze(["min","max","mean"]),fp=Object.freeze(["extent","random","sample","unsorted","ascending","descending","unique","uniqueAscending","uniqueDescending","quartiles","quantiles","unclean"]);function dp(t){return"number"!=typeof t?null:new Date(t)}function hp(t,e){return function(){var n=t[e].apply(t,arguments);return Array.isArray(n)?n.map(dp):dp(n)}}function _p(t,e,n){n=n||X_;var r=cp(e.map((function(t){var e,r=n(t);return e=r,"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime())?null:r.getTime()}))),i=G_(t);i.prop("enhanced_array",!0),i.prop("datetime_array",!0),i.getter("values",(function(){return Object.freeze(r.values.map(dp))})),i.getter("sorted_values",(function(){return Object.freeze(r.sorted_values.map(dp))})),i.getter("median",(function(){return dp(r.median)})),i.prop("length",r.values.length),i.prop("dropped_indexes",r.dropped_indexes),i.method("rank",(function(){return r.rank(arguments)}));var a=hp.bind(null,r);return sp.forEach((function(t){i.prop(t,dp(r[t]))})),fp.forEach((function(t){i.method(t,a(t))})),t}function pp(t,e){var n={};return _p(n,t,e),n}var gp,yp=function(){var t={},e=G_(t);return function(t){t.method("unsorted",(function(){return this.values.slice()})),t.method("ascending",(function(){return this.sorted_values.slice()})),t.method("descending",(function(){return this.sorted_values.slice().reverse()})),t.method("unique",(function(){return $_(this.values)})),t.method("uniqueAscending",(function(){return $_(this.sorted_values)})),t.method("uniqueDescending",(function(){return $_(this.sorted_values).reverse()}))}(e),function(t){t.method("random",(function(t){return tp(this.values,t)})),t.method("sample",(function(t,e,n){return ep(this.values,t,e,n)}))}(e),function(t){t.method("rank",(function(t,e){return J_(this.values,this.sorted_values,t,e)}))}(e),function(t){t.method("unclean",(function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return np(t=t||this.values,this.dropped_indexes)}))}(e),t}();function mp(t,e){var n=Object.create(yp);return function(t,e,n){n=n||X_;for(var r=null,i=[],a=0,o=null,l=0;null===o&&l<e.length;){var u=n(e[l++]);"string"==typeof u&&(o=u)}var c=o,s=Object.freeze(e.reduce((function(t,e,r){var l=n(e);return"string"==typeof l?(t.push(l),o=l<o?l:o,c=l>c?l:c,l||a++):i.push(r),t}),[])),f=G_(t);f.prop("enhanced_array",!0),f.prop("string_array",!0),f.prop("values",s),f.prop("min",o),f.prop("max",c),f.prop("length",s.length),f.prop("dropped_indexes",Object.freeze(i)),f.prop("n_empty",a),f.method("extent",(function(){return[this.min,this.max]})),f.getter("sorted_values",(function(){return r||(function(t){if(t.length<2)return!0;var e=t[0];return t.every((function(t){if(t>=e)return e=t,!0}))}(s)&&(r=s),r=function(t){if(t.length<2)return!0;var e=t[0];return t.every((function(t){if(t<=e)return e=t,!0}))}(s)?Object.freeze(s.slice().reverse()):Object.freeze(s.slice().sort())),r}))}(n,t,e),n}function bp(t,e,n){var r=getComputedStyle(t.node()).fontFamily;return(n?n+" ":"")+(gp(e)+"px ")+r}function vp(t,e){return"translate("+t+","+e+")"}function xp(t,e,n){return"rotate("+t+","+(e=e||0)+","+(n=n||0)+")"}var wp=Math.log10||function(t){return Math.log(t)*Math.LOG10E};function kp(t){return Math.floor(wp(Math.abs(t)))}function Mp(t){if(0===t)return 0;for(var e=Math.abs(String(t).replace(".",""));0!==e&&e%10==0;)e/=10;return kp(e)+1}function Tp(t,e){var n=t[0][0],r=t[1][0],i=e[0][0],a=e[1][0],o=t[0][1],l=t[1][1],u=e[0][1],c=e[1][1],s=(n-r)*(u-c)-(i-a)*(o-l);if(!s)return!(n<i&&n<a&&r<i&&r<a||n>i&&n>a&&r>i&&r>a||o<u&&o<c&&l<u&&l<c||o>u&&o>c&&l>u&&l>c);var f=((n-i)*(u-c)-(o-u)*(i-a))/s;if(f<0||f>1)return!1;var d=-((n-r)*(o-u)-(o-l)*(n-i))/s;return!(d<0||d>1)}function Ap(t){return t&&"number"==typeof t?t>0?1:-1:0}function Np(t){var e=t.type;(t=t.copy()).type=e;var n=function(n){var r=t(n);if(isNaN(r)||Math.abs(r)===1/0){var i,a=t.range();if("numeric"!==e)i=a[0]>a[1];else{var o=t.domain();i=Ap(o[1]-o[0])!==Ap(a[1]-a[0])}r=-1e6*(i?-1:1)}return r};return["domain","range"].forEach((function(e){n[e]=function(){var r=t[e].apply(t,arguments);return r===t?n:r}})),n.copy=function(){return Np(t)},n.type=t.type,n.step=t.step,n}function Sp(t){return"[object Date]"===Object.prototype.toString.call(t)}function Ep(t){return t.split("\n").filter((function(t){return t})).map((function(t){return t.trim()}))}var Cp="Input data must be an array or Flourish array";function zp(t,e){if(!t)throw new TypeError(Cp);if(t.enhanced_array)return t;if(!Array.isArray(t))throw new TypeError(Cp);for(var n=e||function(t){return t},r=0;r<t.length;r++){var i=n(t[r]),a=typeof i;if("number"===a)return cp(t,e);if("string"===a)return mp(t,e);if(Sp(i))return pp(t,e)}return cp(t,e)}function Dp(t){var e=zp([]);return function(n,r){return void 0===n?e:(e=zp(n,r),t)}}var Fp="Testing";function Op(t){return t*(Math.PI/180)}function Pp(t,e){var n;return t.filter((function(t){var r=e(t);if(r!==n)return n=r,!0}))}function Lp(t){var e=void 0!==t.max_space?t.max_space:100,n=void 0!==t.text_height?t.text_height:gp(1),r=t.max_lines,i=t.angle||0,a=document.createElement("canvas").getContext("2d");a.font=t.font;var o,l=Op(i);return o=(e-n*Math.sin(l))/Math.cos(l),function(t){"number"==typeof t&&(t=t.toString()),t||(t="");var e=[],n=0,i=a.measureText(t).width;if(i<=o)e.push(t),n=i;else{for(var l=t.trim().split(/\s+/g),u="",c=0;c<l.length;c++){var s=l[c],f=u+(u?" ":"")+s,d=a.measureText(f).width;if(!(d<=o)){if(!(e.length+1==r)&&u)if(e.push(u),a.measureText(s).width<=o){u=s;continue}var h=1,_=f;do{_=f.substring(0,f.length-h)+"…",d=a.measureText(_).width}while(d>o&&++h<f.length);n=Math.max(n,d),u=_;break}u=f,n=Math.max(n,d)}e.push(u)}return{lines:e,text_width:n}}}function jp(t,e,n){var r=["px","rem","fraction"];e=e||"width",n="number"==typeof n?n:50;var i=.5,a="fraction";return function(o,l){return void 0===o?(c=t[e](),"px"===a?u=i:"rem"===a?u=gp(i):"fraction"===a&&(u=Math.max(n,i*c)),{px:u,rem:"rem"===a?i:u/gp(1),fraction:"fraction"===a?i:u/c,unit:a}):(i=Math.max(o,0),a=-1!==r.indexOf(l)?l:"px",t);var u,c}}function Hp(t,e,n){var r=e[n],i=n+"Data",a=n+"Format",o=n+"Ticks",l=Object.freeze([]),u=t.chart.select(".fl-y-axes"),c=function(){return l};return c._update=function(e){var n,c=t[i]().string_array?"string":"numeric",s=bp(wd(".fl-y-axes"),r.tick_label_size,r.tick_label_weight),f="default"===r.tick_label_position?+r.tick_label_angle:0,d=0,h=t[a]();u.append("text").style("opacity",0).style("font",s).each((function(){var t=wd(this).text(Fp).node().getBoundingClientRect();n=t.height})).remove(),"object"==typeof e[0]&&(e=Pp(e,h));var _=gp(r.tick_label_space);"auto"===r.tick_label_space_mode&&(_=t[o].autoLabelSpace().px);var p=Lp({text_height:n,max_space:_,font:s,angle:f,max_lines:f?1:r.tick_label_max_lines});return l=e.map((function(t,e){var i,a,o,l,u,s,_=p(h(t)),g=_.lines,y=_.text_width,m=0,b=n*g.length+(g.length-1)*r.tick_label_line_height;if(0===f||90===f)o=i=f?b:y,l=i,u=s=(a=f?y+gp(.5):b)/2,0===f&&(m=g.length<2?0:(g.length-1)/2*(n*r.tick_label_line_height));else{var v=Op(f),x=Math.sin(v),w=Math.cos(v);i=(o=b*x)+(l=y*w),a=(u=b*w)+(s=y*x)}d=Math.max(d,i);var k="numeric"===c?Mp(t):null,M="numeric"===c?kp(t):null;return Object.freeze({index:e,value:t,lines:g,type:c,significant_digits:k,exponent:M,text_width:y,text_height:n,box_width:i,box_height:a,box_width_above:o,box_width_below:l,box_height_above:u,box_height_below:s,multiline_offset:m})})),l.type=c,l.max_box_width="fixed"===r.tick_label_space_mode?gp(r.tick_label_space):d,Object.freeze(l),t},c.autoLabelSpace=jp(t),c}function qp(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=()=>t[e+"Scale"]({domain_only:!0}).ticks();let r=n;return function(e){return void 0===e?r:(r=null===e?n:e,t)}}function Up(t){var e="";return function(n){return void 0===n?e:(e=n,t)}}function Rp(t,e){var n=e.y,r=t.yTitle();if(!n.axis_visible||!r)return 0;var i=t.chart.select(".fl-left-axis .fl-axis-title"),a=bp(i,n.title_size,n.title_weight),o=i.append("text").text(r).style("opacity",0).style("font",a),l=o.node().getBoundingClientRect().height;return o.remove(),l+2*gp(n.title_padding)}function Bp(t,e){var n=e.y2,r=t.y2Title();if(!n.axis_visible||!r)return 0;var i=t.chart.select(".fl-right-axis .fl-axis-title"),a=bp(i,n.title_size,n.title_weight),o=i.append("text").text(r).style("opacity",0).style("font",a),l=o.node().getBoundingClientRect().height;return o.remove(),l+2*gp(n.title_padding)}function Yp(t,e){var n=e.x,r=n.axis_position;if("off"===r)return 0;var i=0,a=0,o=0;if("top"===r||"bottom"==r){var l=t.xTicks();i=l.length&&"out"===n.tick_side&&"default"===n.tick_label_position?gp(n.tick_length):0,o=l.max_box_height||0,a=l.length?gp(n.tick_padding):0}var u=function(t,e){var n=e.x,r=t.xTitle();if("off"===n.axis_visible||!r)return 0;var i=t.chart.select(".fl-x-axis .fl-axis-title"),a=bp(i,n.title_size,n.title_weight),o=i.append("text").text(r).style("opacity",0).style("font",a),l=o.node().getBoundingClientRect().height;return o.remove(),l+2*gp(n.title_padding)}(t,e);return i+a+o+u}function Ip(t,e){var n,r,i,a,o,l,u,c;o=l=u=c=0;var s=function(t,e){return"function"==typeof t&&(t=t(e)),void 0===t?e:t},f=function(){return{top:o,right:l,bottom:u,left:c}};return f._calculated=function(){return{top:n,right:r,bottom:i,left:a}},f._update=function(f){f=f||{},n=function(t,e){var n=e.x,r=0,i=["top","float-above"].includes(n.axis_position);!t.xHide()&&i&&(r=Yp(t,e));var a=0,o=0,l=t.yHide()?[]:t.yTicks();if(l.length){var u=l[l.length-1];"default"==e.y.tick_label_position?a=.9*u.box_height_above:"above"==e.y.tick_label_position&&(a+=u.box_height)}"end"!==e.y.title_position||i||(a+=Rp(t,e));var c=t.y2Hide()?[]:t.y2Ticks();if(c.length){var s=c[c.length-1];"default"==e.y2.tick_label_position?o=.9*s.box_height_above:"above"==e.y2.tick_label_position&&(o+=s.box_height)}"end"!==e.y2.title_position||i||(o+=Bp(t,e));var f=Math.max(gp(.25),a,o);return Math.max(r,f)}(t,e),r=function(t,e){var n=e.y2,r=0;if(n.axis_visible){var i=t.y2Hide()?[]:t.y2Ticks();r=(i.length&&"out"===n.tick_side&&"default"===n.tick_label_position?gp(n.tick_length):0)+(i.length?gp(n.tick_padding):0)+(i.max_box_width||0)+(t.y2Hide()||"side"!==n.title_position?0:Bp(t,e))}var a=gp(.25),o=0,l=t.xHide()?[]:t.xTicks();if(l.length){var u=l[l.length-1];"default"==e.x.tick_label_position?o=.9*u.box_width_right:"right"==e.x.tick_label_position&&(o=u.box_width),a=Math.max(a,o)}return Math.max(r,a)}(t,e),i=function(t,e){var n=e.x,r=0,i=["bottom","float-below"].includes(n.axis_position);!t.xHide()&&i&&(r=Yp(t,e));var a=0,o=0,l=t.yHide()?[]:t.yTicks();if(l.length){var u=l[0];"default"==e.y.tick_label_position?a=.9*u.box_height_below:"below"==e.y.tick_label_position&&(a+=u.box_height)}"end"!==e.y.title_position||i||"off"===n.axis_position||(a+=Rp(t,e));var c=t.y2Hide()?[]:t.y2Ticks();if(c.length){var s=c[0];"default"==e.y2.tick_label_position?o=.9*s.box_height_below:"below"==e.y2.tick_label_position&&(o+=s.box_height)}"end"!==e.y2.title_position||i||"off"===n.axis_position||(o+=Bp(t,e));var f=Math.max(gp(.25),a,o);return Math.max(r,f)}(t,e),a=function(t,e){var n=e.y,r=0;if(n.axis_visible){var i=t.yHide()?[]:t.yTicks();r=(i.length&&"out"===n.tick_side&&"default"===n.tick_label_position?gp(n.tick_length):0)+(i.length?gp(n.tick_padding):0)+(i.max_box_width||0)+(t.yHide()||"side"!==n.title_position?0:Rp(t,e))}var a=gp(.25),o=0,l=t.xHide()?[]:t.xTicks();if(l.length){var u=l[0];"default"==e.x.tick_label_position?o=.9*u.box_width_left:"left"==e.x.tick_label_position&&(o=u.box_width),a=Math.max(a,o)}return Math.max(r,a)}(t,e),o=s(f.top,n),l=s(f.right,r),u=s(f.bottom,i),c=s(f.left,a)},Object.defineProperty(f,"top",{get:function(){return o}}),Object.defineProperty(f,"right",{get:function(){return l}}),Object.defineProperty(f,"bottom",{get:function(){return u}}),Object.defineProperty(f,"left",{get:function(){return c}}),f}function Wp(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function $p(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const a=r+i>>>1;n(t[a],e)<0?r=a+1:i=a}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>Wp(t(e),n)}(t)),{left:r,center:function(t,n,i,a){null==i&&(i=0),null==a&&(a=t.length);const o=r(t,n,i,a-1);return o>i&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const a=r+i>>>1;n(t[a],e)>0?i=a:r=a+1}return r}}}const Vp=$p(Wp).right;$p((function(t){return null===t?NaN:+t})).center;var Xp=Math.sqrt(50),Gp=Math.sqrt(10),Zp=Math.sqrt(2);function Qp(t,e,n){var r,i,a,o,l=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=Jp(t,e,n))||!isFinite(o))return[];if(o>0){let n=Math.round(t/o),r=Math.round(e/o);for(n*o<t&&++n,r*o>e&&--r,a=new Array(i=r-n+1);++l<i;)a[l]=(n+l)*o}else{o=-o;let n=Math.round(t*o),r=Math.round(e*o);for(n/o<t&&++n,r/o>e&&--r,a=new Array(i=r-n+1);++l<i;)a[l]=(n+l)/o}return r&&a.reverse(),a}function Jp(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Xp?10:a>=Gp?5:a>=Zp?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Xp?10:a>=Gp?5:a>=Zp?2:1)}function Kp(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Xp?i*=10:a>=Gp?i*=5:a>=Zp&&(i*=2),e<t?-i:i}function tg(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const eg=Symbol("implicit");function ng(){var t=new Map,e=[],n=[],r=eg;function i(i){var a=i+"",o=t.get(a);if(!o){if(r!==eg)return r;t.set(a,o=e.push(i))}return n[(o-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return ng(e,n).unknown(r)},tg.apply(i,arguments),i}function rg(){var t,e,n=ng().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,l=!1,u=0,c=0,s=.5;function f(){var n=r().length,f=o<a,d=f?o:a,h=f?a:o;t=(h-d)/Math.max(1,n-u+2*c),l&&(t=Math.floor(t)),d+=(h-d-t*(n-u))*s,e=t*(1-u),l&&(d=Math.round(d),e=Math.round(e));var _=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}(n).map((function(e){return d+t*e}));return i(f?_.reverse():_)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),f()):r()},n.range=function(t){return arguments.length?([a,o]=t,a=+a,o=+o,f()):[a,o]},n.rangeRound=function(t){return[a,o]=t,a=+a,o=+o,l=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(l=!!t,f()):l},n.padding=function(t){return arguments.length?(u=Math.min(1,c=+t),f()):u},n.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),f()):u},n.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},n.align=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),f()):s},n.copy=function(){return rg(r(),[a,o]).round(l).paddingInner(u).paddingOuter(c).align(s)},tg.apply(f(),arguments)}function ig(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ig(e())},t}function ag(){return ig(rg.apply(null,arguments).paddingInner(1))}function og(t){return+t}var lg=[0,1];function ug(t){return t}function cg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function sg(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=cg(i,r),a=n(o,a)):(r=cg(r,i),a=n(a,o)),function(t){return a(r(t))}}function fg(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=cg(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=Vp(t,e,1,r)-1;return a[n](i[n](e))}}function dg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function hg(){var t,e,n,r,i,a,o=lg,l=lg,u=En,c=ug;function s(){var t=Math.min(o.length,l.length);return c!==ug&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(o[0],o[t-1])),r=t>2?fg:sg,i=a=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),l,u)))(t(c(e)))}return f.invert=function(n){return c(e((a||(a=r(l,o.map(t),Mn)))(n)))},f.domain=function(t){return arguments.length?(o=Array.from(t,og),s()):o.slice()},f.range=function(t){return arguments.length?(l=Array.from(t),s()):l.slice()},f.rangeRound=function(t){return l=Array.from(t),u=Cn,s()},f.clamp=function(t){return arguments.length?(c=!!t||ug,s()):c!==ug},f.interpolate=function(t){return arguments.length?(u=t,s()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,s()}}function _g(){return hg()(ug,ug)}function pg(t){var e=t.domain;return t.ticks=function(t){var n=e();return Qp(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,a=Kp(t,e,n);switch((r=au(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=yu(a,o))||(r.precision=i),du(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=mu(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=gu(a))||(r.precision=i-2*("%"===r.type))}return fu(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,a=e(),o=0,l=a.length-1,u=a[o],c=a[l],s=10;for(c<u&&(i=u,u=c,c=i,i=o,o=l,l=i);s-- >0;){if((i=Jp(u,c,n))===r)return a[o]=u,a[l]=c,e(a);if(i>0)u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function gg(){var t=_g();return t.copy=function(){return dg(t,gg())},tg.apply(t,arguments),pg(t)}function yg(t,e){var n,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}function mg(t){return Math.log(t)}function bg(t){return Math.exp(t)}function vg(t){return-Math.log(-t)}function xg(t){return-Math.exp(-t)}function wg(t){return isFinite(t)?+("1e"+t):t<0?0:t}function kg(t){return function(e){return-t(-e)}}function Mg(t){var e,n,r=t(mg,bg),i=r.domain,a=10;function o(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(a),n=function(t){return 10===t?wg:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(a),i()[0]<0?(e=kg(e),n=kg(n),t(vg,xg)):t(mg,bg),r}return r.base=function(t){return arguments.length?(a=+t,o()):a},r.domain=function(t){return arguments.length?(i(t),o()):i()},r.ticks=function(t){var r,o=i(),l=o[0],u=o[o.length-1];(r=u<l)&&(d=l,l=u,u=d);var c,s,f,d=e(l),h=e(u),_=null==t?10:+t,p=[];if(!(a%1)&&h-d<_){if(d=Math.floor(d),h=Math.ceil(h),l>0){for(;d<=h;++d)for(s=1,c=n(d);s<a;++s)if(!((f=c*s)<l)){if(f>u)break;p.push(f)}}else for(;d<=h;++d)for(s=a-1,c=n(d);s>=1;--s)if(!((f=c*s)<l)){if(f>u)break;p.push(f)}2*p.length<_&&(p=Qp(l,u,_))}else p=Qp(d,h,Math.min(h-d,_)).map(n);return r?p.reverse():p},r.tickFormat=function(t,i){if(null==i&&(i=10===a?".0e":","),"function"!=typeof i&&(i=fu(i)),t===1/0)return i;null==t&&(t=10);var o=Math.max(1,a*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*a<a-.5&&(r*=a),r<=o?i(t):""}},r.nice=function(){return i(yg(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function Tg(){var t=Mg(hg()).domain([1,10]);return t.copy=function(){return dg(t,Tg()).base(t.base())},tg.apply(t,arguments),t}var Ag=1e3,Ng=60*Ag,Sg=60*Ng,Eg=24*Sg,Cg=7*Eg,zg=30*Eg,Dg=365*Eg;function Fg(t){return new Date(t)}function Og(t){return t instanceof Date?+t:+new Date(+t)}function Pg(t,e,n,r,i,a,o,l,u){var c=_g(),s=c.invert,f=c.domain,d=u(".%L"),h=u(":%S"),_=u("%I:%M"),p=u("%I %p"),g=u("%a %d"),y=u("%b %d"),m=u("%B"),b=u("%Y"),v=[[o,1,Ag],[o,5,5*Ag],[o,15,15*Ag],[o,30,30*Ag],[a,1,Ng],[a,5,5*Ng],[a,15,15*Ng],[a,30,30*Ng],[i,1,Sg],[i,3,3*Sg],[i,6,6*Sg],[i,12,12*Sg],[r,1,Eg],[r,2,2*Eg],[n,1,Cg],[e,1,zg],[e,3,3*zg],[t,1,Dg]];function x(l){return(o(l)<l?d:a(l)<l?h:i(l)<l?_:r(l)<l?p:e(l)<l?n(l)<l?g:y:t(l)<l?m:b)(l)}function w(e,n,r){if(null==e&&(e=10),"number"==typeof e){var i,a=Math.abs(r-n)/e,o=$p((function(t){return t[2]})).right(v,a);return o===v.length?(i=Kp(n/Dg,r/Dg,e),e=t):o?(i=(o=v[a/v[o-1][2]<v[o][2]/a?o-1:o])[1],e=o[0]):(i=Math.max(Kp(n,r,e),1),e=l),e.every(i)}return e}return c.invert=function(t){return new Date(s(t))},c.domain=function(t){return arguments.length?f(Array.from(t,Og)):f().map(Fg)},c.ticks=function(t){var e,n=f(),r=n[0],i=n[n.length-1],a=i<r;return a&&(e=r,r=i,i=e),e=(e=w(t,r,i))?e.range(r,i+1):[],a?e.reverse():e},c.tickFormat=function(t,e){return null==e?x:u(e)},c.nice=function(t){var e=f();return(t=w(t,e[0],e[e.length-1]))?f(yg(e,t)):c},c.copy=function(){return dg(c,Pg(t,e,n,r,i,a,o,l,u))},c}function Lg(){return tg.apply(Pg(xo,vo,ho,so,co,uo,Xa,Ba,So).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}var jg=1e3;function Hg(t,e){let{edge_padding:n,flip:r}=e;var i=r?t.unique().reverse():t.unique(),a=ag().domain(i).padding(n/100);return a.type="ordinal",a}function qg(t,e){var n=function(t,e){let{min:n,max:r,include_zero:i,nice:a,flip:o}=e;const l=100;if(n===r&&(n=r=null),null!==n&&null!==r)return o?[r,n]:[n,r];let u;if(t.range)u=t.extent(),a&&(u=gg().domain(u).nice().domain()),i&&(u[0]>=0?u[0]=0:u[1]<0&&(u[1]=0),u=gg().domain(u).nice().domain());else if(t.length){var c=t.min;u=c>0?[0,2*c]:c<0?[2*c,0]:[-50,50]}else u=[0,l];return null!==n?(u[0]=n,u[0]===u[1]&&(u[1]=n+(t.range||l))):null!==r&&(u[1]=r,u[0]===u[1]&&(u[0]=r-(t.range||l))),o?u.reverse():u}(t,e),r=gg().domain(n);return r.type="numeric",r}function Ug(t,e){let{min:n,max:r,nice:i,flip:a}=e;const o=t.extent();o[0]<=0&&(o[1]>0?o[0]=Math.min(1,o[1]/jg):o[0]=1),o[1]<=o[0]&&(o[1]=jg*o[0]);const l=Tg().domain(o);i&&l.nice();const u=l.domain();return n===r&&(n=r=null),n>0&&(u[0]=n),r>0&&(u[1]=r),l.domain(a?u.reverse():u),l.type="numeric",l}function Rg(t,e){let{min:n,max:r,format:i,nice:a,flip:o}=e;const l=t.extent(),u=Lg().domain(l);a&&u.nice(),i&&u.tickFormat(null,i);const c=u.domain();return n===r&&(n=r=null),n&&(c[0]=i(n)),r&&(c[1]=i(r)),u.domain(o?c.reverse():c),u.type="datetime",u}function Bg(t,e){if(e.step)return e.step();const n=t.uniqueAscending().map((t=>e(t))),r=n.length;if(r<2)return 0;let i=1/0;for(let t=1;t<r;t++){const e=Math.abs(n[t]-n[t-1]);i=Math.min(i,e)}return i}function Yg(t,e){const n=e.x;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t.xData(),i={nice:n.nice,flip:t.xFlipAxis()!==n.flip};let a;r.string_array?(a=Hg,i.edge_padding=n.edge_padding):r.datetime_array?(a=Rg,i.min=n.datetime_min,i.max=n.datetime_max,i.format=t.xDatetimeParse()):"log"===n.numeric_scale_type?(a=Ug,i.min=n.log_min,i.max=n.log_max):(a=qg,i.min=n.linear_min,i.max=n.linear_max,i.include_zero="off"!==n.zero_axis&&("on"===n.zero_axis||t.xZeroAxis()));const o=a(r,i);if(e.domain_only)return o;const l=t.inner_width,u=t.margins.left+t.inner_margins.left,{left:c,right:s}=function(t,e,n){const r={left:0,right:0},i=t.xData();if(i.string_array)return r;const{left:a,right:o,unit:l}=t.xPadding();if(i.numeric_array&&"linear"!==e.numeric_scale_type&&"px"!==l)return r;if("px"===l||!a&&!o)return{left:a,right:o};const u=i.uniqueAscending(),c=u.length;if(c<2)return r;let s=1/0;for(let t=1;t<c;t++){const e=Math.abs(u[t]-u[t-1]);s=Math.min(s,e)}const f=(Math.max(...n)-Math.min(...n)+(a+o)*s)/s,d=t.inner_width/f;return{left:a*d,right:o*d}}(t,n,o.domain()),f=u+c;let d=[f,f+(l-(c+s))];const h=e.global&&t.offsetLeft();return h&&(d=d.map((function(t){return t+h}))),o.range(d)}}function Ig(t,e){const n=e.y;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r=t.yData();const i={nice:n.nice,flip:t.yFlipAxis()!==n.flip};let a;r.string_array?(a=Hg,i.edge_padding=n.edge_padding):r.datetime_array?(a=Rg,i.min=n.datetime_min,i.max=n.datetime_max,i.format=t.yDatetimeParse()):"log"===n.numeric_scale_type?(a=Ug,i.min=n.log_min,i.max=n.log_max):(a=qg,i.min=n.linear_min,i.max=n.linear_max,i.include_zero="off"!==n.zero_axis&&("on"===n.zero_axis||t.yZeroAxis()));const o=a(r,i);if(e.domain_only)return o;const l=t.inner_height,u=t.margins.top+t.inner_margins.top,{bottom:c,top:s}=function(t,e,n){const r={bottom:0,top:0},i=t.yData();if(i.string_array)return r;const{bottom:a,top:o,unit:l}=t.yPadding();if(i.numeric_array&&"linear"!==e.numeric_scale_type&&"px"!==l)return r;if("px"===l||!a&&!o)return{bottom:a,top:o};const u=i.uniqueAscending(),c=u.length;if(c<2)return r;let s=1/0;for(let t=1;t<c;t++){const e=Math.abs(u[t]-u[t-1]);s=Math.min(s,e)}const f=(Math.max(...n)-Math.min(...n)+(a+o)*s)/s,d=t.inner_height/f;return{bottom:a*d,top:o*d}}(t,n,o.domain()),f=l-(c+s),d=e.global&&t.offsetTop(),h=u+s;let _=[h+f,h];return d&&(_=_.map((function(t){return t+d}))),o.range(_)}}function Wg(t,e){const n=e.y2;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r=t.y2Data();const i={nice:n.nice,flip:t.y2FlipAxis()!==n.flip};let a;r.string_array?(a=Hg,i.edge_padding=n.edge_padding):r.datetime_array?(a=Rg,i.min=n.datetime_min,i.max=n.datetime_max,i.format=t.y2DatetimeParse()):"log"===n.numeric_scale_type?(a=Ug,i.min=n.log_min,i.max=n.log_max):(a=qg,i.min=n.linear_min,i.max=n.linear_max,i.include_zero="off"!==n.zero_axis&&("on"===n.zero_axis||t.y2ZeroAxis()));const o=a(r,i);if(e.domain_only)return o;const l=t.inner_height,u=t.margins.top+t.inner_margins.top,{bottom:c,top:s}=function(t,e,n){const r={bottom:0,top:0},i=t.y2Data();if(i.string_array)return r;const{bottom:a,top:o,unit:l}=t.y2Padding();if(i.numeric_array&&"linear"!==e.numeric_scale_type&&"px"!==l)return r;if("px"===l||!a&&!o)return{bottom:a,top:o};const u=i.uniqueAscending(),c=u.length;if(c<2)return r;let s=1/0;for(let t=1;t<c;t++){const e=Math.abs(u[t]-u[t-1]);s=Math.min(s,e)}const f=(Math.max(...n)-Math.min(...n)+(a+o)*s)/s,d=t.inner_width/f;return{bottom:a*d,top:o*d}}(t,n,o.domain()),f=l-(c+s),d=e.global&&t.offsetTop(),h=u+s;let _=[h+f,h];return d&&(_=_.map((function(t){return t+d}))),o.range(_)}}function $g(t){var e=!1;return function(n){return void 0===n?e:(e=!!n,t)}}function Vg(t){let e=!1;return function(n){return void 0===n?e:(e=!!n,t)}}function Xg(t){var e=!1,n=!1;return function(r){return void 0===r?!!e&&{keep_gridlines:n}:(e=!!r,n=!(!r||"object"!=typeof r||!r.keep_gridlines),t)}}function Gg(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=e[n],i=t[n+"Scale"]({domain_only:!0}),a=t[n+"Data"]();let o;if("x"===n?"off"===r.axis_position:!r.axis_visible)o=[];else if(a.string_array){let t=i.domain();if("custom"!==r.tick_mode)o=t;else{o=Ep(r.tick_custom.replace("{{FIRST}}",t[0]).replace("{{LAST}}",t[t.length-1])).filter((t=>i.domain().indexOf(t)>-1))}}else if("number"===r.tick_mode)o=i.ticks(r.tick_number);else{const e=a.datetime_array,u=i.domain(),c=Math.min(...u),s=Math.max(...u);if("custom"===r.tick_mode){const i=t[n+(e?"Datetime":"Number")+"Parse"]();o=Ep(r.tick_custom).map((t=>"{{FIRST}}"===t?u[0]:"{{LAST}}"===t?u[u.length-1]:i(t)))}else{const e=t[n+"AutoTicks"]();o=Array.isArray(e)?e:e()}o=e?o.filter((t=>{return Sp(e=t)&&!isNaN(e.getTime())&&t>=c&&t<=s;var e})):o.filter((t=>!isNaN(t)&&t>=c&&t<=s)),o=(l=o).length?Sp(l[0])?Array.from(new Set(l.map((t=>t.getTime())))).map((t=>new Date(t))):Array.from(new Set(l)):l.slice()}var l;return o}function Zg(t,e){return function(){t.xTicks._update(Gg(t,e,"x")),t.yTicks._update(Gg(t,e,"y")),t.y2Ticks._update(Gg(t,e,"y2"))}}function Qg(t,e){var n=t.significant_digits-e.significant_digits;return n||((n=e.exponent-t.exponent)||(n=Math.abs(e.value)-Math.abs(t.value))?n:n=e.value-t.value)}function Jg(t){t.style("user-select","none").style("-moz-user-select","none").style("-webkit-user-select","none").style("-ms-user-select","none").style("cursor","default")}function Kg(){return document.body.getAttribute("dir")}function ty(t,e){var n,r,i,a,o,l,u,c,s,f,d,h,_,p,g,y,m,b,v,x,w=e.x;var k=function(){var m,k=t.chart.select("g.fl-bottom-axis"),M=k.select("g.fl-axis-line"),T=k.select("g.fl-axis-ticks"),A=k.select("g.fl-axis-title");return function(){var k=w.axis_position,N={pos:k},S=!t.xHide()&&-1!==["bottom","float-below"].indexOf(k),E=S?t.xTicks():[],C=t.y_bottom;void 0===m&&(m=C);var z=C+gp(w.title_padding);function D(t,e){return void 0===t||isNaN(t)?e:t}"bottom"===k&&(z+=s+E.max_box_height,N.extended_gridline=C+s+E.max_box_height);var F=m,O=C;"float-below"===k&&(F=D((x||r)(w.y_axis_position),m),O=D(r(w.y_axis_position),C));var P=M.selectAll("line").data(S&&w.line_visible?[n.domain()]:[]);P.exit().style("stroke",a).style("stroke-width",o).transition().duration(i).attr("x1",h).attr("x2",p).attr("y1",O).attr("y2",O).style("opacity",0).remove();var L=P.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",o).attr("x1",g).attr("x2",y).attr("y1",F).attr("y2",F).style("opacity",0);P.merge(L).style("stroke",a).style("stroke-width",o).transition().duration(i).attr("x1",h).attr("x2",p).attr("y1",O).attr("y2",O).style("opacity",1);var j=S?E:[];"numeric"===E.type&&"custom"!==w.tick_mode&&(j=E.slice().sort(Qg));var H=function(t){var e="default"==w.tick_label_position?-w.tick_label_angle:-90,n=xp(e,0,0);if("default"!==w.tick_label_position){var r="left"===w.tick_label_position?-.3:1;return vp(0,s)+" "+n+" "+vp(0,c*r)}return 0===e?vp(t.text_width/2,s+.66*c):-90===e?vp(0,s)+" "+n+" "+vp(0,.33*c-t.multiline_offset):vp(0,s)+" "+n+" "+vp(0,.66*c)},q=T.selectAll("g").data(j,(function(t){return t.type+"-"+t.value})),U=q.exit();U.transition().duration(i).attr("transform",(function(t){return vp(v(t.value),O)})).style("opacity",0).remove(),U.each((function(){var t=wd(this);t.select("line").style("stroke",a).style("stroke-width",o).transition().duration(i).attr("y2",u),t.select("text").style("fill",l).style("font-size",c+"px").style("font-weight",w.tick_label_weight).attr("transform",H).transition().duration(i)}));var R=q.enter().append("g").style("opacity",0);R.attr("transform",(function(t){return vp(b(t.value),F)})),R.each((function(){var t=wd(this);t.append("line").attr("y2",u),t.append("text").attr("text-anchor","middle").attr("transform",H).call(Jg)}));var B=q.merge(R);B.transition().duration(i).style("opacity",1).attr("transform",(function(t){return vp(n(t.value),O)}));var Y,I,W=(Y=[],I=O+s,function(t){var r=n(t.value);if("float-below"===k){var i=n.range();if(e.y.axis_visible&&r-t.box_width_left<i[0])return 0;if(e.y2.axis_visible&&r+t.box_width_right>i[1])return 0}for(var a=[r,I],o=[a,[r+t.box_width_right,I+t.box_height_right]],l=[a,[r-t.box_width_left,I+t.box_height_left]],u=0;u<Y.length;u++){var c=Y[u];if(r<=c.x_anchor){if(Tp(o,c.q))return 0}else if(Tp(c.p,l))return 0}return Y.push({x_anchor:r,p:o,q:l}),1});const $=Kg();B.each((function(){var t=wd(this);t.select("line").style("stroke",a).style("stroke-width",o).transition().duration(i).attr("y2",u),t.select("text").each((function(){var t=wd(this).selectAll("tspan").data((function(t){return t.lines}));t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",(function(t,e){return e?w.tick_label_line_height+"em":0})).text((function(t){return"number"==typeof t&&isNaN(t)?"":t})),t.exit().remove()})).attr("text-anchor","rtl"===$?"start":"end").style("fill",l).style("font-size",c+"px").style("font-weight",w.tick_label_weight).transition().duration(i).style("opacity",W).attr("transform",H)}));var V=A.selectAll("text").data(S&&d?[d]:[]);return V.exit().remove(),V.enter().append("text").attr("text-anchor","middle").style("font-size",f+"px").style("fill",w.title_color).style("font-weight",w.title_weight).call(Jg).transition().duration(0).delay(i).text((function(t){return t})).attr("x",_).attr("y",z).attr("dy",f),V.text((function(t){return t})).style("fill",w.title_color).style("font-size",f+"px").style("font-weight",w.title_weight).transition().duration(i).attr("x",_).attr("y",z).attr("dy",f),m=C,"bottom"==k?N:null}}(),M=function(){var y,m=t.chart.select("g.fl-top-axis"),k=m.select("g.fl-axis-line"),M=m.select("g.fl-axis-ticks"),T=m.select("g.fl-axis-title");return function(){var m=w.axis_position,A={pos:m},N=!t.xHide()&&-1!==["top","float-above"].indexOf(m),S=N?t.xTicks():[],E=t.y_top;void 0===y&&(y=E);var C=E-gp(w.title_padding);"top"===m&&(C-=s+S.max_box_height,A.extended_gridline=E-(s+S.max_box_height));var z="float-above"===m?(x||r)(w.y_axis_position):y,D="float-above"===m?r(w.y_axis_position):E,F=k.selectAll("line").data(N&&w.line_visible?[n.domain()]:[]);F.exit().style("stroke",a).style("stroke-width",o).transition().duration(i).attr("x1",h).attr("x2",p).attr("y1",D).attr("y2",D).style("opacity",0).remove();var O=F.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",o).attr("x1",g).attr("x2",g).attr("y1",z).attr("y2",z).style("opacity",0);F.merge(O).style("stroke",a).style("stroke-width",o).transition().duration(i).attr("x1",h).attr("x2",p).attr("y1",D).attr("y2",D).style("opacity",1);var P=[];N&&(P="numeric"===S.type?S.slice().sort(Qg):S);var L=function(t){var e="default"==w.tick_label_position?-w.tick_label_angle:-90,n=xp(e,0,0);if("default"!==w.tick_label_position){var r="left"===w.tick_label_position?-.3:1;return vp(0,-s)+" "+n+" "+vp(0,c*r)}return 0===e?vp(-t.text_width/2,-(s+.33*c)):-90===e?vp(0,-s)+" "+n+" "+vp(0,.33*c-t.multiline_offset):vp(0,-s)+" "+n+vp(0,-t.multiline_offset)},j=M.selectAll("g").data(P,(function(t){return t.type+"-"+t.value})),H=j.exit();H.transition().duration(i).attr("transform",(function(t){return vp(v(t.value),D)})).style("opacity",0).remove(),H.each((function(){var t=wd(this);t.select("line").style("stroke",a).style("stroke-width",o).transition().duration(i).attr("y2",-u),t.select("text").style("fill",l).style("font-size",c+"px").style("font-weight",w.tick_label_weight).attr("transform",L).transition().duration(i)}));var q=j.enter().append("g").style("opacity",0);q.attr("transform",(function(t){return vp(b(t.value),z)})),q.each((function(){var t=wd(this);t.append("line").attr("y2",-u),t.append("text").attr("text-anchor","middle").attr("transform",L).call(Jg)}));var U=j.merge(q);U.transition().duration(i).style("opacity",1).attr("transform",(function(t){return vp(n(t.value),D)}));var R,B,Y=(R=[],B=D+s,function(t){var r=n(t.value);if("float-above"===m){var i=n.range();if(e.y.axis_visible&&r-t.box_width_left<i[0])return 0;if(e.y2.axis_visible&&r+t.box_width_right>i[1])return 0}for(var a=[r,B],o=[a,[r-t.box_width_left,B-t.box_height_left]],l=[a,[r+t.box_width_right,B-t.box_height_right]],u=0;u<R.length;u++){var c=R[u];if(r<=c.x_anchor){if(Tp(l,c.p))return 0}else if(Tp(o,c.q))return 0}return R.push({x_anchor:r,p:o,q:l}),1});const I=Kg();U.each((function(){var t=wd(this);t.select("line").style("stroke",a).style("stroke-width",o).transition().duration(i).attr("y2",-u),t.select("text").each((function(){var t=wd(this).selectAll("tspan").data((function(t){return t.lines}));t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",(function(t,e){return e?w.tick_label_line_height+"em":0})).text((function(t){return"number"==typeof t&&isNaN(t)?"":t})),t.exit().remove()})).attr("text-anchor","rtl"===I?"end":"start").style("fill",l).style("font-size",c+"px").style("font-weight",w.tick_label_weight).transition().duration(i).style("opacity",Y).attr("transform",L)}));var W=T.selectAll("text").data(N&&d?[d]:[]);return W.exit().remove(),W.enter().append("text").attr("text-anchor","middle").style("font-size",f+"px").style("fill",w.title_color).style("font-weight",w.title_weight).call(Jg).transition().duration(0).delay(i).text((function(t){return t})).attr("x",_).attr("y",C).attr("dy",-.33*f),W.text((function(t){return t})).style("fill",w.title_color).style("font-size",f+"px").style("font-weight",w.title_weight).transition().duration(i).attr("x",_).attr("y",C).attr("dy",-.33*f),y=E,"top"==m?A:null}}();return function(){!function(){n=Np(t.xScale()),r=Np(t.yScale()),i=m?t.animationDuration():0,h=t.x_left,p=t.x_right,_=(h+p)/2,void 0===g&&(g=h),m||(m=n),b=m.type===n.type&&"ordinal"!==n.type?m:n,v=m.type===n.type&&"ordinal"!==m.type?n:m,a=w.line_and_tick_color,o=gp(w.line_and_tick_width,!0),l=w.tick_label_color;var e="default"===w.tick_label_position,y=t.xTicks(),x=y.max_box_height,k=y.length?gp(w.tick_padding):0;"top"!=w.axis_position&&"bottom"!=w.axis_position||(x+=k);var M="out"===w.tick_side;u=e?gp(w.tick_length)*(M?1:-1):x,c=gp(w.tick_label_size),s=(M&&e?u:0)+k,f=gp(w.title_size),d=t.xTitle()}();var e=k(),T=M();return m=n,x=r,g=h,y=p,e||T}}function ey(t,e){var n=ty(t,e),r=function(t,e){var n,r,i,a,o,l=t.chart.select("g.fl-left-axis"),u=l.select("g.fl-axis-line"),c=l.select("g.fl-axis-ticks"),s=l.select("g.fl-axis-title"),f=e.y;return function(){var l={},d=f.axis_visible&&!t.yHide(),h=Np(t.xScale()),_=Np(t.yScale()),p=d?t.yTicks():[],g=n?t.animationDuration():0;n||(n=h),r||(r=_);var y=r.type===_.type&&"ordinal"!==_.type?r:_,m=r.type===_.type&&"ordinal"!==r.type?_:r,b=t.y_bottom,v=t.y_top;void 0===i&&(i=b),void 0===a&&(a=v);var x=t.x_left;void 0===o&&(o=x);var w=f.line_and_tick_color,k=gp(f.line_and_tick_width,!0),M=f.tick_label_color,T="default"===f.tick_label_position,A="out"===f.tick_side,N=gp(f.tick_padding),S=t.yTicks().max_box_width+N,E=T?gp(f.tick_length)*(A?1:-1):S,C=gp(f.tick_label_size),z=(A&&T?E:0)+N,D=t.yTitle(),F=gp(f.title_size),O=z+p.max_box_width+gp(f.title_padding)+.33*F;l.extended_gridline=x-(z+p.max_box_width);var P=(v+b)/2,L=u.selectAll("line").data(d&&f.line_visible?[_.domain()]:[]);L.exit().style("stroke",w).style("stroke-width",k).transition().duration(g).attr("x1",x).attr("x2",x).attr("y1",b).attr("y2",v).style("opacity",0).remove();var j=L.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",k).attr("x1",o).attr("x2",o).attr("y1",i).attr("y2",a).style("opacity",0);L.merge(j).style("stroke",w).style("stroke-width",k).transition().duration(g).attr("x1",x).attr("x2",x).attr("y1",b).attr("y2",v).style("opacity",1);var H=d?p:[];function q(t){if("default"!==f.tick_label_position)return vp(-z-(p.max_box_width-t.box_width),("above"===f.tick_label_position?-.3:1)*C);var e=-f.tick_label_angle;if(0===e)return vp(-z,.33*C-t.multiline_offset);var n=vp(-z,0)+" "+xp(e);return-90===e&&(n+=" "+vp(t.text_width/2,0)),n}"numeric"===p.type&&"custom"!==f.tick_mode&&(H=p.slice().sort(Qg));var U=c.selectAll("g").data(H,(function(t){return t.type+"-"+t.value})),R=U.exit();R.transition().duration(g).attr("transform",(function(t){return vp(x,m(t.value))})).style("opacity",0).remove(),R.each((function(){var t=wd(this);t.select("line").style("stroke",w).style("stroke-width",k).transition().duration(g).attr("x2",-E),t.select("text").style("fill",M).style("font-size",C+"px").style("font-weight",f.tick_label_weight).attr("transform",q).transition().duration(g)}));var B=U.enter().append("g").style("opacity",0);B.attr("transform",(function(t){return vp(o,y(t.value))}));const Y="rtl"===Kg()?"start":"end";B.each((function(){var t=wd(this);t.append("line").attr("x2",-E),t.append("text").attr("text-anchor",Y).attr("transform",q).call(Jg)}));var I=U.merge(B);I.transition().duration(g).style("opacity",1).attr("transform",(function(t){return vp(x,_(t.value))}));var W,$,V=(W=[],$=x-z,function(t){for(var e=_(t.value),n=[$,e],r=[n,[$-t.box_width_above,e-t.box_height_above]],i=[n,[$-t.box_width_below,e+t.box_height_below]],a=0;a<W.length;a++){var o=W[a];if(e>=o.y_anchor){if(Tp(r,o.q))return 0}else if(Tp(o.p,i))return 0}return W.push({y_anchor:e,p:r,q:i}),1});I.each((function(){var t=wd(this);t.select("line").style("stroke",w).style("stroke-width",k).transition().duration(g).attr("x2",-E),t.select("text").each((function(){var t=wd(this).selectAll("tspan").data((function(t){return t.lines}));t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",(function(t,e){return e?f.tick_label_line_height+"em":0})).text((function(t){return"number"==typeof t&&isNaN(t)?"":t})),t.exit().remove()})).style("fill",M).style("font-size",C+"px").style("font-weight",f.tick_label_weight).attr("text-anchor",Y).transition().duration(g).style("opacity",V).attr("transform",q)}));var X=s.selectAll("text").data(d&&D?[D]:[]);X.exit().remove();var G=function(){if("side"===f.title_position)return vp(x,P)+" "+xp(-90)+" "+vp(0,-O);const n=x-t.margins._calculated().left,r=["top","float-above"].includes(e.x.axis_position),i=gp(f.title_padding);let a;if(r){const t=p[0].box_height_below,e=gp(.66*f.title_size);a=b+(t+i+e)}else{const t=p[p.length-1].box_height_above;a=v-(t+i)}return vp(n,a)};return X.enter().append("text").attr("text-anchor","side"===f.title_position?"middle":"start").style("font-size",F+"px").style("fill",f.title_color).style("font-weight",f.title_weight).call(Jg).transition().duration(0).delay(g).text((function(t){return t})).attr("transform",G),X.text((function(t){return t})).attr("text-anchor","side"===f.title_position?"middle":"start").style("fill",f.title_color).style("font-size",F+"px").style("font-weight",f.title_weight).transition().duration(g).attr("transform",G),n=h,r=_,i=b,a=v,o=x,l}}(t,e),i=function(t,e){var n,r,i,a,o,l=t.chart.select("g.fl-right-axis"),u=l.select("g.fl-axis-line"),c=l.select("g.fl-axis-ticks"),s=l.select("g.fl-axis-title"),f=e.y2;return function(){var l={},d=f.axis_visible&&!t.y2Hide(),h=Np(t.xScale()),_=Np(t.y2Scale()),p=d?t.y2Ticks():[],g=n?t.animationDuration():0;n||(n=h),r||(r=_);var y=r.type===_.type&&"ordinal"!==_.type?r:_,m=r.type===_.type&&"ordinal"!==r.type?_:r,b=t.y_bottom,v=t.y_top;void 0===i&&(i=b),void 0===a&&(a=v);var x=t.x_right;void 0===o&&(o=x);var w=f.line_and_tick_color,k=gp(f.line_and_tick_width,!0),M=f.tick_label_color,T="default"===f.tick_label_position,A="out"===f.tick_side,N=gp(f.tick_padding),S=t.y2Ticks().max_box_width+N,E=T?gp(f.tick_length)*(A?1:-1):S,C=gp(f.tick_label_size),z=(A&&T?E:0)+N,D=t.y2Title(),F=gp(f.title_size),O=z+p.max_box_width+gp(f.title_padding)+.85*F;l.extended_gridline=x+z+p.max_box_width;var P=(b+v)/2,L=u.selectAll("line").data(d&&f.line_visible?[_.domain()]:[]);L.exit().style("stroke",w).style("stroke-width",k).transition().duration(g).attr("x1",x).attr("x2",x).attr("y1",b).attr("y2",v).style("opacity",0).remove();var j=L.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",k).attr("x1",o).attr("x2",o).attr("y1",i).attr("y2",a).style("opacity",0);L.merge(j).style("stroke",w).style("stroke-width",k).transition().duration(g).attr("x1",x).attr("x2",x).attr("y1",b).attr("y2",v).style("opacity",1);var H="numeric"===p.type?p.slice().sort(Qg):p;function q(t){if("default"!==f.tick_label_position)return vp(z+(p.max_box_width-t.box_width),("above"===f.tick_label_position?-.3:1)*C);var e=-f.tick_label_angle;if(0===e)return vp(z,.33*C-t.multiline_offset);var n=vp(z,0)+" "+xp(e);return-90===e&&(n+=" "+vp(t.text_width/2,0)),n}var U=c.selectAll("g").data(H,(function(t){return t.type+"-"+t.value})),R=U.exit();R.transition().duration(g).attr("transform",(function(t){return vp(x,m(t.value))})).style("opacity",0).remove(),R.each((function(){var t=wd(this);t.select("line").style("stroke",w).style("stroke-width",k).transition().duration(g).attr("x2",-E),t.select("text").style("fill",M).style("font-size",C+"px").style("font-weight",f.tick_label_weight).attr("transform",q).transition().duration(g)}));var B=U.enter().append("g").style("opacity",0);B.attr("transform",(function(t){return vp(o,y(t.value))}));const Y=Kg();B.each((function(){var t=wd(this);t.append("line").attr("x2",E),t.append("text").attr("transform",q).call(Jg)}));var I=U.merge(B);I.transition().duration(g).style("opacity",1).attr("transform",(function(t){return vp(x,_(t.value))})).attr("text-anchor","rtl"===Y?"end":"start");var W,$,V=(W=[],$=x+z,function(t){for(var e=_(t.value),n=[$,e],r=[n,[$-t.box_width_above,e-t.box_height_above]],i=[n,[$-t.box_width_below,e+t.box_height_below]],a=0;a<W.length;a++){var o=W[a];if(e>=o.y_anchor){if(Tp(r,o.q))return 0}else if(Tp(o.p,i))return 0}return W.push({y_anchor:e,p:r,q:i}),1});I.each((function(){var t=wd(this);t.select("line").style("stroke",w).style("stroke-width",k).transition().duration(g).attr("x2",E),t.select("text").each((function(){var t=wd(this).selectAll("tspan").data((function(t){return t.lines}));t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",(function(t,e){return e?f.tick_label_line_height+"em":0})).text((function(t){return"number"==typeof t&&isNaN(t)?"":t})),t.exit().remove()})).style("fill",M).style("font-size",C+"px").style("font-weight",f.tick_label_weight).transition().duration(g).style("opacity",V).attr("transform",q)}));var X=s.selectAll("text").data(d&&D?[D]:[]);X.exit().remove();var G=function(){if("side"===f.title_position)return vp(x,P)+" "+xp(-90)+" "+vp(0,O);const n=x+t.margins._calculated().right,r=["top","float-above"].includes(e.x.axis_position),i=gp(f.title_padding);let a;if(r){const t=p[0].box_height_below,e=gp(.66*f.title_size);a=b+(t+i+e)}else{const t=p[p.length-1].box_height_above;a=v-(t+i)}return vp(n,a)};return X.enter().append("text").attr("text-anchor","side"===f.title_position?"middle":"end").style("font-size",F+"px").style("fill",f.title_color).style("font-weight",f.title_weight).call(Jg).transition().duration(0).delay(g).text((function(t){return t})).attr("transform",G),X.text((function(t){return t})).attr("text-anchor","side"===f.title_position?"middle":"end").style("fill",f.title_color).style("font-size",F+"px").style("font-weight",f.title_weight).transition().duration(g).attr("transform",G),n=h,r=_,i=b,a=v,o=x,l}}(t,e);return function(){return{x:n(),y:r(),y2:i()}}}var ny={solid:null,dash:[4,1],dot:[1,1],dot_dash:[4,1,1,1]};function ry(t){if("solid"===t)return null;var e=gp(1)/4;return ny[t].map((function(t){return t*e})).join(" ")}function iy(t,e){var n=function(t){let e=t.chart.select("rect.fl-chart-debug-rectangle");return function(){e.attr("width",t.width()).attr("height",t.height()).style("stroke",t.debugColor()).style("display",t.debug()?null:"none")}}(t),r=Zg(t,e),i=function(t,e){var n=t.chart.select("clipPath.fl-data-clip-path"),r=n.select("rect"),i=t.chart.select("clipPath.fl-grid-clip-path"),a=i.select("rect"),o=t.chart.select(".fl-data-background"),l=t.chart.select(".fl-data-foreground"),u=t.chart.select(".fl-gridlines");return function(){var c=t.identifier()+"-clip-path",s="url(#"+c+")";n.attr("id",c);var f=t.identifier()+"-grid-clip-path",d="url(#"+f+")";i.attr("id",f),o.attr("clip-path",s),l.attr("clip-path",s),u.attr("clip-path",d);var h=t.x_left,_=t.x_right,p=t.y_top,g=t.y_bottom,y=t.clip(),m=y.left?h:0,b=y.top?p:0,v=Math.max((y.right?_:t.width())-m,1),x=Math.max((y.bottom?g:t.height())-b,1);r.attr("x",m).attr("y",b).attr("width",v).attr("height",x);var w=gp(e.x.gridline_width,!0),k=gp(e.y.gridline_width,!0);a.transition().duration(t.animationDuration()).attr("x",h-w).attr("y",p-k).attr("width",_-h+2*w).attr("height",g-p+2*k)}}(t,e),a=function(t,e){var n=e.background,r=t.chart.select("rect.fl-chart-fill"),i=t.chart.select("image.fl-chart-image"),a=t.chart.select("rect.fl-chart-interaction");return function(){var e=t.x_left,o=t.y_top,l=Math.max(t.plot_width,1),u=Math.max(t.plot_height,1);r.attr("x",e).attr("y",o).attr("width",l).attr("height",u).attr("fill",n.background_color_enabled?n.background_color:"none"),i.attr("x",e).attr("y",o).attr("width",l).attr("height",u).attr("xlink:href",n.background_image_enabled?n.background_image_src:null).attr("preserveAspectRatio",(function(){return"stretch"==n.background_image_size?"none":n.background_image_position+" "+n.background_image_size})),a.attr("x",e).attr("y",o).attr("width",l).attr("height",u)}}(t,e),o=ey(t,e),l=function(t,e){var n,r,i,a,o,l,u,c=e.x,s=e.y,f=e.y2,d=t.chart.select("g.fl-gridlines-vertical"),h=t.chart.select("g.fl-gridlines-horizontal");return function(_){var p=Np(t.xScale()),g=Np(t.yScale()),y=Np(t.y2Scale()),m=t.x_left,b=t.x_right;void 0===a&&(a=m),void 0===o&&(o=b);var v=t.y_bottom,x=t.y_top;void 0===l&&(l=v),void 0===u&&(u=x),r=r||g,i=i||y;var w=(n=n||p).type===p.type&&"ordinal"!==p.type?n:p,k=n.type===p.type&&"ordinal"!==n.type?p:n,M=r.type===g.type&&"ordinal"!==g.type?r:g,T=r.type===g.type&&"ordinal"!==r.type?g:r,A=i.type===y.type&&"ordinal"!==i.type?i:y,N=i.type===y.type&&"ordinal"!==i.type?y:i,S=n?t.animationDuration():0,E=function(n){if("x"===n&&"off"===e.x.axis_position)return[];if("x"!==n&&!e[n].axis_visible)return[];if(!e[n].gridlines_visible)return[];var r=t[n+"Hide"]();return r&&!r.keep_gridlines?[]:t[n+"Ticks"]()},C=E("x"),z=E("y"),D=E("y2"),F=C.map((function(t){return{type:t.type,value:t.value,dasharray:ry(c.gridline_style),stroke:c.gridline_color,width:gp(c.gridline_width,!0),x_enter:w(t.value),x:p(t.value)}}));if(c.gridline_category_dividers&&p.step){var O=p.step();F.pop(),F.forEach((function(t){if(t.x_enter+=O/2,t.x+=O/2,c.gridline_category_dividers_extend){var e=_.x&&"top"==_.x.pos,n=_.x&&"bottom"==_.x.pos;e?t.y2=_.x.extended_gridline:n&&(t.y1=_.x.extended_gridline)}}))}var P=z.map((function(t){return{axis:"y",type:t.type,value:t.value,dasharray:ry(s.gridline_style),stroke:s.gridline_color,width:gp(s.gridline_width,!0),y_enter:M(t.value),y:g(t.value)}}));if(s.gridline_category_dividers&&g.step){var L=g.step();P.pop(),P.forEach((function(t){t.y_enter-=L/2,t.y-=L/2,s.gridline_category_dividers_extend&&(t.x1=_.y.extended_gridline)}))}var j=D.map((function(t){return{axis:"y2",type:t.type,value:t.value,dasharray:ry(f.gridline_style),stroke:f.gridline_color,width:gp(f.gridline_width),y_enter:A(t.value),y:y(t.value)}}));if(f.gridline_category_dividers&&y.step){var H=y.step();j.pop(),j.forEach((function(t){t.y_enter-=H/2,t.y-=H/2,f.gridline_category_dividers_extend&&(t.x2=_.y2.extended_gridline)}))}var q=P.concat(j),U=d.selectAll("line").data(F,(function(t){return t.type+"-"+t.value}));U.exit().attr("stroke-dasharray",(function(t){return t.dasharray})).style("stroke",(function(t){return t.stroke})).style("stroke-width",(function(t){return t.width})).transition().duration(S).attr("x1",(function(t){return k(t.value)})).attr("x2",(function(t){return k(t.value)})).attr("y1",v).attr("y2",x).style("opacity",0).remove();var R=U.enter().append("line").style("shape-rendering","crispEdges").attr("x1",(function(t){return t.x_enter})).attr("x2",(function(t){return t.x_enter})).attr("y1",l).attr("y2",u).style("opacity",0);U.merge(R).attr("stroke-dasharray",(function(t){return t.dasharray})).style("stroke",(function(t){return t.stroke})).style("stroke-width",(function(t){return t.width})).transition().duration(S).attr("x1",(function(t){return t.x})).attr("x2",(function(t){return t.x})).attr("y1",v).attr("y2",x).style("opacity",1);var B=h.selectAll("line").data(q,(function(t){return t.axis+"-"+t.type+"-"+t.value}));B.exit().attr("stroke-dasharray",(function(t){return t.dasharray})).style("stroke",(function(t){return t.stroke})).style("stroke-width",(function(t){return t.width})).transition().duration(S).attr("x1",m).attr("x2",b).attr("y1",(function(t){return"y"===t.axis?T(t.value):N(t.value)})).attr("y2",(function(t){return"y"===t.axis?T(t.value):N(t.value)})).style("opacity",0).remove();var Y=B.enter().append("line").style("shape-rendering","crispEdges").attr("x1",a).attr("x2",o).attr("y1",(function(t){return t.y_enter})).attr("y2",(function(t){return t.y_enter})).style("opacity",0);B.merge(Y).attr("stroke-dasharray",(function(t){return t.dasharray})).style("stroke",(function(t){return t.stroke})).style("stroke-width",(function(t){return t.width})).transition().duration(S).attr("x1",m).attr("x2",b).attr("y1",(function(t){return t.y})).attr("y2",(function(t){return t.y})).style("opacity",1),n=p,r=g,i=y,a=m,o=b}}(t,e);return function(e){var u,c,s,f;if(e=e||{},u=parseFloat(getComputedStyle(document.documentElement).fontSize),c=window.devicePixelRatio,gp=function(t,e){return t?e?Math.max(Math.round(t*u*c),1)/c:t*u:0},s=null,(t.offsetLeft()||t.offsetTop())&&(s="translate("+t.offsetLeft()+","+t.offsetTop()+")"),t.chart.attr("transform",s),n(),r(),f=e.margins,t.margins._update(f),function(e){t.inner_margins._update(e)}(e.inner_margins),e.skip_rendering)return t;i(),a();var d=o();return l(d),t}}function ay(t,e){var n=t[0],r=e[0],i=t[1],a=e[1],o=t[2]-n,l=e[2]-r,u=t[3]-i,c=e[3]-a;return n<r+l&&n+o>r&&i<a+c&&i+u>a}function oy(t,e){t.left+=e,t.right+=e,t.x_offset+=e}function ly(t,e){t.top+=e,t.bottom+=e,t.y_offset+=e}function uy(t,e,n){for(var r=t.sort((function(t,e){return ga(t.y,e.y)})),i=[],a=0;a<r.length;a++){var o=r[a],l=r[a-1]||null,u=l?o.top-(l.bottom+n):o.top-e[0];0==a||u>0?i.push([o]):i[i.length-1].push(o)}for(a=0;a<i.length;a++)for(var c=i[a],s=0;s<c.length;s++){o=c[s];l=c[s-1]||null,(u=l?o.top-(l.bottom+n):o.top-e[0])<0&&ly(o,-u)}for(a=i.length-1;a>=0;a--){c=i[a];var f=i[a+1]?i[a+1][0].top:e[1];(h=f-c[c.length-1].bottom-n)<0&&c.forEach((function(t){ly(t,h)}))}for(a=0;a<i.length;a++){c=i[a];var d=i[a-1]?i[a-1][i[a-1].length-1].bottom+n:e[0],h=(u=c[0].top-d,(f=e[1])-c[c.length-1].bottom);u<0&&h>0&&c.forEach((function(t){ly(t,Math.min(-u,h))}))}for(a=0;a<i.length;a++){c=i[a],d=i[a-1]?i[a-1][i[a-1].length-1].bottom+n:e[0],u=c[0].top-d,h=(f=i[a+1]?i[a+1][0].top:e[1])-c[c.length-1].bottom;var _=0;c.forEach((function(t){_+=t.y_offset}));var p=-(_/c.length),g=p<0?Math.max(p,-u):Math.min(p,h),y=0,m=0;c.forEach((function(t){ly(t,g),t.y_offset<0&&(t.positive_index=y++),t.y_offset>0&&(t.negative_index=m++)})),c.forEach((function(t){t.y_offset<0?(t.step_line_x_index=t.positive_index,t.step_line_x_count=y):t.y_offset>0&&(t.step_line_x_index=m-t.negative_index-1,t.step_line_x_count=m)}))}t.any_offsets=t}function cy(t,e,n){for(var r=t.sort((function(t,e){return ga(t.x,e.x)})),i=[],a=0;a<r.length;a++){var o=r[a],l=r[a-1]||null,u=l?o.left-(l.right+n):o.left-e[0];0==a||u>0?i.push([o]):i[i.length-1].push(o)}for(a=0;a<i.length;a++)for(var c=i[a],s=0;s<c.length;s++){o=c[s];l=c[s-1]||null,(u=l?o.left-(l.right+n):o.left-e[0])<0&&oy(o,-u)}for(a=i.length-1;a>=0;a--){c=i[a];var f=i[a+1]?i[a+1][0].left:e[1];(h=f-c[c.length-1].right-n)<0&&c.forEach((function(t){oy(t,h)}))}for(a=0;a<i.length;a++){c=i[a];var d=i[a-1]?i[a-1][i[a-1].length-1].right+n:e[0],h=(u=c[0].left-d,(f=e[1])-c[c.length-1].right);u<0&&h>0&&c.forEach((function(t){oy(t,Math.min(-u,h))}))}for(a=0;a<i.length;a++){c=i[a],d=i[a-1]?i[a-1][i[a-1].length-1].right+n:e[0],u=c[0].left-d,h=(f=i[a+1]?i[a+1][0].left:e[1])-c[c.length-1].right;var _=0;c.forEach((function(t){_+=t.x_offset}));var p=-(_/c.length),g=p<0?Math.max(p,-u):Math.min(p,h),y=0,m=0;c.forEach((function(t){oy(t,g),t.x_offset<0&&(t.positive_index=y++),t.x_offset>0&&(t.negative_index=m++)})),c.forEach((function(t){t.x_offset<0?(t.step_line_y_index=t.positive_index,t.step_line_y_count=y):t.x_offset>0&&(t.step_line_y_index=m-t.negative_index-1,t.step_line_y_count=m)}))}t.any_offsets=t}const sy={max_width:8,overlap_mode:"spread",text_color:null,text_size:1,text_bg_size:25,text_bg_color:null,text_weight:700,text_line_height:.9,text_max_lines:3,spreading_margin:.5,show_only_labels:"",data_point_margin:.5,lines:"auto",line_padding:.25,line_color:"#aaaaaa",line_width:.075,line_style:"step"};function fy(t,e){for(var n in sy)n in t||(t[n]=sy[n]);return this._data=[],this._container=void 0!==e?e:null,this._state=t,this._duration=1e3,this._delay=1e3,this._x_bounds=[-1/0,1/0],this._y_bounds=[-1/0,1/0],this._group=null,this._background_color=null,this._foreground_color="black",this._aria_hidden=!1,this._orientation="vertical",this._read_direction=null,this}fy.prototype.container=function(t){return void 0!==t?(this._container=t,this):this._container},fy.prototype.data=function(t){return void 0!==t?(this._data=t,this):this._data},fy.prototype.group=function(t){return void 0!==t?(this._group=t,this):this._group},fy.prototype.backgroundColor=function(t){return void 0!==t?(this._background_color=t,this):this._background_color},fy.prototype.foregroundColor=function(t){return void 0!==t?(this._foreground_color=t,this):this._foreground_color},fy.prototype.duration=function(t){return void 0!==t?(this._duration=t,this):this._duration},fy.prototype.delay=function(t){return void 0!==t?(this._delay=t,this):this._delay},fy.prototype.xBounds=function(t){return void 0!==t?(this._x_bounds=t,this):this._x_bounds},fy.prototype.yBounds=function(t){return void 0!==t?(this._y_bounds=t,this):this._y_bounds},fy.prototype.orientation=function(t){return void 0!==t?(this._orientation=t,this):this._orientation},fy.prototype.readDirection=function(t){return["ltr","rtl"].includes(t)?this._read_direction=t:console.warn('Read direction must be one of "ltr" or "rtl"'),this},fy.prototype.ariaHidden=function(t){return void 0!==t?(this._aria_hidden=t,this):this._aria_hidden},fy.prototype.getDimensions=function(){return this.update(!0)},fy.prototype.on=function(t,e){return this._container?(e?gt(this._container).on(t,(function(){var n=at.target;if("mouseleave"!=t&&"mouseout"!=t){for(var r=!1,i=0;i<5&&!(r=n.classList.contains("fl-label"));i++)n=n.parentNode;if(r){var a=gt(n).datum();e.call(n,at,a)}}else e.call(n,at)})):gt(this._container).on(t,null),this):this},fy.prototype.update=function(t){if(null!=this._container){var e=this._state,n=this._duration,r=this._delay,i=this._container,a=this._data,o=this._y_bounds,l=this._x_bounds,u=this._orientation,c=this._read_direction||window.getComputedStyle(document.body).direction||"ltr",s=this._screenreadable,f=this._background_color,d=this._foreground_color,h=xy(e.text_size),_=function(t,e,n){var r=n.text_weight+" ",i=e+"px ",a=getComputedStyle(t).fontFamily;return r+i+a}(i,h,e),p=h*e.text_line_height,g=xy(e.spreading_margin),y=xy(e.data_point_margin),m=Math.min(y/2,xy(e.line_padding)),b=y-m,v=function(t,e,n,r,i,a,o,l,u){var c=0,s=0,f=e.map((function(e){var u="vertical"==t._orientation?a:e.available_width,f=Bc(e.text,n,i,u);e.available_width=void 0===e.available_width?1/0:e.available_width,e.available_height=void 0===e.available_height?1/0:e.available_height;var d={};d.x=e.x,d.y=e.y,d.text_x=void 0===e.text_x?e.x:e.text_x,d.text_y=void 0===e.text_y?e.y:e.text_y,d.text_width=f.widest_line,d.text_height=o*f.length,d.id=e.id,d.filter_name=e.filter_name,d.text=e.text,d.color=e.color,d.opacity=isNaN(e.opacity)?1:e.opacity,d.datum=e.datum||{},d.alignment=["left","right"].includes(e.alignment)?e.alignment:"right",d.adjusted_alignment="rtl"===r?"right"==d.alignment?"left":"right":d.alignment,d.lines=f,c=Math.max(c,f.widest_line),s=Math.max(s,d.text_height);var h=t._group&&"undefined"!==e[t._group];return d.group=h?e[t._group]:"",d.text_width>e.available_width&&"horizontal"===t._orientation&&"hide"===l&&(d.hidden=!0),d.text_height>e.available_height&&"vertical"===t._orientation&&"hide"===l&&(d.hidden=!0),d}));return f=function(t,e){var n=e.split(/\s*\n\s*/).filter((function(t){return t.trim()}));if(n.length)for(let e=0;e<t.length;e++){const r=t[e],i=r.filter_name?r.filter_name:r.text;-1===n.indexOf(i)&&(r.hidden=!0)}return t}(f,u),f.widest_label=c,f.tallest_label=s,f}(this,a,_,c,e.text_max_lines,xy(e.max_width),p,e.overlap_mode,e.show_only_labels);if(t)return{width:v.widest_label+y,height:v.tallest_label+y};(v=v.filter((function(t){return!t.hidden}))).forEach((function(t){return"vertical"==u?function(t){var e=.33*h-p*(t.lines.length-1)/2;t.dy=e;var n=0,r=p-t.dy,i=t.y-r-o[0];i<0&&(n=-i);var a=p*(t.lines.length-1)- -t.dy,l=o[1]-t.y-a;l<0&&(n-=-l);t.y_offset=n,t.text_height=p*t.lines.length,t.top=t.y+t.y_offset-t.text_height/2,t.bottom=t.top+t.text_height}(t):function(t){var e=p*(t.lines.length-1)/2;t.dy=-e,t.y_offset=t.dy,t.x_offset=0,t.left=t.x-t.text_width/2,t.right=t.left+t.text_width}(t)}));var x={};this._group?v.forEach((function(t){var e=t.group;e in x||(x[e]=[]),x[e].push(t)})):x=[v];var w=!1;if("vertical"==u&&"spread"==e.overlap_mode)for(var k in x){uy(M=x[k],o,g),M.any_offsets&&(w=!0)}if("horizontal"==u&&"spread"==e.overlap_mode)for(var k in x){var M;cy(M=x[k],l,g),M.any_offsets&&(w=!0)}if("hide"==e.overlap_mode){var T=u.horizontal?l:o;for(var k in x)vy(x[k],T,u)}var A=!0;("off"==e.lines||"auto"==e.lines&&!w)&&(A=!1),v=v.filter((function(t){return!t.hidden}));var N=gt(this._container).selectAll(".fl-label").data(v,(function(t){return null==t.id?t.text:t.id})),S=N.enter().append("g").attr("class","fl-label").attr("transform",(function(t){return"translate("+t.text_x+","+t.text_y+")"})).attr("font-size",h).attr("font-weight",e.text_weight).attr("opacity",0);S.append("path").attr("fill","none").attr("d",(function(t){return O(t,u)})).attr("stroke-width",e.line_width+"rem").attr("stroke",e.line_color||d),S.append("text").attr("class","bg").attr("transform",D),S.append("text").attr("class","fg").attr("transform",D);var E=N.merge(S);E.attr("aria-hidden",!s).attr("id",(function(t){return t.id})).transition().duration(n).delay(r).attr("transform",(function(t){return"translate("+t.text_x+","+t.text_y+")"})).attr("font-size",h).attr("font-weight",e.text_weight).attr("opacity",(function(t){return t.opacity})),E.select("path").transition().duration(n).delay(r).attr("d",(function(t){return O(t,u)})).attr("stroke-width",e.line_width+"rem").attr("stroke",e.line_color||d),E.select("text.bg").attr("text-anchor",F).transition().duration(n).delay(r).attr("transform",D),E.select("text.fg").attr("text-anchor",F).transition().duration(n).delay(r).attr("transform",D),N.exit().remove();var C=E.select("text.bg").selectAll("tspan").data((function(t){return t.lines}));C.merge(C.enter().append("tspan")).text((function(t){return t})).transition().duration(n).delay(r).attr("x",0).attr("fill","none").attr("stroke",e.text_bg_color||f).attr("stroke-width",h*e.text_bg_size/100).attr("dy",(function(t,e){return e?p+"px":0})),C.exit().remove();var z=E.select("text.fg").selectAll("tspan").data((function(t){return t.lines}));return z.merge(z.enter().append("tspan")).text((function(t){return t})).transition().duration(n).delay(r).attr("x",0).attr("fill",(function(){return e.text_color||this.parentNode.__data__.color||"black"})).attr("dy",(function(t,e){return e?p+"px":0})),z.exit().remove(),n||r||Rt(),this}function D(t){var e,n;return"vertical"==u?(e="right"==t.alignment?y:-Math.abs(y),n=t.y_offset+t.dy):(e=t.x_offset,n=t.y_offset+t.dy-y),"translate("+e+","+n+")"}function F(t){return"right"===t.adjusted_alignment?"start":"end"}function O(t,n){if(!A)return"";if(!t.text.length)return"";var r=t.step_line_x_index||0,i=(t.step_line_x_count||0)+1,a=b/i,o=a+a*r,l=[],u="right"==t.alignment?o:-Math.abs(o),c="right"==t.alignment?b-o:-Math.abs(b-o);"vertical"===n&&(l.push([t.x-t.text_x,t.y-t.text_y]),"step"==e.line_style&&(l.push([u,0]),l.push([u,t.y_offset])),l.push([u+c,t.y_offset])),"horizontal"===n&&(l.push([t.x-t.text_x,t.y-t.text_y]),"step"==e.line_style&&(l.push([0,-u]),l.push([t.y_offset,-u])),l.push([0,-c-u]));var s=l.map((function(t,e){return(e?"L":"M")+t.join(",")})).join(" ");return s}console.error("@flourish/labels: you must set a container for your labels using the .container() method. This should be an SVG group.")};var dy,hy,_y,py,gy,yy,my=[0,0,0,0],by=[0,0,0,0];function vy(t,e,n){var r="horizontal"===n?"x":"y",i=t.sort((function(t,e){return ga(t[r],e[r])}));my=[-1/0,-1/0,-1/0,-1/0];for(var a=0;a<i.length;a++){var o=i[a];by[0]=o.text_x,by[1]=o.text_y,by[2]=o.text_x+o.text_width,by[3]=o.text_y+o.text_height;var l=ay(by,my),u="horizontal"===n?o.left<e[0]&&o.right>e[1]:o.top<e[0]&&o.bottom>e[1];l||u?o.hidden=!0:(my[0]=by[0],my[1]=by[1],my[2]=by[2],my[3]=by[3])}}function xy(t){var e,n;return window.innerWidth!==e&&(e=window.innerWidth,n=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*n}var wy,ky=function(t){for(var e in As=t,Ts)void 0===As[e]&&(As[e]=Ts[e]);return(Hc=document.createElement("style")).id="flourish-page-styles",Hc.type="text/css",document.head.appendChild(Hc),Ds.wrapper=function(){var t=document.createElement("div");t.id="fl-layout-wrapper-outer",t.style.display="flex";var e=document.createElement("main");e.id="fl-layout-wrapper",e.style.display="flex",e.style.flexGrow="1",e.style.flexDirection="column",e.style.boxSizing="border-box",e.style.overflow="hidden";var n=document.createElement("aside");return n.id="fl-layout-sidebar",n.style.position="relative",Ds.sidebar=n,t.appendChild(e),t.appendChild(n),document.body.appendChild(t),e}(),zs.forEach((function(t,e){Ds[t]=Ps(t,e)})),Hs("header").appendChild(function(){(Vc=document.createElement("header")).className="flourish-header";var t=document.createElement("hgroup");return Xc=document.createElement("h1"),Gc=document.createElement("h2"),Zc=document.createElement("p"),(Qc=document.createElement("div")).className="clearfix",(Jc=document.createElement("div")).className="flourish-header-logo-container",Vc.appendChild(Jc),Vc.appendChild(t),t.appendChild(Xc),t.appendChild(Gc),Vc.appendChild(Zc),Vc.appendChild(Qc),Vc}()),Hs("footer").appendChild(ys()),Ds.primary.outer.style.overflow="hidden",function(){var t=Ds.primary.outer;t.style.position="relative",(Cs=document.createElement("div")).id="fl-layout-overlay";var e=Cs.style;e.position="absolute",e.display="none",e.width="100%",e.height="100%",e.top=0,e.left=0,e.backgroundColor="rgb(200,200,200)",e.zIndex=999999,e.pointerEvents="none";var n=document.createElement("p");n.className="fl-layout-overlay-message",(e=n.style).color="#333333",e.fontSize="1.5rem",e.paddingLeft="15%",e.paddingRight="15%",e.width="100%",e.boxSizing="border-box",e.position="absolute",e.top="50%",e.transform="translate(0, -50%)",e.margin="0",e.textAlign="center",Cs.appendChild(n),t.appendChild(Cs)}(),{update:ws,getWrapper:Ls,getSidebar:js,getSection:Hs,getOuterWidth:qs,getInnerWidth:Us,getOuterHeight:Rs,getInnerHeight:Bs,getPrimaryHeight:Ys,getPrimaryWidth:Is,getDefaultPrimaryHeight:Vs,getPrimaryScreenReadability:Ws,setHeight:Zs,setLegendPosition:Qs,showOverlay:Js,remToPx:ns,getOverlay:Ks,awaitFonts:Ss,prepareScreenshotSVG:ef,clearScreenshotSVG:nf}}(o.layout),My=function(t){return new fy(t)}(o.labels),Ty=gt(ky.getSection("primary")).append("svg").on("click",(function(){if(at.target&&(at.target.getAttribute("class"),"check-rect"==at.target.getAttribute("class")))return;o.selected_horse=null,Tv()})),Ay={y:o.y,x:o.x,background:o.chart_bg},Ny=function(t,e){e=sf(e);var n={},r=function(t){var e,n=(e=t&&t.select&&t.selectAll?wd(t.node()):wd(t)).node();if(!n)throw new Error("Chart layout instance must have a target");var r=Td(n);return{container:e,getSvg:function(){if(r)return e;for(var t=n.parentNode;t&&!Td(t);)t=t.parentNode;if(!Td(t))throw new Error("target must be an SVG or a descendant of an SVG");return wd(t)}}}(t);Object.defineProperty(n,"svg",{get:r.getSvg}),n.container=r.container,n.chart=function(t){var e=t.container.append("g").attr("class","fl-chart");return function(t){t.append("rect").attr("class","fl-chart-debug-rectangle").attr("x",0).attr("y",0).style("stroke-width","1px").style("fill","none").style("display","none")}(e),e.append("clipPath").attr("class","fl-data-clip-path").append("rect"),e.append("clipPath").attr("class","fl-grid-clip-path").append("rect"),function(t){var e=t.append("g").attr("class","fl-chart-background");e.append("rect").attr("class","fl-chart-fill"),e.append("image").attr("class","fl-chart-image"),e.append("rect").attr("class","fl-chart-interaction").style("opacity",0)}(e),e.append("g").attr("class","fl-data-background"),function(t){var e=t.append("g").attr("class","fl-gridlines").style("pointer-events","none");e.append("g").attr("class","fl-gridlines-vertical"),e.append("g").attr("class","fl-gridlines-horizontal")}(e),function(t){var e=t.append("g").attr("class","fl-axes").attr("aria-hidden",!0),n=e.append("g").attr("class","fl-x-axes"),r=e.append("g").attr("class","fl-y-axes"),i=n.append("g").attr("class","fl-axis fl-x-axis fl-bottom-axis");i.append("g").attr("class","fl-axis-line"),i.append("g").attr("class","fl-axis-ticks"),i.append("g").attr("class","fl-axis-title");var a=n.append("g").attr("class","fl-axis fl-x-axis fl-top-axis");a.append("g").attr("class","fl-axis-line"),a.append("g").attr("class","fl-axis-ticks"),a.append("g").attr("class","fl-axis-title");var o=r.append("g").attr("class","fl-axis fl-y-axis fl-left-axis");o.append("g").attr("class","fl-axis-line"),o.append("g").attr("class","fl-axis-ticks"),o.append("g").attr("class","fl-axis-title");var l=r.append("g").attr("class","fl-axis fl-y-axis fl-right-axis");l.append("g").attr("class","fl-axis-line"),l.append("g").attr("class","fl-axis-ticks"),l.append("g").attr("class","fl-axis-title")}(e),e.append("g").attr("class","fl-data-foreground"),e}(n),n.data_background=n.chart.select("g.fl-data-background"),n.data_foreground=n.chart.select("g.fl-data-foreground"),n.identifier=function(t){var e="fl-chart-layout-"+Ad++;return function(n){return void 0===n?e:(e=n,t)}}(n),n.debug=function(t){let e=!1;return function(n){return void 0===n?e:(e=!!n,t)}}(n),n.debugColor=function(t){let e="red";return function(n){return void 0===n?e:(e=n,t)}}(n),n.clip=function(t){var e=Nd;return function(n){return void 0===n?e:(e=n?"object"!=typeof n?Nd:Object.freeze({left:!!n.left,top:!!n.top,right:!!n.right,bottom:!!n.bottom}):Sd,t)}}(n),n.animationDuration=function(t){var e=0;return function(n){return void 0===n?e:(e=n,t)}}(n);var i=function(t){var e={},n=null,r=null,i=null;return e.width=function(e){return void 0===e?null!==n?n:t.svg.node().getBoundingClientRect().width:(n=e,t)},e.height=function(n){return void 0===n?null!==r?r:null!==i?e.plotHeight()+t.margins.top+t.margins.bottom:t.svg.node().getBoundingClientRect().height:(r=n,i=null,t)},e.plotAspect=function(n){return void 0===n?null!==i?i:e.plotWidth()/e.plotHeight():(r=null,i=n,t)},e.plotWidth=function(){return t.width()-(t.margins.right+t.margins.left)},e.plotHeight=function(){return null===i?e.height()-(t.margins.top+t.margins.bottom):e.plotWidth()/i},e.innerWidth=function(){const{inner_margins:n}=t;return Math.max(0,e.plotWidth()-(n.right+n.left))},e.innerHeight=function(){const{inner_margins:n}=t;return Math.max(0,e.plotHeight()-(n.top+n.bottom))},e.xLeft=function(){return t.margins.left},e.xRight=function(){return t.width()-t.margins.right},e.yBottom=function(){return t.height()-t.margins.bottom},e.yTop=function(){return t.margins.top},e}(n);return n.width=i.width,n.height=i.height,n.plotAspect=i.plotAspect,Object.defineProperty(n,"plot_width",{get:i.plotWidth}),Object.defineProperty(n,"plot_height",{get:i.plotHeight}),Object.defineProperty(n,"inner_width",{get:i.innerWidth}),Object.defineProperty(n,"inner_height",{get:i.innerHeight}),Object.defineProperty(n,"x_left",{get:i.xLeft}),Object.defineProperty(n,"x_right",{get:i.xRight}),Object.defineProperty(n,"y_bottom",{get:i.yBottom}),Object.defineProperty(n,"y_top",{get:i.yTop}),n.offsetLeft=function(t){var e=0;return function(n){return void 0===n?e:(e=n,t)}}(n),n.offsetTop=function(t){var e=0;return function(n){return void 0===n?e:(e=n,t)}}(n),n.margins=Ip(n,e),n.inner_margins=function(){var t,e,n,r;t=e=n=r=0;var i=function(){return{top:t,right:e,bottom:n,left:r}};return i._update=function(i){t=(i=i||{}).top||0,e=i.right||0,n=i.bottom||0,r=i.left||0},Object.defineProperty(i,"top",{get:function(){return t}}),Object.defineProperty(i,"right",{get:function(){return e}}),Object.defineProperty(i,"bottom",{get:function(){return n}}),Object.defineProperty(i,"left",{get:function(){return r}}),i}(),n.xData=Dp(n),n.yData=Dp(n),n.y2Data=Dp(n),n.xFormat=gh(n),n.yFormat=gh(n),n.y2Format=gh(n),n.xNumberParse=I_(n),n.yNumberParse=I_(n),n.y2NumberParse=I_(n),n.xDatetimeParse=W_(n),n.yDatetimeParse=W_(n),n.y2DatetimeParse=W_(n),n.xTitle=function(t,e){return t.xAutoTitle=Up(t),t.xAutoTitle("X"),function(){return("auto"===e.x.title_mode?t.xAutoTitle():e.x.title).trim()}}(n,e),n.yTitle=function(t,e){return t.yAutoTitle=Up(t),t.yAutoTitle("Y"),function(){return("auto"===e.y.title_mode?t.yAutoTitle():e.y.title).trim()}}(n,e),n.y2Title=function(t,e){return t.y2AutoTitle=Up(t),t.y2AutoTitle("Y2"),function(){return("auto"===e.y2.title_mode?t.y2AutoTitle():e.y2.title).trim()}}(n,e),n.xTicks=function(t,e){var n=e.x,r=Object.freeze([]),i=t.chart.select(".fl-x-axes"),a=function(){return r};return a._update=function(e){var a,o=t.xData().string_array?"string":"numeric",l=bp(wd(".fl-x-axes"),n.tick_label_size,n.tick_label_weight),u="default"===n.tick_label_position?+n.tick_label_angle:90,c=0,s=t.xFormat(),f=gp(n.tick_label_size);i.append("text").style("opacity",0).style("font",l).each((function(){var t=wd(this).text(Fp).node().getBoundingClientRect();a=t.height})).remove(),"object"==typeof e[0]&&(e=Pp(e,s));var d=gp(n.tick_label_space);"auto"===n.tick_label_space_mode&&(d=t.xTicks.autoLabelSpace().px);var h=Lp({text_height:a,max_space:d,font:l,angle:90-u,max_lines:n.tick_label_max_lines});return r=e.map((function(t,e){var r,i,l,d,_,p,g=h(s(t)),y=g.lines,m=g.text_width,b=0,v=a*y.length+(y.length-1)*n.tick_label_line_height;if(0===u||90===u)l=d=(r=0===u?m+gp(.5):v)/2,_=i=0===u?v:m,p=i,90===u&&(b=y.length<2?0:(y.length-1)/2*(f*n.tick_label_line_height));else{var x=Op(u),w=Math.sin(x),k=Math.cos(x);r=(l=m*k)+(d=v*w),i=(_=m*w)+(p=v*k)}if("top"===n.axis_position||"float-above"===n.axis_position){var M=l;l=d,d=M,M=_,_=p,p=M,0!==u&&90!==u&&(b=y.length<2?0:(y.length-1)*(f*n.tick_label_line_height))}c=Math.max(c,i);var T="numeric"===o?Mp(t):null,A="numeric"===o?kp(t):null;return Object.freeze({index:e,value:t,lines:y,significant_digits:T,exponent:A,text_width:m,text_height:a,box_width:r,box_height:i,box_width_left:l,box_width_right:d,box_height_left:_,box_height_right:p,multiline_offset:b})})),r.type=o,r.max_box_height="fixed"===n.tick_label_space_mode?gp(n.tick_label_space):c,Object.freeze(r),t},a.autoLabelSpace=jp(t,"height",120),a}(n,e),n.yTicks=function(t,e){return Hp(t,e,"y")}(n,e),n.y2Ticks=function(t,e){return Hp(t,e,"y2")}(n,e),n.xAutoTicks=function(t){const e=qp(t,"x");return t=>e(t)}(n),n.yAutoTicks=function(t){const e=qp(t,"y");return t=>e(t)}(n),n.y2AutoTicks=function(t){const e=qp(t,"y2");return t=>e(t)}(n),n.xScale=Yg(n,e),n.yScale=Ig(n,e),n.y2Scale=Wg(n,e),n.xPadding=function(t){const e=["px","steps"];let n=0,r=0,i="px";return function(a){if(void 0===a)return{left:n,right:r,unit:i};const o=a.unit;if(o&&!e.includes(o))throw new Error(`Unit "${o}" not recognised`);return({left:n=n,right:r=r,unit:i=i}=a),t}}(n),n.yPadding=function(t){const e=["px","steps"];let n=0,r=0,i="px";return function(a){if(void 0===a)return{bottom:n,top:r,unit:i};const o=a.unit;if(o&&!e.includes(o))throw new Error(`Unit "${o}" not recognised`);return({bottom:n=n,top:r=r,unit:i=i}=a),t}}(n),n.y2Padding=function(t){const e=["px","steps"];let n=0,r=0,i="px";return function(a){if(void 0===a)return{bottom:n,top:r,unit:i};const o=a.unit;if(o&&!e.includes(o))throw new Error(`Unit "${o}" not recognised`);return({bottom:n=n,top:r=r,unit:i=i}=a),t}}(n),n.xMinStep=function(t){return function(){return Bg(t.xData(),t.xScale())}}(n),n.yMinStep=function(t){return function(){return Bg(t.yData(),t.yScale())}}(n),n.y2MinStep=function(t){return function(){return Bg(t.y2Data(),t.y2Scale())}}(n),n.xFlipAxis=Vg(n),n.yFlipAxis=Vg(n),n.y2FlipAxis=Vg(n),n.xZeroAxis=$g(n),n.yZeroAxis=$g(n),n.y2ZeroAxis=$g(n),n.xHide=Xg(n),n.yHide=Xg(n),n.y2Hide=Xg(n),n.y2Hide(!0),n.update=iy(n,e),n}(Ty,Ay);function Sy(){yy=gt(ky.getSection("controls")).append("div").attr("id","viz-ui"),Ny.clip(!1),dy=Ny.data_foreground,Ny.data_background,dy.append("clipPath").attr("id","clip").append("rect").attr("width",0),dy.append("clipPath").attr("id","circleClip").append("circle"),gy=dy.append("g").attr("class","g-checks"),hy=dy.append("g").attr("class","g-lines").attr("clip-path","url(#clip)"),py=dy.append("g").attr("class","g-start-circles"),_y=dy.append("g").attr("class","g-labels").style("direction","ltr"),My.container(_y.node()).duration(0).delay(0);var t=gt(ky.getSection("primary")).append("div").attr("id","caption");t.append("div").attr("id","text"),t.append("div").attr("id","image").append("img"),Rb=yy.append("div").attr("id","horse-controls"),Bb=Rb.append("div").attr("class","fl-controls-container").attr("id","replay-container").append("div").attr("class","fl-control fl-control-buttons").append("div").attr("class","button").attr("role","button").attr("aria-label",o.label_replay).attr("tabindex",0).attr("id","replay").text(o.label_replay).on("click",Pb).on("keydown",(function(){"Enter"==at.key&&Pb()})),Kb.appendTo(Rb.node()).on("change",(function(t){o.value_type=t===o.label_scores?"scores":"ranks",Tv()})),Hb=yy.append("div").attr("id","filter-control").node(),Jb.appendTo(Hb).on("change",(function(t){o.filter_value=t,Tv()}))}var Ey=Object.freeze({categorical_type:"palette",categorical_palette:["#4328E7","#9654E5","#FF6283","#FF8800","#FFC502","#007D8E","#1AA7EE","#29DAE4","#88E99A","#019C00","#C11F1F","#730000"],categorical_extend:!0,categorical_custom_palette:"",numeric_type:"sequential",sequential_palette:"Blues",sequential_custom_min:"#F7F7F7",sequential_custom_max:"#FF6283",sequential_color_space:"rgb",sequential_reverse:!1,sequential_custom_domain:!1,sequential_domain_min:0,sequential_domain_max:1,diverging_palette:"RdBu",diverging_custom_min:"#1AA7EE",diverging_custom_mid:"#F7F7F7",diverging_custom_max:"#FF6283",diverging_color_space:"rgb",diverging_reverse:!1,diverging_custom_domain:!1,diverging_domain_min:0,diverging_domain_mid:.5,diverging_domain_max:1,binning:!1,bin_count:4,bin_mode:"fixed",bin_thresholds:""}),Cy=360/((1+Math.sqrt(5))/2),zy="#FF0000";function Dy(t,e,n){return function(r,i){Array.isArray(r)||(r=r?[r]:[zy]),i=void 0!==i?i:Cy;var a=r.map((function(e){return t(e)})).filter((function(t){return!isNaN(t[e])&&!isNaN(t[n])}));a.length||(a=[t(zy)]);var o,l=a.length,u=a.reduce((function(t,n){return t+n[e]}),0)/l,c=a.reduce((function(t,e){return t+e[n]}),0)/l,s=l;do{o=a[--s].h}while(isNaN(o)&&s>0);var f=0;return function(){var e=++f*i;return ke(t((o+e)%360,u,c)).hex()}}}var Fy={hcl:Dy(Ke,"c","l"),hsl:Dy(Oe,"s","l")};function Oy(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Py(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var Ly=Array.prototype,jy=Ly.map,Hy=Ly.slice;function qy(t){return+t}var Uy=[0,1];function Ry(t){return t}function By(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Yy(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Iy(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=By(i,r),a=n(o,a)):(r=By(r,i),a=n(a,o)),function(t){return a(r(t))}}function Wy(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=By(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=va(t,e,1,r)-1;return a[n](i[n](e))}}function $y(t,e){return function(){var t,e,n,r,i,a,o=Uy,l=Uy,u=En,c=Ry;function s(){return r=Math.min(o.length,l.length)>2?Wy:Iy,i=a=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),l,u)))(t(c(e)))}return f.invert=function(n){return c(e((a||(a=r(l,o.map(t),Mn)))(n)))},f.domain=function(t){return arguments.length?(o=jy.call(t,qy),c===Ry||(c=Yy(o)),s()):o.slice()},f.range=function(t){return arguments.length?(l=Hy.call(t),s()):l.slice()},f.rangeRound=function(t){return l=Hy.call(t),u=Cn,s()},f.clamp=function(t){return arguments.length?(c=t?Yy(o):Ry,f):c!==Ry},f.interpolate=function(t){return arguments.length?(u=t,s()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,s()}}()(t,e)}function Vy(t){var e=t.domain;return t.ticks=function(t){var n=e();return Na(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,a=Ea(t,e,n);switch((r=au(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=yu(a,o))||(r.precision=i),du(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=mu(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=gu(a))||(r.precision=i-2*("%"===r.type))}return fu(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),a=0,o=i.length-1,l=i[a],u=i[o];return u<l&&(r=l,l=u,u=r,r=a,a=o,o=r),(r=Sa(l,u,n))>0?r=Sa(l=Math.floor(l/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=Sa(l=Math.ceil(l*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[a]=Math.floor(l/r)*r,i[o]=Math.ceil(u/r)*r,e(i)):r<0&&(i[a]=Math.ceil(l*r)/r,i[o]=Math.floor(u*r)/r,e(i)),t},t}function Xy(){var t=$y(Ry,Ry);return t.copy=function(){return e=t,Xy().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown());var e},Oy.apply(t,arguments),Vy(t)}function Gy(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=Ca(e,t/i);return a}function a(e){return isNaN(e=+e)?t:n[va(r,e)]}return a.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,a=t.length;r<a;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(ga),i()},a.range=function(t){return arguments.length?(n=Hy.call(t),i()):n.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return r.slice()},a.copy=function(){return Gy().domain(e).range(n).unknown(t)},Oy.apply(a,arguments)}function Zy(){var t,e=0,n=1,r=1,i=[.5],a=[0,1];function o(e){return e<=e?a[va(i,e,0,r)]:t}function l(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return o}return o.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],l()):[e,n]},o.range=function(t){return arguments.length?(r=(a=Hy.call(t)).length-1,l()):a.slice()},o.invertExtent=function(t){var o=a.indexOf(t);return o<0?[NaN,NaN]:o<1?[e,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return Zy().domain([e,n]).range(a).unknown(t)},Oy.apply(Vy(o),arguments)}function Qy(){var t,e=[.5],n=[0,1],r=1;function i(i){return i<=i?n[va(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Hy.call(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Hy.call(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Qy().domain(e).range(n).unknown(t)},Oy.apply(i,arguments)}function Jy(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ky(){var t=Vy(function(){var t,e,n,r,i,a=0,o=1,l=Ry,u=!1;function c(e){return isNaN(e=+e)?i:l(0===n?.5:(e=(r(e)-t)*n,u?Math.max(0,Math.min(1,e)):e))}return c.domain=function(i){return arguments.length?(t=r(a=+i[0]),e=r(o=+i[1]),n=t===e?0:1/(e-t),c):[a,o]},c.clamp=function(t){return arguments.length?(u=!!t,c):u},c.interpolator=function(t){return arguments.length?(l=t,c):l},c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(a),e=i(o),n=t===e?0:1/(e-t),c}}()(Ry));return t.copy=function(){return Jy(t,Ky())},Py.apply(t,arguments)}function tm(){var t=Vy(function(){var t,e,n,r,i,a,o,l=0,u=.5,c=1,s=Ry,f=!1;function d(t){return isNaN(t=+t)?o:(t=.5+((t=+a(t))-e)*(t<e?r:i),s(f?Math.max(0,Math.min(1,t)):t))}return d.domain=function(o){return arguments.length?(t=a(l=+o[0]),e=a(u=+o[1]),n=a(c=+o[2]),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),d):[l,u,c]},d.clamp=function(t){return arguments.length?(f=!!t,d):f},d.interpolator=function(t){return arguments.length?(s=t,d):s},d.unknown=function(t){return arguments.length?(o=t,d):o},function(o){return a=o,t=o(l),e=o(u),n=o(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),d}}()(Ry));return t.copy=function(){return Jy(t,tm())},Py.apply(t,arguments)}function em(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function nm(t){return vn(t[t.length-1])}em("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),em("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),em("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),em("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),em("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),em("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),em("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),em("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),em("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),em("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var rm=nm(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(em)),im=nm(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(em)),am=nm(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(em)),om=nm(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(em)),lm=nm(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(em)),um=nm(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(em)),cm=nm(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(em)),sm=nm(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(em)),fm=nm(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(em)),dm=nm(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(em)),hm=nm(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(em)),_m=nm(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(em)),pm=nm(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(em)),gm=nm(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(em)),ym=nm(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(em)),mm=nm(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(em)),bm=nm(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(em)),vm=nm(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(em)),xm=nm(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(em)),wm=nm(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(em)),km=nm(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(em)),Mm=nm(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(em)),Tm=nm(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(em)),Am=nm(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(em)),Nm=nm(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(em)),Sm=nm(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(em)),Em=nm(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(em)),Cm=Wn(fn(300,.5,0),fn(-240,.5,1)),zm=Wn(fn(-100,.75,.35),fn(80,1.5,.8)),Dm=Wn(fn(260,.75,.35),fn(80,1.5,.8));function Fm(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}fn(),Ne();var Om=Fm(em("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Pm=Fm(em("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Lm=Fm(em("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),jm=Fm(em("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Hm(t,e){return t-e}function qm(t,e){var n=e[0],r=e[e.length-1],i=Zy().domain([n,r]),a=Math.floor(t.bin_count);return i.range(ka(a)),i.thresholds()}function Um(t,e,n){var r;return r="fixed"==t.bin_mode?qm(t,e):"quantile"==t.bin_mode?function(t,e,n){var r=Gy().domain(n),i=Math.floor(t.bin_count);return r.range(ka(i)),r.quantiles()}(t,0,n):function(t){return t.bin_thresholds.split(";").map(parseFloat).filter((function(t){return!isNaN(t)&&null!==t})).sort(Hm)}(t),r}function Rm(t,e,n,r,i){for(var a=1+e;a<=t+e;a++)i.push(r(n(a)))}function Bm(t,e,n){var r=e.length,i=Xy(),a=[];if(1===r)a.push(n(.5));else if(2===t.length)i.domain([1,r]).range([0,1]),Rm(r,0,i,n,a);else if(2===r)a.push(n(0)),a.push(n(1));else{var o,l,u=t[1],c=function(t,e){var n;return t.forEach((function(t,r){Math.abs(t-e)<.001&&(n=r)})),n}(e,u);c?(o=c,l=r-c-1,i.domain([1,o+1]).range([0,.5]),Rm(o,0,i,n,a),a.push(n(.5)),i.domain([1,l+1]).range([.5,1]),Rm(l,1,i,n,a)):(o=function(t,e){var n=0;return t.forEach((function(t){t<e&&n++})),n}(e,u),l=r-o,i.domain([1,o+1]).range([0,.5]),Rm(o,0,i,n,a),i.domain([1,l+1]).range([.5,1]),Rm(l,1,i,n,a))}return a}function Ym(t,e,n,r){var i,a=Um(t,e,n),o=function(t,e,n){var r=[];if(0===e.length)return[.5*(t+n)];r.push(.5*(t+e[0]));for(var i=0;i<e.length-1;i++)r.push(.5*(e[i]+e[i+1]));return r.push(.5*(n+e[e.length-1])),r}(e[0],a,e[e.length-1]),l=Bm(e,o,r);(i="quantile"==t.bin_mode?Gy().domain(n):Qy().domain(a)).range(l);var u=function(t){return isNaN(t)||null===t?null:i(t)};return u.domain=Object.freeze(e),u.thresholds=Object.freeze(a),u.centers=Object.freeze(o),u}function Im(t){return Array.isArray(t)?wa(t):[0,1]}var Wm=Object.freeze(["#efeca4","#e9e28f","#dccf64","#e3b23c","#e49547","#e37746","#dc5b36","#cb4144","#bb2244","#972545","#6a2c4f"]),$m=Object.freeze({Blues:Mm,BuGn:dm,BuPu:hm,Carrots:vn(Wm),Cool:Dm,CubehelixDefault:Cm,GnBu:_m,Greens:Tm,Greys:Am,Inferno:Lm,Magma:Pm,Oranges:Em,OrRd:pm,Plasma:jm,PuBu:ym,PuBuGn:gm,PuRd:mm,Purples:Nm,RdPu:bm,Reds:Sm,Viridis:Om,Warm:zm,YlGn:xm,YlGnBu:vm,YlOrBr:wm,YlOrRd:km}),Vm={hcl:Yn,hsl:Rn,lab:Bn,rgb:mn};function Xm(t,e){var n=t.sequential_custom_domain?[t.sequential_domain_min,t.sequential_domain_max]:Im(e),r=function(e){var n=$m[t.sequential_palette]||function(t){var e=t.sequential_color_space,n=t.sequential_custom_min,r=t.sequential_custom_max;return Vm[e](n,r)}(t);return t.sequential_reverse?n(1-e):n(e)};if(t.binning)return Ym(t,n,e,r);var i=Ky(r).domain(n),a=function(t){return isNaN(t)||null===t?null:i(t)};return a.domain=Object.freeze(n),a}var Gm=Object.freeze({BrBG:rm,PiYG:am,PRGn:im,PuOr:om,RdBu:lm,RdGy:um,RdYlBu:cm,RdYlGn:sm,Spectral:fm}),Zm={hcl:Yn,hsl:Rn,lab:Bn,rgb:mn};function Qm(t){var e=t.diverging_color_space,n=t.diverging_custom_min,r=t.diverging_custom_mid,i=t.diverging_custom_max;return function(t,e){for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return a[e](t-e)}}(Zm[e],[n,r,i])}var Jm,Km=function(t){var e=null;for(var n in Ey)void 0===t[n]&&(t[n]=Ey[n]);var r=null,i=function(t){return e&&e(t)||r};return{getColor:i,updateColorScale:function(n){return"number"!=typeof n[0]?e=function(t,e){var n={},r=Ha(e).values(),i=t.categorical_palette,a=i.length;if(t.categorical_extend){var o=Ey.rotation_angle,l=Fy.hcl(i,o);r.forEach((function(t,e){n[t]=e<a?i[e]:l()}))}else r.forEach((function(t,e){n[t]=i[e%a]}));t.categorical_custom_palette.split("\n").filter((function(t){return t})).forEach((function(t){var e=t.lastIndexOf(":");if(-1!==e){var r=t.slice(0,e).trim(),i=t.slice(e+1).trim();r&&i&&(n[r]=i)}}));var u=function(t){return n[t]};return u.domain=r.slice(),u.colors=r.map((function(t){return n[t]})),u.items=r.map((function(t){return{label:t,color:n[t]}})),u}(t,n):"sequential"===t.numeric_type?e=Xm(t,n):"diverging"===t.numeric_type&&(e=function(t,e){var n=Im(e),r=n[0]<0&&n[1]>0?0:(n[0]+n[1])/2,i=[n[0],r,n[1]];t.diverging_custom_domain&&(i=[t.diverging_domain_min,t.diverging_domain_mid,t.diverging_domain_max]);var a=function(e){var n=Gm[t.diverging_palette]||Qm(t);return t.diverging_reverse?n(1-e):n(e)};if(t.binning)return Ym(t,i,e,a);var o=tm(a).domain(i),l=function(t){return isNaN(t)||null===t?null:o(t)};return l.domain=Object.freeze(i),l.midpoint=t.diverging_custom_domain?t.diverging_domain_mid:r,l}(t,n)),i.thresholds=e.thresholds,i.centers=e.centers,i.midpoint=e.midpoint,i.domain=e.domain,i.colors=e.colors,i.items=e.items,this},fallback:function(t){return void 0===t?r:(r="default"===t?null:t,this)}}}(o.color);function tb(){Km.updateColorScale(nb()),Jm={},o.color_single_overrides.split("\n").filter((function(t){return t.trim()})).forEach((function(t){var e=t.lastIndexOf(":");if(-1!==e){var n=t.slice(0,e).trim(),r=t.slice(e+1).trim();n&&r&&void 0===Jm[n]&&(Jm[n]=r)}}))}function eb(t){var e="category"==o.color_mode?"category":"name",n="string"==typeof t?t:t[e];return"single"==o.color_mode?Jm[n]||o.color_single:Km.getColor(n)}function nb(){var t=[];return"single"!=o.color_mode&&(t=a.horserace.map((function(t){return"line"==o.color_mode?t.name:t.category}))),t}var rb,ib,ab,ob,lb,ub,cb,sb,fb,db,hb,_b,pb,gb,yb,mb=function(t){for(let e in Hu)void 0===t[e]&&(t[e]=Hu[e]);return function(e){return qu(t,e)}}(o.formatting);function bb(t,e){var n=!Qb||"zoom"==o.play_mode;function r(t){var e=xb(t).x,r=-ab-ob/2-4;return n&&(r=ab+ob/2+4),e+r}function i(r){var i=o.rank_outside_picture?wb(r,t,e):"",a=r.name,l=o.rank_outside_picture?o.label_divider:"";return n?a+l+i:i+l+a}return Zb.map((function(t){return{text:i(t),x:r(t),y:xb(t).y,color:eb(t),opacity:bv(t,"label"),datum:t,filter_name:t.name,id:t.unfiltered_index,alignment:n?"right":"left"}}))}function vb(t){var e=Ob<t.start_circle.i?0:1,n=Math.floor(Ob),r=t.line[n].value,i=t.line[n+1]?t.line[n+1].value:null,a=Ob-Math.floor(Ob),o=Math.floor(Ob),l=r;if(null==r||n<t.stages.length&&null==i&&a>0){var u=hv(t);o=u,l=t.line[u].value}else o=Ob,l=r+(i-r)*a;let c=_b(l);return isFinite(c)||(c=0),`translate(${hb(o)}, ${c}) scale(${e})`}function xb(t){var e=Math.floor(Ob),n=t.line[e].value,r=t.line[e+1]?t.line[e+1].value:null,i=Ob-Math.floor(Ob),a=Math.floor(Ob),o=n;if(null==n||e<t.stages.length&&null==r&&i>0){var l=hv(t);a=l,o=t.line[l].value}else a=Ob,o=n+(r-n)*i;let u=_b(o);return isFinite(u)||(u=0),{x:hb(a),y:u}}function wb(t,e,n){const r=t.line[Math.floor(Ob)],i=t.line[Math.floor(Ob+1)];let a=null===r.value?t.line[hv(t)]:r,l=null;var u,c,s="scores"===o.value_type&&o.animate_scores;"ahead"==e?s?l=null===i.value?null:i:a=i:"behind"==e&&(s&&(l=r),a=i),l&&(u=(l.value-a.value)*n,c=a.value+u);var f=(l?c:a.value)||t.line[hv(t)].value;return""===f?"":("ranks"===o.value_type?f:rb(f))+" "}function kb(t,e){!function(t){var e=a.horserace.column_names.stages.length,n="zoom"!=o.play_mode?0:Math.max(0,t-o.zoom_steps_to_show),r=Math.min(e,o.zoom_steps_to_show),i=e-1;"reveal"==o.play_mode?i=Math.max(n+r,Math.min(t,e-1)):"zoom"==o.play_mode&&(i=Math.max(t+r,2*r));gb=[n,i]}(t),function(t){var e,n;if("ranks"==o.value_type)yb=[1,Zb.max_rank];else{if("all"!=o.play_mode&&o.zoom_y_axis){var r=Math.floor(t),i=Math.ceil(t),l=Zb.timeslices[r],u=Zb.timeslices[i],c=l?l.min_score:null,s=l?l.max_score:null;e=c+((u?u.min_score:null)-c)*(t-r);var f=(n=s+((u?u.max_score:null)-s)*(t-r))-e,d=0;e-=f*d,n+=f*d}else o.zoom_y_axis?(e=Da(a.horserace,(function(t){return qb!=o.filter_all_label&&qb!=t.filter?null:Da(t.stages)})),n=za(a.horserace,(function(t){return qb!=o.filter_all_label&&qb!=t.filter?null:za(t.stages)}))):(e=Da(a.horserace,(function(t){return Da(t.stages)})),n=za(a.horserace,(function(t){return za(t.stages)})));yb=[e,n]}}(t);for(var n=[],r=Math.max(o.y.linear_max||0,Zb.max_rank),i=0;i<r;i++)n.push(i+1);var l=ab+ob;Ny.xData(gb).yData(yb).animationDuration(e).xAutoTicks(a.horserace.column_names.stages.map(((t,e)=>e))).xFormat((t=>a.horserace.column_names.stages[t])).xPadding({right:Qb||"zoom"==o.play_mode?l:l+ky.remToPx(o.padding_right),left:Qb&&"zoom"!=o.play_mode?ky.remToPx(o.padding_left):0}).yFlipAxis("ranks"==o.value_type).yAutoTicks("scores"==o.value_type?null:n).yFormat("scores"==o.value_type?rb:null).yZeroAxis("scores"==o.value_type).yPadding({top:.5*fb+ky.remToPx(o.padding_top),bottom:.5*fb+ky.remToPx(o.padding_bottom)}).update(),hb=Ny.xScale(),_b=Ny.yScale()}var Mb="A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Tb="fl-spanner",Ab=Tb+"-";function Nb(t){("string"==typeof t||t instanceof HTMLElement)&&(t=gt(t));var e={data:[],element:null,ignore_case:!0,text:function(t){return t},class:Tb},n=function(t,n){var r=e.text(t,n);if(!r||"string"!=typeof r)return null;var i=r.trim();return i?{original:r,trimmed:i,length:i.length,d:t,i:n}:null},r=function(){var r=t.node(),i=t.text(),a=e.element;return a||(a=r instanceof SVGElement||"svg"===r.nodeName.toLowerCase()?"tspan":"span"),e.data.map(n).filter((function(t){return t})).sort((function(t,e){return e.length-t.length||t.i-e.i})).forEach((function(t){var n=function(t,n){var r=n.trimmed.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i="<"+t+".*?<\\/"+t+">|(?:(^|[^"+Mb+"])("+r+")($|[^"+Mb+"]))",a=e.ignore_case?"gi":"g";return new RegExp(i,a)}(a,t);i=i.replace(n,(function(e,n,r,i){return r?n+function(t,e,n){return"<"+t+" class='"+Ab+n+"'>"+e+"</"+t+">"}(a,r,t.i)+i:e}))})),t.html(i),t.selectAll(a).each((function(){var t=e.data[this.getAttribute("class").slice(Ab.length)];gt(this).datum(t).attr("class",e.class)}))};return r.data=function(t){return void 0===t?e.data:(e.data=Array.isArray(t)?t:[t],r)},r.element=function(t){return void 0===t?e.element:(e.element=t,r)},r.ignoreCase=function(t){return void 0===t?e.ignore_case:(e.ignore_case=!!t,r)},r.text=function(t){return void 0===t?e.text:(e.text=t,r)},r.class=function(t){return void 0===t?e.class:(e.class=t,r)},r}var Sb,Eb=450,Cb=null,zb=null;function Db(){var t=Math.floor(Ob);if(t!==Cb){Sb=Sb||gt("#caption");var e=a.horserace.column_names.stages[t],n=Zb.captions[e];n!=zb&&(n?Sb.style("opacity",1).html(n):Sb.style("opacity",0),Fb(),"text_legend"==o.caption_mode&&function(){var t=nb();Nb(Sb.select("#text")).data(t)().style("color",(function(t){eb(t)}))}(),zb=n),Cb=t}}function Fb(){Sb=Sb||gt("#caption");var t=o.caption_position.split("-")[0],e=o.caption_position.split("-")[1],n=ky.getPrimaryWidth()<Eb,r=0==o.caption_image_position.indexOf("column")||n,i=o.caption_background_color||o.layout.background_color;Sb.select("#text").style("max-width",o.caption_text_width+"rem").style("text-align",o.caption_text_align_h).style("align-self",o.caption_text_align_v).style("font-weight",o.caption_text_weight),Sb.select("#image").style("max-height",r?o.caption_image_width+"%":null).style("width",o.caption_image_width+"rem"),Sb.style("flex-direction",(function(){return n?"column":o.caption_image_position})).style("gap",(function(){return this.querySelector("img")?o.caption_space_between+"rem":0})).style("font-size",o.caption_font_size+"rem").style("padding",o.caption_padding+"rem").style("border-radius",o.caption_border_radius+"rem").style("align-items",0==o.caption_image_position.indexOf("column")?o.caption_text_align:null).style("background",(function(){var t=i.replace("#","");return"rgba("+parseInt(t.substring(0,t.length/3),16)+","+parseInt(t.substring(t.length/3,2*t.length/3),16)+","+parseInt(t.substring(2*t.length/3,3*t.length/3),16)+","+o.caption_opacity+")"})).style("color",o.caption_text_color||o.layout.font_color).style("border","1px solid "+o.caption_border_color).style("top",(function(){return"top"===t?"5%":"bottom"===t?null:"50%"})).style("left",(function(){return"left"===e?"5%":"right"===e?null:"50%"})).style("right",(function(){return"right"===e?"5%":null})).style("bottom",(function(){return"bottom"===t?"5%":null})).style("transform",(function(){return"translate("+("center"==e?"-50%":0)+", "+("center"==t?"-50%":0)+")"}))}var Ob=0;function Pb(){o.target_position=0,Ob=0,o.target_position=a.horserace.column_names.stages.length,Xb()}var Lb,jb,Hb,qb,Ub,Rb,Bb,Yb,Ib,Wb,$b=null;function Vb(t){var e,n=kv();if(!Lb)return Lb=t,$b=requestAnimationFrame(Vb),void(jb=Ob<n);(e=jb?(Ob+=(t-Lb)/o.stage_duration)>n:(Ob-=(t-Lb)/o.stage_duration)<n)&&(Ob=n),"all"!=o.play_mode&&kb(Ob,0);var r=Ob-Math.floor(Ob),i=e?null:jb?"ahead":"behind";dv(0);var a=bb(i,r);My.data(a).duration(0).update(),ib.interrupt().attr("transform",vb).select("text").text((function(t){return o.rank_outside_picture?"":wb(t,i,r)})),Db(),"all"!=o.play_mode&&(_v(),sv(0),fv(0)),e?$b=null:($b=requestAnimationFrame(Vb),Lb=t)}function Xb(){Lb=null,$b&&cancelAnimationFrame($b),$b=requestAnimationFrame(Vb)}var Gb,Zb,Qb,Jb=Sc(o.filter_control),Kb=Sc(o.toggle_control);function tv(){(Ub=function(){if(void 0===a.horserace.column_names.filter)return null;var t=Ha(a.horserace,(function(t){return t.filter})),e=[];t.each((function(t){e.push(t)})),e.length>1&&o.filter_include_all&&e.push(o.filter_all_label);return e}())?(ev(),Jb.options(Ub).value(qb||"").update()):(ev(),Jb.options([]).update())}function ev(){qb=Ub?o.filter_value?o.filter_value:o.filter_include_all?o.filter_all_label:Ub[0]:null}function nv(){Kb.options(o.show_buttons?[o.label_scores,o.label_ranks]:[]).value("scores"===o.value_type?o.label_scores:o.label_ranks).update(),Bb.text(o.label_replay),gt("#replay-container").style("display",o.show_replay?null:"none"),tv(),Yb.update(),Ib.update(),Wb.update(),yy.style("display",o.show_buttons||o.show_replay||Ub?null:"none")}function rv(t){var e=void 0,n=0,r=0;t.forEach((function(t){null==t.score?t.rank=null:t.score==e?(t.rank=n,r++):(t.rank=n+r+1,n=t.rank,r=0),e=t.score,Gb=Math.max(Gb,t.rank)}))}function iv(t){var e=void 0,n=0;t.forEach((function(t){null==t.score?t.rank=null:t.score==e?t.rank=n:t.rank=++n,e=t.score,Gb=Math.max(Gb,t.rank)}))}function av(){var t=[];Gb=0,a.horserace.forEach((function(t,e){t.unfiltered_index=e}));var e,n={};e=qb&&qb!==o.filter_all_label?a.horserace.filter((function(t){return t.filter===qb})):a.horserace;a.horserace.column_names.stages.forEach((function(r,i){var a=[];n[r]=null,e.forEach((function(t,e){if(void 0!==t.stages[i]){var n=t.stages[i];t.index=e,a.push({name:t.name,index:e,score:n})}})),a.sort((function(t,e){return o.higher_scores_win?function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}(t.score,e.score):ga(t.score,e.score)})),("dense"===o.ties_mode?iv:rv)(a);var l={};a.forEach((function(t){l[t.index]=t})),t.push(l);var u=wa(a.map((function(t){return t.score})));t[i].min_score=Math.min(Infinity,u[0]),t[i].max_score=Math.max(-(1/0),u[1])}));var r=e.map((function(e,n){var r=null;return e.ranks=e.stages.map((function(e,r){return t[r][n].rank})),e.line=e.stages.map((function(e,r){const i=t[r][n],a="log"===o.y.numeric_scale_type;let l=i.score;0===l&&a&&(l=null);return{i:r,value:"ranks"==o.value_type?i.rank:l}})),e.missing_line=e.line.map((function(t,n){return null!==t.value||0===n?null!==t.value&&r?(r=null,t):{i:t.i,value:null}:r?void 0:(r=!0,{i:t.i-1,value:e.line[n-1].value})})).filter((function(t){return void 0!==t})),e.start_circle=e.line.filter((function(t){return null!=t.value}))[0],e})).filter((function(t){return t.start_circle}));r.max_rank=Gb,r.timeslices=t;for(var i=a.captions||[],l=0;l<i.length;l++){var u=i[l],c=!1;for(var s in n)if(s==u.from&&(c=!0),c&&(n[s]="<div id='text'>"+u.text+"</div><div id='image' style='display: "+(u.image?"inline-block":"none")+";'><img src='"+u.image+"' /></div>",s==u.to))break}return r.captions=n,a.horserace.processed?r.new_data=!1:(r.new_data=!0,a.horserace.processed=!0),r}Yb=function(t,e,n){return new Dc(t,e,n)}(o.controls_style,".fl-control",o.layout),Ib=function(t,e,n){return new Pc(t,e,n)}(o.button_style,".fl-control-buttons",o.layout),Wb=function(t,e,n){return new jc(t,e,n)}(o.dropdown_style,".fl-control-dropdown",o.layout);var ov,lv=null,uv=[],cv=Xr().x((function(t){return hb(t.i)})).y((function(t){return _b(t.value)})).defined((function(t){return null!=t.value}));function sv(t){var e=hy.selectAll(".line-group").data(Zb,(function(t,e){return t.name||"horse-"+e})),n=e.enter().append("g").attr("class","horse line-group").on("mouseenter",vv).on("mouseleave",xv).on("click",wv).on("focus",vv).on("blur",xv).on("keydown",(function(t,e){"Enter"!=t.code&&"Space"!=t.code||wv(t,e),"Escape"==t.code&&(o.selected_horse=null,Tv())})).attr("tabindex",0).attr("clip-path","url(#clip)").attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("fill","none");n.append("path").attr("class","missing"),n.append("path").attr("class","line"),n.append("path").attr("class","shade"),(ov=e.merge(n)).attr("opacity",bv).attr("stroke",eb),ov.select(".line").transition().duration(t).attr("d",(function(t){return cv(t.line)})).attr("opacity",o.line_opacity).attr("stroke-width",ub),ov.select(".shade").transition().duration(t).attr("d",(function(t){return cv(t.line)})).attr("display",o.shade?"block":"none").attr("opacity",o.shade_opacity).attr("stroke-width",cb),ov.select(".missing").transition().duration(t).attr("d",(function(t){return cv(t.missing_line)})).attr("opacity",o.missing?o.missing_opacity:0).attr("stroke-dasharray",ky.remToPx(o.missing_stroke_dash)+","+ky.remToPx(o.missing_stroke_dash)).attr("stroke-width",sb),e.exit().remove()}function fv(t){var e=py.selectAll(".start-circle").data(Zb,(function(t,e){return t.name||"horse-"+e})),n=e.enter().append("circle").attr("class","horse start-circle").attr("cy",(function(t){return _b(t.start_circle.value)})).attr("cx",(function(t){return hb(t.start_circle.i)})).attr("clip-path","url(#clip)");e.merge(n).attr("opacity",bv).transition().duration(t).attr("cy",(function(t){return _b(t.start_circle.value)})).attr("cx",(function(t){return hb(t.start_circle.i)})).attr("r",lb).attr("fill",eb),e.exit().remove()}function dv(t){var e="all"!=o.play_mode?0:Math.max(lb,cb);gt("#clip rect").attr("x",Ny.margins().left-e).transition().duration(t).attr("width",hb(Ob)-Ny.margins().left+e)}function hv(t){for(var e=0,n=Math.floor(Ob);n>0;n--)if(null!=t.line[n].value){e=n;break}return e}function _v(){var t=hb(1)/2;"zoom"==o.play_mode&&(t=hb(Math.max(Ob-o.zoom_steps_to_show+1,1)));var e=Ny.margins().top,n=Ny.plot_height,r=e;"bottom"==o.x.axis_position?r=e+n:"float-below"!=o.x.axis_position&&"float-above"!=o.x.axis_position||(r=_b(o.x.y_axis_position)||0);var i=gy.selectAll(".check").data(a.horserace.column_names.stages),l=i.enter().append("g").attr("class","check");l.append("rect").attr("class","check-rect"),l.append("line"),l.append("circle");var u=i.merge(l);u.on("mouseenter",(function(t,e){gv(this,e)})).on("mouseleave",(function(){yv(this)})).on("click",(function(t,e){pv(e)})).on("focus",(function(t,e){gv(this,e)})).on("blur",(function(){yv(this)})).on("keydown",(function(t,e){"Enter"!=t.code&&"Space"!=t.code||pv(e)})).attr("tabindex",0),u.attr("transform",(function(e,n){return"translate("+(hb(n)-t/2)+", 0)"})),u.select("rect").attr("x",0).attr("y",0).attr("height",n).attr("fill","none").style("pointer-events","all").attr("width",t),u.select("line").attr("x1",t/2).attr("x2",t/2).attr("y1",e).attr("y2",n+e).attr("stroke",o.x.line_and_tick_color).attr("stroke-width",ky.remToPx(o.x.gridline_width)).attr("opacity",(function(t,e){return"check-"+e===lv?1:0})).style("pointer-events","none"),u.select("circle").attr("r",4).attr("cx",t/2).attr("cy",r).attr("fill",o.x.line_and_tick_color).attr("opacity",(function(t,e){return"check-"+e===lv?1:0})).style("pointer-events","none"),i.exit().remove()}function pv(t){var e=a.horserace.column_names.stages.indexOf(t);o.target_position=e+1,Tv()}function gv(t,e){lv="check-"+a.horserace.column_names.stages.indexOf(e),gt(t).select("line").attr("opacity","1"),gt(t).select("circle").attr("opacity","1")}function yv(t){lv=null,gt(t).select("line").attr("opacity","0"),gt(t).select("circle").attr("opacity","0")}function mv(t){Ty.style("fill","currentColor").attr("font-family",o.layout.body_font.name),sv(t),fv(t),function(t){var e=bb();My.data(e).on("mouseover",(function(t,e){vv(t,e.datum)})).on("click",(function(t,e){wv(t,e.datum)})).on("mouseleave",xv).backgroundColor(o.layout.background_color).update();var n=_y.selectAll(".end-circle-container").data(Zb,(function(t){return t.name})),r=n.enter().append("g").attr("class","end-circle-container");if(r.append("circle").attr("class","circle bg"),r.append("circle").attr("class","end circle"),r.append("image").attr("clip-path","url(#circleClip)").attr("preserveAspectRatio","xMidYMid slice").style("display","inherit"),r.attr("transform",vb),r.append("text"),(ib=n.merge(r)).on("mouseenter",vv).on("mouseleave",xv).on("click",wv).each((function(t){var e=!1;uv.length>0&&uv.indexOf(String(t.unfiltered_index))>-1&&(e=!0),0==uv.length&&null!=o.mouseover_horse&&t.unfiltered_index==o.mouseover_horse&&(e=!0),e&&this.parentNode.appendChild(this)})).transition().duration(t).attr("transform",vb),ib.select(".end.circle").attr("r",ab).attr("fill",eb).attr("opacity",bv).attr("stroke-width",ob).attr("stroke",(function(t){return o.end_circle_stroke_bg&&o.layout.background_color_enabled?o.layout.background_color:eb(t)})),ib.select(".bg.circle").attr("r",ab).attr("fill",o.layout.background_color_enabled?o.layout.background_color:"#ffffff"),o.horse_images){var i=2*ab-ob;ib.select("image").attr("xlink:href",(function(t){if(t.pic&&t.pic.match(/^https:\/\//))return t.pic})).attr("opacity",bv).attr("height",i).attr("width",i).attr("x",-i/2).attr("y",-i/2).style("display","block"),dy.select("#circleClip circle").attr("r",ab-ob/2)}else n.select("image").style("display","none");ib.select("text").text((function(t){return o.rank_outside_picture?"":wb(t)})).style("text-anchor","middle").style("dominant-baseline","middle").style("font-size",o.labels.text_size+"rem").style("font-weight",o.labels.text_weight).style("fill",(function(t){return o.rank_inside_color?o.rank_inside_color:eb(t)})),n.exit().remove()}(t),_v()}function bv(t,e){if("label"==e){let e=Ob<t.start_circle.i?0:1;if(o.hide_labels){if(!(t.unfiltered_index==o.mouseover_horse))return 0}return e}return uv.length>0?uv.indexOf(String(t.unfiltered_index))>-1?1:.1:null!=o.mouseover_horse?t.unfiltered_index==o.mouseover_horse?1:.1:1}function vv(t,e){e.unfiltered_index!==o.mouseover_horse&&(o.mouseover_horse=e.unfiltered_index,0==uv.length&&(ib.select(".end.circle").attr("opacity",bv),ib.select("image").attr("opacity",bv),My.data(bb()).update(),ib.each((function(t,n){e.unfiltered_index===n&&this.parentNode.appendChild(this)})),ov.attr("opacity",bv),vt(".start-circle").attr("opacity",bv)))}function xv(){o.mouseover_horse=null,0==uv.length&&(ib.select(".end.circle").attr("opacity",bv),ib.select("image").attr("opacity",bv),My.data(bb()).update(),ov.attr("opacity",bv),vt(".start-circle").attr("opacity",bv))}function wv(t,e){(o.mouseover_horse=null,t.stopPropagation(),null==o.selected_horse)?uv=[String(e.unfiltered_index)]:uv.indexOf(String(e.unfiltered_index))>-1?uv.length>1?uv.splice(uv.indexOf(String(e.unfiltered_index)),1):uv=[]:uv.push(String(e.unfiltered_index));o.selected_horse=uv.join(),Tv()}function kv(){var t=a.horserace.column_names.stages.length;return null==o.target_position?t-1:Math.max(0,Math.min(t-1,o.target_position-1))}function Mv(t){var e,n,r;Qb=window.innerWidth<=420,e=parseFloat(getComputedStyle(document.documentElement).fontSize)||16,wy=function(t){return t*e},rb=a.horserace.metadata.stages.length?mb(a.horserace.metadata.stages[0].output_format_id):function(t){return t},gt("#viz-ui").style("margin-top",o.show_buttons||o.show_replay?null:0),vt(".axis").style("font-family",o.layout.body_font.name),nv(),ky.update(),Zb=av(),uv=o.selected_horse?o.selected_horse.split(","):[],n=Zb.new_data,r=a.horserace.column_names.stages.length,Ob>r-1&&(Ob=r-1),n&&(Ob=0===o.stage_duration?r-1:0),function(t,e,n){pb=pb||document.getElementById("viz-ui"),lb=wy(o.start_circle_r),ab=wy(o.end_circle_r),ob=wy(o.end_circle_stroke),cb=wy(o.shade_width),ub=wy(o.line_width),sb=wy(o.missing_width),fb=Math.max(2*ab+ob,2*lb,ub,cb);var r="ranks"==o.value_type&&null!=o.y.linear_max&&""!=o.y.linear_max?o.y.linear_max:a.horserace.length,i=r*fb+wy(o.circle_space_between)*r;!Flourish.fixed_height&&("flexible"==o.height_mode||"auto"==o.height_mode&&i>ky.getDefaultPrimaryHeight())?ky.setHeight(i):ky.setHeight(null);var l=ky.getPrimaryHeight(),u=ky.getPrimaryWidth();Ty.attr("width",u).attr("height",l),Math.max(0,Ny.width()),db=Math.max(0,Ny.height()),kb(t,n),gt("#clip rect").attr("height",db),dv(n)}(Ob,Zb.max_rank,t),cv.curve(pa[o.curve]),tb(),mv(t),Fb(),Ob!=kv()&&Xb()}function Tv(){Mv(o.update_duration)}return t.data=a,t.draw=function(){var t;window.onresize=function(){Mv(0)},t=function(){Mv(0)},document.fonts&&(t=t||function(){window.template.update()},document.fonts.ready.then((function(e){t(e),document.fonts.addEventListener("loadingdone",(function(){t(e)}))})).catch((function(t){console.log("Error loading fonts",t)}))),Sy(),Tv()},t.state=o,t.update=Tv,t}({});
//# sourceMappingURL=template.js.map
</script><div id="fl-layout-wrapper-outer" style="display: flex;" dir="ltr"><main id="fl-layout-wrapper" style="display: flex; flex-grow: 1; flex-direction: column; box-sizing: border-box; overflow: hidden; color: rgb(51, 51, 51); padding: 0.5rem;" dir="ltr"><section class="fl-layout-container" id="fl-layout-header-container" style="width: 100%; position: relative; order: 0; display: none;"><div class="fl-layout-inner" id="fl-layout-header" style="width: 100%; position: relative;"><header class="flourish-header" style="text-align: start; margin: 0px;"><div class="flourish-header-logo-container"></div><hgroup><h1 id="flourish-header-title" style="font-family: inherit; font-size: 1.6rem; line-height: 1.2; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; padding-top: 0px;"></h1><h2 id="flourish-header-subtitle" style="font-family: inherit; font-size: 1.6rem; line-height: 1.2; font-weight: normal; color: rgb(51, 51, 51); margin: 0px; padding-top: 0px;"></h2></hgroup><p id="flourish-header-text" style="font-size: 1.2rem; line-height: 1.2; font-weight: normal; margin: 0px; color: rgb(51, 51, 51); padding-top: 0px;"></p><div class="clearfix" style="clear: both;"></div></header></div></section><section class="fl-layout-container" id="fl-layout-controls-container" style="width: 100%; position: relative; order: 10; padding-bottom: 0.25rem;"><div class="fl-layout-inner" id="fl-layout-controls" style="width: 100%; position: relative;"><div id="viz-ui"><div id="horse-controls"><div class="fl-controls-container" id="replay-container"><div class="fl-control fl-control-buttons"><div class="button" role="button" aria-label="Replay Animation" tabindex="0" id="replay">Replay Animation</div></div></div><div class="fl-controls-container" style="display: none;"><div class="fl-controls-title" style="display: none;"></div><div class="fl-control fl-control-dropdown" style="display: none;"><select></select></div><div class="fl-control fl-control-buttons hidden"></div><div class="fl-control fl-control-slider animatable" style="display: none;"><div class="slider-play"></div><div class="fl-controls-slider"></div></div></div></div><div id="filter-control"><div class="fl-controls-container" style="display: none;"><div class="fl-controls-title" style="display: none;"></div><div class="fl-control fl-control-dropdown" style="display: none;"><select></select></div><div class="fl-control fl-control-buttons hidden"></div><div class="fl-control fl-control-slider animatable" style="display: none;"><div class="slider-play"></div><div class="fl-controls-slider"></div></div></div></div></div></div></section><section class="fl-layout-container" id="fl-layout-legend-container" style="width: 100%; position: relative; order: 19; display: none;"><div class="fl-layout-inner" id="fl-layout-legend" style="width: 100%; position: relative;"></div></section><section class="fl-layout-container" id="fl-layout-primary-container" style="width: 100%; position: relative; order: 20; display: flex; overflow: hidden; padding-top: 0.25rem;" aria-label="primary visualisation container"><p id="fl-layout-primary-description" style="border: 0px none; display: none; height: 1px; width: 1px; margin: -1px; overflow: hidden; padding: 0px; position: absolute; clip: rect(0px, 0px, 0px, 0px);"></p><div class="fl-layout-inner" id="fl-layout-primary" style="width: 100%; position: relative; height: 519px;" aria-hidden="true"><svg width="736" height="519" style="fill: currentcolor;" font-family="Roboto Condensed"><g class="fl-chart"><rect class="fl-chart-debug-rectangle" x="0" y="0" style="stroke-width: 1px; fill: none; display: none; stroke: red;" width="736" height="519"></rect><clipPath class="fl-data-clip-path" id="fl-chart-layout-0-clip-path"><rect x="0" y="0" width="736" height="519"></rect></clipPath><clipPath class="fl-grid-clip-path" id="fl-chart-layout-0-grid-clip-path"><rect x="54.80000152587891" y="42.96972142572964" width="664.1687751492544" height="469.8302785742704"></rect></clipPath><g class="fl-chart-background"><rect class="fl-chart-fill" x="55.80000152587891" y="43.96972142572964" width="662.1687751492543" height="467.8302785742704" fill="none"></rect><image class="fl-chart-image" x="55.80000152587891" y="43.96972142572964" width="662.1687751492543" height="467.8302785742704" preserveAspectRatio="none"></image><rect class="fl-chart-interaction" style="opacity: 0;" x="55.80000152587891" y="43.96972142572964" width="662.1687751492543" height="467.8302785742704"></rect></g><g class="fl-data-background" clip-path="url(#fl-chart-layout-0-clip-path)"></g><g class="fl-gridlines" style="pointer-events: none;" clip-path="url(#fl-chart-layout-0-grid-clip-path)"><g class="fl-gridlines-vertical"></g><g class="fl-gridlines-horizontal"><line style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1px;" x1="55.80000152587891" x2="717.9687766751333" y1="504.8" y2="504.8"></line><line style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1px;" x1="55.80000152587891" x2="717.9687766751333" y1="422.2854038955872" y2="422.2854038955872"></line><line style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1px;" x1="55.80000152587891" x2="717.9687766751333" y1="339.77080779117443" y2="339.77080779117443"></line><line style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1px;" x1="55.80000152587891" x2="717.9687766751333" y1="257.2562116867616" y2="257.2562116867616"></line><line style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1px;" x1="55.80000152587891" x2="717.9687766751333" y1="174.7416155823488" y2="174.7416155823488"></line><line style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1px;" x1="55.80000152587891" x2="717.9687766751333" y1="92.22701947793604" y2="92.22701947793604"></line></g></g><g class="fl-axes" aria-hidden="true"><g class="fl-x-axes"><g class="fl-axis fl-x-axis fl-bottom-axis"><g class="fl-axis-line"></g><g class="fl-axis-ticks"></g><g class="fl-axis-title"></g></g><g class="fl-axis fl-x-axis fl-top-axis"><g class="fl-axis-line"><line style="shape-rendering: crispedges; stroke-linecap: square; stroke-width: 1px; opacity: 1; stroke: rgb(238, 238, 238);" x1="55.80000152587891" x2="717.9687766751333" y1="43.96972142572964" y2="43.96972142572964"></line></g><g class="fl-axis-ticks"><g style="opacity: 1;" transform="translate(55.80000152587891,43.96972142572964)"><line y2="-7" style="stroke: rgb(238, 238, 238); stroke-width: 1px;"></line><text text-anchor="start" transform="translate(0,-10.5) rotate(-45,0,0)translate(0,0)" style="user-select: none; cursor: default; fill: rgb(74, 74, 74); font-size: 14px; font-weight: bold;"><tspan x="0" dy="0">2017</tspan></text></g><g style="opacity: 1;" transform="translate(600.3687744140625, 43.969722747802734)"><line y2="-7" style="stroke: rgb(238, 238, 238); stroke-width: 1px;"></line><text text-anchor="start" transform="translate(0,-10.5) rotate(-45,0,0)translate(0,0)" style="user-select: none; cursor: default; fill: rgb(74, 74, 74); font-size: 14px; font-weight: bold;"><tspan x="0" dy="0">2023</tspan></text></g><g style="opacity: 1;" transform="translate(509.6072998046875, 43.969722747802734)"><line y2="-7" style="stroke: rgb(238, 238, 238); stroke-width: 1px;"></line><text text-anchor="start" transform="translate(0,-10.5) rotate(-45,0,0)translate(0,0)" style="user-select: none; cursor: default; fill: rgb(74, 74, 74); font-size: 14px; font-weight: bold;"><tspan x="0" dy="0">2022</tspan></text></g><g style="opacity: 1;" transform="translate(418.8458557128906, 43.969722747802734)"><line y2="-7" style="stroke: rgb(238, 238, 238); stroke-width: 1px;"></line><text text-anchor="start" transform="translate(0,-10.5) rotate(-45,0,0)translate(0,0)" style="user-select: none; cursor: default; fill: rgb(74, 74, 74); font-size: 14px; font-weight: bold;"><tspan x="0" dy="0">2021</tspan></text></g><g style="opacity: 1;" transform="translate(328.0843811035156, 43.969722747802734)"><line y2="-7" style="stroke: rgb(238, 238, 238); stroke-width: 1px;"></line><text text-anchor="start" transform="translate(0,-10.5) rotate(-45,0,0)translate(0,0)" style="user-select: none; cursor: default; fill: rgb(74, 74, 74); font-size: 14px; font-weight: bold;"><tspan x="0" dy="0">2020</tspan></text></g><g style="opacity: 1;" transform="translate(237.3229217529297, 43.969722747802734)"><line y2="-7" style="stroke: rgb(238, 238, 238); stroke-width: 1px;"></line><text text-anchor="start" transform="translate(0,-10.5) rotate(-45,0,0)translate(0,0)" style="user-select: none; cursor: default; fill: rgb(74, 74, 74); font-size: 14px; font-weight: bold;"><tspan x="0" dy="0">2019</tspan></text></g><g style="opacity: 1;" transform="translate(146.56146240234375, 43.969722747802734)"><line y2="-7" style="stroke: rgb(238, 238, 238); stroke-width: 1px;"></line><text text-anchor="start" transform="translate(0,-10.5) rotate(-45,0,0)translate(0,0)" style="user-select: none; cursor: default; fill: rgb(74, 74, 74); font-size: 14px; font-weight: bold;"><tspan x="0" dy="0">2018</tspan></text></g></g><g class="fl-axis-title"></g></g></g><g class="fl-y-axes"><g class="fl-axis fl-y-axis fl-left-axis"><g class="fl-axis-line"><line style="shape-rendering: crispedges; stroke-linecap: square; stroke-width: 1px; opacity: 1; stroke: rgb(238, 238, 238);" x1="55.80000152587891" x2="55.80000152587891" y1="511.8" y2="43.96972142572964"></line></g><g class="fl-axis-ticks"><g style="opacity: 1;" transform="translate(55.80000305175781, 504.79998779296875)"><line x2="-7" style="stroke: rgb(238, 238, 238); stroke-width: 1px;"></line><text text-anchor="end" transform="translate(-4.199999999999999,3.6960000000000006)" style="user-select: none; cursor: default; fill: rgb(74, 74, 74); font-size: 11.2px; font-weight: normal;"><tspan x="0" dy="0">0</tspan></text></g><g style="opacity: 1;" transform="translate(55.80000305175781, 92.22702026367188)"><line x2="-7" style="stroke: rgb(238, 238, 238); stroke-width: 1px;"></line><text text-anchor="end" transform="translate(-4.199999999999999,3.6960000000000006)" style="user-select: none; cursor: default; fill: rgb(74, 74, 74); font-size: 11.2px; font-weight: normal;"><tspan x="0" dy="0">100,000</tspan></text></g><g style="opacity: 1;" transform="translate(55.80000305175781, 174.7416229248047)"><line x2="-7" style="stroke: rgb(238, 238, 238); stroke-width: 1px;"></line><text text-anchor="end" transform="translate(-4.199999999999999,3.6960000000000006)" style="user-select: none; cursor: default; fill: rgb(74, 74, 74); font-size: 11.2px; font-weight: normal;"><tspan x="0" dy="0">80,000</tspan></text></g><g style="opacity: 1;" transform="translate(55.80000305175781, 257.2562255859375)"><line x2="-7" style="stroke: rgb(238, 238, 238); stroke-width: 1px;"></line><text text-anchor="end" transform="translate(-4.199999999999999,3.6960000000000006)" style="user-select: none; cursor: default; fill: rgb(74, 74, 74); font-size: 11.2px; font-weight: normal;"><tspan x="0" dy="0">60,000</tspan></text></g><g style="opacity: 1;" transform="translate(55.80000305175781, 339.77081298828125)"><line x2="-7" style="stroke: rgb(238, 238, 238); stroke-width: 1px;"></line><text text-anchor="end" transform="translate(-4.199999999999999,3.6960000000000006)" style="user-select: none; cursor: default; fill: rgb(74, 74, 74); font-size: 11.2px; font-weight: normal;"><tspan x="0" dy="0">40,000</tspan></text></g><g style="opacity: 1;" transform="translate(55.80000305175781, 422.285400390625)"><line x2="-7" style="stroke: rgb(238, 238, 238); stroke-width: 1px;"></line><text text-anchor="end" transform="translate(-4.199999999999999,3.6960000000000006)" style="user-select: none; cursor: default; fill: rgb(74, 74, 74); font-size: 11.2px; font-weight: normal;"><tspan x="0" dy="0">20,000</tspan></text></g></g><g class="fl-axis-title"><text text-anchor="middle" style="font-size: 14px; fill: rgb(74, 74, 74); font-weight: bold; user-select: none; cursor: default;" transform="translate(12.980003356933594, 277.8848571777344) rotate(-90)">Page views</text></g></g><g class="fl-axis fl-y-axis fl-right-axis"><g class="fl-axis-line"></g><g class="fl-axis-ticks"></g><g class="fl-axis-title"></g></g></g></g><g class="fl-data-foreground" clip-path="url(#fl-chart-layout-0-clip-path)"><clipPath id="clip"><rect width="558.5687751492543" height="519" x="41.80000152587891"></rect></clipPath><clipPath id="circleClip"><circle></circle></clipPath><g class="g-checks"><g class="check" tabindex="0" transform="translate(19.159635513190253, 0)"><rect class="check-rect" x="0" y="0" height="467.8302785742704" fill="none" style="pointer-events: all;" width="73.28073202537732"></rect><line x1="36.64036601268866" x2="36.64036601268866" y1="43.96972142572964" y2="511.8" stroke="#eeeeee" stroke-width="1.4000000000000001" opacity="0" style="pointer-events: none;"></line><circle r="4" cx="36.64036601268866" cy="43.96972142572964" fill="#eeeeee" opacity="0" style="pointer-events: none;"></circle></g><g class="check" tabindex="0" transform="translate(109.92109803806598, 0)"><rect class="check-rect" x="0" y="0" height="467.8302785742704" fill="none" style="pointer-events: all;" width="73.28073202537732"></rect><line x1="36.64036601268866" x2="36.64036601268866" y1="43.96972142572964" y2="511.8" stroke="#eeeeee" stroke-width="1.4000000000000001" opacity="1" style="pointer-events: none;"></line><circle r="4" cx="36.64036601268866" cy="43.96972142572964" fill="#eeeeee" opacity="1" style="pointer-events: none;"></circle></g><g class="check" tabindex="0" transform="translate(200.68256056294166, 0)"><rect class="check-rect" x="0" y="0" height="467.8302785742704" fill="none" style="pointer-events: all;" width="73.28073202537732"></rect><line x1="36.64036601268866" x2="36.64036601268866" y1="43.96972142572964" y2="511.8" stroke="#eeeeee" stroke-width="1.4000000000000001" opacity="0" style="pointer-events: none;"></line><circle r="4" cx="36.64036601268866" cy="43.96972142572964" fill="#eeeeee" opacity="0" style="pointer-events: none;"></circle></g><g class="check" tabindex="0" transform="translate(291.44402308781736, 0)"><rect class="check-rect" x="0" y="0" height="467.8302785742704" fill="none" style="pointer-events: all;" width="73.28073202537732"></rect><line x1="36.64036601268866" x2="36.64036601268866" y1="43.96972142572964" y2="511.8" stroke="#eeeeee" stroke-width="1.4000000000000001" opacity="0" style="pointer-events: none;"></line><circle r="4" cx="36.64036601268866" cy="43.96972142572964" fill="#eeeeee" opacity="0" style="pointer-events: none;"></circle></g><g class="check" tabindex="0" transform="translate(382.20548561269305, 0)"><rect class="check-rect" x="0" y="0" height="467.8302785742704" fill="none" style="pointer-events: all;" width="73.28073202537732"></rect><line x1="36.64036601268866" x2="36.64036601268866" y1="43.96972142572964" y2="511.8" stroke="#eeeeee" stroke-width="1.4000000000000001" opacity="0" style="pointer-events: none;"></line><circle r="4" cx="36.64036601268866" cy="43.96972142572964" fill="#eeeeee" opacity="0" style="pointer-events: none;"></circle></g><g class="check" tabindex="0" transform="translate(472.9669481375688, 0)"><rect class="check-rect" x="0" y="0" height="467.8302785742704" fill="none" style="pointer-events: all;" width="73.28073202537732"></rect><line x1="36.64036601268866" x2="36.64036601268866" y1="43.96972142572964" y2="511.8" stroke="#eeeeee" stroke-width="1.4000000000000001" opacity="0" style="pointer-events: none;"></line><circle r="4" cx="36.64036601268866" cy="43.96972142572964" fill="#eeeeee" opacity="0" style="pointer-events: none;"></circle></g><g class="check" tabindex="0" transform="translate(563.7284106624445, 0)"><rect class="check-rect" x="0" y="0" height="467.8302785742704" fill="none" style="pointer-events: all;" width="73.28073202537732"></rect><line x1="36.64036601268866" x2="36.64036601268866" y1="43.96972142572964" y2="511.8" stroke="#eeeeee" stroke-width="1.4000000000000001" opacity="0" style="pointer-events: none;"></line><circle r="4" cx="36.64036601268866" cy="43.96972142572964" fill="#eeeeee" opacity="0" style="pointer-events: none;"></circle></g></g><g class="g-lines" clip-path="url(#clip)"><g class="horse line-group" tabindex="0" clip-path="url(#clip)" stroke-linejoin="round" stroke-linecap="round" fill="none" opacity="1" stroke="#4328e7"><path class="missing" opacity="0" stroke-dasharray="7,7" stroke-width="1.4000000000000001"></path><path class="line" d="M55.80000152587891,432.9132838738356L146.56146405075464,320.4252607344948L237.32292657563033,222.1173709356974L328.08438910050603,220.0091230052297L418.8458516253817,133.74423850787133L509.6073141502575,85.86101838848057L600.3687766751332,171.39152298050968" opacity="1" stroke-width="2.8000000000000003"></path><path class="shade" d="M55.80000152587891,432.9132838738356L146.56146405075464,320.4252607344948L237.32292657563033,222.1173709356974L328.08438910050603,220.0091230052297L418.8458516253817,133.74423850787133L509.6073141502575,85.86101838848057L600.3687766751332,171.39152298050968" display="none" opacity="0.1" stroke-width="14"></path></g><g class="horse line-group" tabindex="0" clip-path="url(#clip)" stroke-linejoin="round" stroke-linecap="round" fill="none" opacity="1" stroke="#9654e5"><path class="missing" opacity="0" stroke-dasharray="7,7" stroke-width="1.4000000000000001"></path><path class="line" d="M55.80000152587891,415.80388237158564L146.56146405075464,387.71591385764344L237.32292657563033,370.13205342779315L328.08438910050603,352.721473649762L418.8458516253817,325.11621552303075L509.6073141502575,329.889684907671L600.3687766751332,320.3675005172218" opacity="1" stroke-width="2.8000000000000003"></path><path class="shade" d="M55.80000152587891,415.80388237158564L146.56146405075464,387.71591385764344L237.32292657563033,370.13205342779315L328.08438910050603,352.721473649762L418.8458516253817,325.11621552303075L509.6073141502575,329.889684907671L600.3687766751332,320.3675005172218" display="none" opacity="0.1" stroke-width="14"></path></g><g class="horse line-group" tabindex="0" clip-path="url(#clip)" stroke-linejoin="round" stroke-linecap="round" fill="none" opacity="1" stroke="#ff6283"><path class="missing" opacity="0" stroke-dasharray="7,7" stroke-width="1.4000000000000001"></path><path class="line" d="M55.80000152587891,428.34197524965106L146.56146405075464,405.1883795827529L237.32292657563033,379.0230011580436L328.08438910050603,369.10062097648796L418.8458516253817,353.674517234768L509.6073141502575,354.3140053545772L600.3687766751332,370.06604175090956" opacity="1" stroke-width="2.8000000000000003"></path><path class="shade" d="M55.80000152587891,428.34197524965106L146.56146405075464,405.1883795827529L237.32292657563033,379.0230011580436L328.08438910050603,369.10062097648796L418.8458516253817,353.674517234768L509.6073141502575,354.3140053545772L600.3687766751332,370.06604175090956" display="none" opacity="0.1" stroke-width="14"></path></g><g class="horse line-group" tabindex="0" clip-path="url(#clip)" stroke-linejoin="round" stroke-linecap="round" fill="none" opacity="1" stroke="#ff8800"><path class="missing" opacity="0" stroke-dasharray="7,7" stroke-width="1.4000000000000001"></path><path class="line" d="M55.80000152587891,490.40945443939046L146.56146405075464,472.26449475603L237.32292657563033,404.73867503398384L328.08438910050603,406.63651074438536L418.8458516253817,383.1157251248224L509.6073141502575,380.9332140578607L600.3687766751332,393.87975418664314" opacity="1" stroke-width="2.8000000000000003"></path><path class="shade" d="M55.80000152587891,490.40945443939046L146.56146405075464,472.26449475603L237.32292657563033,404.73867503398384L328.08438910050603,406.63651074438536L418.8458516253817,383.1157251248224L509.6073141502575,380.9332140578607L600.3687766751332,393.87975418664314" display="none" opacity="0.1" stroke-width="14"></path></g><g class="horse line-group" tabindex="0" clip-path="url(#clip)" stroke-linejoin="round" stroke-linecap="round" fill="none" opacity="1" stroke="#ffc502"><path class="missing" opacity="0" stroke-dasharray="7,7" stroke-width="1.4000000000000001"></path><path class="line" d="M55.80000152587891,433.03705576799223L146.56146405075464,428.1109343805588L237.32292657563033,415.1850229008025L328.08438910050603,409.30998365816833L418.8458516253817,408.00212730991336L509.6073141502575,396.13652839009876L600.3687766751332,398.52532594732156" opacity="1" stroke-width="2.8000000000000003"></path><path class="shade" d="M55.80000152587891,433.03705576799223L146.56146405075464,428.1109343805588L237.32292657563033,415.1850229008025L328.08438910050603,409.30998365816833L418.8458516253817,408.00212730991336L509.6073141502575,396.13652839009876L600.3687766751332,398.52532594732156" display="none" opacity="0.1" stroke-width="14"></path></g><g class="horse line-group" tabindex="0" clip-path="url(#clip)" stroke-linejoin="round" stroke-linecap="round" fill="none" opacity="1" stroke="#88e99a"><path class="missing" opacity="0" stroke-dasharray="7,7" stroke-width="1.4000000000000001"></path><path class="line" d="M55.80000152587891,431.423895414151L146.56146405075464,374.13401133885714L237.32292657563033,328.2600216346088L328.08438910050603,344.30911057691713L418.8458516253817,353.4847336637278L509.6073141502575,385.8469582558785L600.3687766751332,407.3502620006885" opacity="1" stroke-width="2.8000000000000003"></path><path class="shade" d="M55.80000152587891,431.423895414151L146.56146405075464,374.13401133885714L237.32292657563033,328.2600216346088L328.08438910050603,344.30911057691713L418.8458516253817,353.4847336637278L509.6073141502575,385.8469582558785L600.3687766751332,407.3502620006885" display="none" opacity="0.1" stroke-width="14"></path></g><g class="horse line-group" tabindex="0" clip-path="url(#clip)" stroke-linejoin="round" stroke-linecap="round" fill="none" opacity="1" stroke="#29dae4"><path class="missing" opacity="0" stroke-dasharray="7,7" stroke-width="1.4000000000000001"></path><path class="line" d="M55.80000152587891,413.8771665525475L146.56146405075464,404.87482411755616L237.32292657563033,389.184673668302L328.08438910050603,390.66168493857094L418.8458516253817,406.9335632903612L509.6073141502575,391.09076083831394L600.3687766751332,410.1557582682385" opacity="1" stroke-width="2.8000000000000003"></path><path class="shade" d="M55.80000152587891,413.8771665525475L146.56146405075464,404.87482411755616L237.32292657563033,389.184673668302L328.08438910050603,390.66168493857094L418.8458516253817,406.9335632903612L509.6073141502575,391.09076083831394L600.3687766751332,410.1557582682385" display="none" opacity="0.1" stroke-width="14"></path></g><g class="horse line-group" tabindex="0" clip-path="url(#clip)" stroke-linejoin="round" stroke-linecap="round" fill="none" opacity="1" stroke="#1aa7ee"><path class="missing" opacity="0" stroke-dasharray="7,7" stroke-width="1.4000000000000001"></path><path class="line" d="M55.80000152587891,438.1529607264658L146.56146405075464,435.56200240878724L237.32292657563033,426.15946418268936L328.08438910050603,419.7852116336235L418.8458516253817,412.47029268896733L509.6073141502575,414.2732366138488L600.3687766751332,417.13236736886665" opacity="1" stroke-width="2.8000000000000003"></path><path class="shade" d="M55.80000152587891,438.1529607264658L146.56146405075464,435.56200240878724L237.32292657563033,426.15946418268936L328.08438910050603,419.7852116336235L418.8458516253817,412.47029268896733L509.6073141502575,414.2732366138488L600.3687766751332,417.13236736886665" display="none" opacity="0.1" stroke-width="14"></path></g><g class="horse line-group" tabindex="0" clip-path="url(#clip)" stroke-linejoin="round" stroke-linecap="round" fill="none" opacity="1" stroke="#019c00"><path class="missing" opacity="0" stroke-dasharray="7,7" stroke-width="1.4000000000000001"></path><path class="line" d="M55.80000152587891,471.57137214875297L146.56146405075464,457.4613762148984L237.32292657563033,451.937024005708L328.08438910050603,447.5307445737323L418.8458516253817,435.8343005759318L509.6073141502575,429.2537615366049L600.3687766751332,422.6237137396153" opacity="1" stroke-width="2.8000000000000003"></path><path class="shade" d="M55.80000152587891,471.57137214875297L146.56146405075464,457.4613762148984L237.32292657563033,451.937024005708L328.08438910050603,447.5307445737323L418.8458516253817,435.8343005759318L509.6073141502575,429.2537615366049L600.3687766751332,422.6237137396153" display="none" opacity="0.1" stroke-width="14"></path></g><g class="horse line-group" tabindex="0" clip-path="url(#clip)" stroke-linejoin="round" stroke-linecap="round" fill="none" opacity="1" stroke="#007d8e"><path class="missing" opacity="0" stroke-dasharray="7,7" stroke-width="1.4000000000000001"></path><path class="line" d="M55.80000152587891,420.28029921024995L146.56146405075464,387.9717091055672L237.32292657563033,386.20177101912753L328.08438910050603,401.88367000877116L418.8458516253817,410.82000076687905L509.6073141502575,423.4282310516333L600.3687766751332,434.81937104384747" opacity="1" stroke-width="2.8000000000000003"></path><path class="shade" d="M55.80000152587891,420.28029921024995L146.56146405075464,387.9717091055672L237.32292657563033,386.20177101912753L328.08438910050603,401.88367000877116L418.8458516253817,410.82000076687905L509.6073141502575,423.4282310516333L600.3687766751332,434.81937104384747" display="none" opacity="0.1" stroke-width="14"></path></g></g><g class="g-start-circles"><circle class="horse start-circle" cy="432.9132838738356" cx="55.80000152587891" clip-path="url(#clip)" opacity="1" r="2.8000000000000003" fill="rgb(67, 40, 231)"></circle><circle class="horse start-circle" cy="415.80388237158564" cx="55.80000152587891" clip-path="url(#clip)" opacity="1" r="2.8000000000000003" fill="rgb(150, 84, 229)"></circle><circle class="horse start-circle" cy="428.34197524965106" cx="55.80000152587891" clip-path="url(#clip)" opacity="1" r="2.8000000000000003" fill="rgb(255, 98, 131)"></circle><circle class="horse start-circle" cy="490.40945443939046" cx="55.80000152587891" clip-path="url(#clip)" opacity="1" r="2.8000000000000003" fill="rgb(255, 136, 0)"></circle><circle class="horse start-circle" cy="433.03705576799223" cx="55.80000152587891" clip-path="url(#clip)" opacity="1" r="2.8000000000000003" fill="rgb(255, 197, 2)"></circle><circle class="horse start-circle" cy="431.423895414151" cx="55.80000152587891" clip-path="url(#clip)" opacity="1" r="2.8000000000000003" fill="rgb(136, 233, 154)"></circle><circle class="horse start-circle" cy="413.8771665525475" cx="55.80000152587891" clip-path="url(#clip)" opacity="1" r="2.8000000000000003" fill="rgb(41, 218, 228)"></circle><circle class="horse start-circle" cy="438.1529607264658" cx="55.80000152587891" clip-path="url(#clip)" opacity="1" r="2.8000000000000003" fill="rgb(26, 167, 238)"></circle><circle class="horse start-circle" cy="471.57137214875297" cx="55.80000152587891" clip-path="url(#clip)" opacity="1" r="2.8000000000000003" fill="rgb(1, 156, 0)"></circle><circle class="horse start-circle" cy="420.28029921024995" cx="55.80000152587891" clip-path="url(#clip)" opacity="1" r="2.8000000000000003" fill="rgb(0, 125, 142)"></circle></g><g class="g-labels" style="direction: ltr;"><g class="fl-label" transform="translate(608.5687866210938, 410.15576171875)" font-size="11.200000000000001" font-weight="700" opacity="1" aria-hidden="true" id="6"><path fill="none" d="" stroke-width="0.075rem" stroke="#aaaaaa"></path><text class="bg" transform="translate(2.799999952316284, 16.24628257751465)" text-anchor="start"><tspan x="0" fill="none" stroke="rgb(255, 255, 255)" stroke-width="2.8" dy="0">Choropleth Map: 22,940 </tspan></text><text class="fg" transform="translate(2.799999952316284, 16.24628257751465)" text-anchor="start"><tspan x="0" fill="rgb(41, 218, 228)" dy="0">Choropleth Map: 22,940 </tspan></text></g><g class="fl-label" transform="translate(608.5687866210938, 320.36749267578125)" font-size="11.200000000000001" font-weight="700" opacity="1" aria-hidden="true" id="1"><path fill="none" d="" stroke-width="0.075rem" stroke="#aaaaaa"></path><text class="bg" transform="translate(2.799999952316284, 3.696000099182129)" text-anchor="start"><tspan x="0" fill="none" stroke="rgb(255, 255, 255)" stroke-width="2.8" dy="0">Bar Chart: 44,703 </tspan></text><text class="fg" transform="translate(2.799999952316284, 3.696000099182129)" text-anchor="start"><tspan x="0" fill="rgb(150, 84, 229)" dy="0">Bar Chart: 44,703 </tspan></text></g><g class="fl-label" transform="translate(608.5687866210938, 434.8193664550781)" font-size="11.200000000000001" font-weight="700" opacity="1" aria-hidden="true" id="9"><path fill="none" d="" stroke-width="0.075rem" stroke="#aaaaaa"></path><text class="bg" transform="translate(2.799999952316284, 31.06266975402832)" text-anchor="start"><tspan x="0" fill="none" stroke="rgb(255, 255, 255)" stroke-width="2.8" dy="0">Treemap: 16,962 </tspan></text><text class="fg" transform="translate(2.799999952316284, 31.06266975402832)" text-anchor="start"><tspan x="0" fill="rgb(0, 125, 142)" dy="0">Treemap: 16,962 </tspan></text></g><g class="fl-label" transform="translate(608.5687866210938, 370.0660400390625)" font-size="11.200000000000001" font-weight="700" opacity="1" aria-hidden="true" id="2"><path fill="none" d="" stroke-width="0.075rem" stroke="#aaaaaa"></path><text class="bg" transform="translate(2.799999952316284, 3.696000099182129)" text-anchor="start"><tspan x="0" fill="none" stroke="rgb(255, 255, 255)" stroke-width="2.8" dy="0">Bubble Chart: 32,657 </tspan></text><text class="fg" transform="translate(2.799999952316284, 3.696000099182129)" text-anchor="start"><tspan x="0" fill="rgb(255, 98, 131)" dy="0">Bubble Chart: 32,657 </tspan></text></g><g class="fl-label" transform="translate(608.5687866210938, 407.3502502441406)" font-size="11.200000000000001" font-weight="700" opacity="1" aria-hidden="true" id="5"><path fill="none" d="" stroke-width="0.075rem" stroke="#aaaaaa"></path><text class="bg" transform="translate(2.799999952316284, 5.891779899597168)" text-anchor="start"><tspan x="0" fill="none" stroke="rgb(255, 255, 255)" stroke-width="2.8" dy="0">Density Plot: 23,620 </tspan></text><text class="fg" transform="translate(2.799999952316284, 5.891779899597168)" text-anchor="start"><tspan x="0" fill="rgb(136, 233, 154)" dy="0">Density Plot: 23,620 </tspan></text></g><g class="fl-label" transform="translate(608.5687866210938, 171.3915252685547)" font-size="11.200000000000001" font-weight="700" opacity="1" aria-hidden="true" id="0"><path fill="none" d="" stroke-width="0.075rem" stroke="#aaaaaa"></path><text class="bg" transform="translate(2.799999952316284, 3.696000099182129)" text-anchor="start"><tspan x="0" fill="none" stroke="rgb(255, 255, 255)" stroke-width="2.8" dy="0">Box Plot: 80,812 </tspan></text><text class="fg" transform="translate(2.799999952316284, 3.696000099182129)" text-anchor="start"><tspan x="0" fill="rgb(67, 40, 231)" dy="0">Box Plot: 80,812 </tspan></text></g><g class="fl-label" transform="translate(608.5687866210938, 398.52532958984375)" font-size="11.200000000000001" font-weight="700" opacity="1" aria-hidden="true" id="4"><path fill="none" d="" stroke-width="0.075rem" stroke="#aaaaaa"></path><text class="bg" transform="translate(2.799999952316284, 1.5567158460617065)" text-anchor="start"><tspan x="0" fill="none" stroke="rgb(255, 255, 255)" stroke-width="2.8" dy="0">Arc Diagram: 25,759 </tspan></text><text class="fg" transform="translate(2.799999952316284, 1.5567158460617065)" text-anchor="start"><tspan x="0" fill="rgb(255, 197, 2)" dy="0">Arc Diagram: 25,759 </tspan></text></g><g class="fl-label" transform="translate(608.5687866210938, 417.1323547363281)" font-size="11.200000000000001" font-weight="700" opacity="1" aria-hidden="true" id="7"><path fill="none" d="" stroke-width="0.075rem" stroke="#aaaaaa"></path><text class="bg" transform="translate(2.799999952316284, 22.42967414855957)" text-anchor="start"><tspan x="0" fill="none" stroke="rgb(255, 255, 255)" stroke-width="2.8" dy="0">Area Graph: 21,249 </tspan></text><text class="fg" transform="translate(2.799999952316284, 22.42967414855957)" text-anchor="start"><tspan x="0" fill="rgb(26, 167, 238)" dy="0">Area Graph: 21,249 </tspan></text></g><g class="fl-label" transform="translate(608.5687866210938, 422.62371826171875)" font-size="11.200000000000001" font-weight="700" opacity="1" aria-hidden="true" id="8"><path fill="none" d="" stroke-width="0.075rem" stroke="#aaaaaa"></path><text class="bg" transform="translate(2.799999952316284, 30.09832763671875)" text-anchor="start"><tspan x="0" fill="none" stroke="rgb(255, 255, 255)" stroke-width="2.8" dy="0">Candlestick Chart: 19,918 </tspan></text><text class="fg" transform="translate(2.799999952316284, 30.09832763671875)" text-anchor="start"><tspan x="0" fill="rgb(1, 156, 0)" dy="0">Candlestick Chart: 19,918 </tspan></text></g><g class="fl-label" transform="translate(608.5687866210938, 393.8797607421875)" font-size="11.200000000000001" font-weight="700" opacity="1" aria-hidden="true" id="3"><path fill="none" d="" stroke-width="0.075rem" stroke="#aaaaaa"></path><text class="bg" transform="translate(2.799999952316284, -6.957712650299072)" text-anchor="start"><tspan x="0" fill="none" stroke="rgb(255, 255, 255)" stroke-width="2.8" dy="0">Error Bars: 26,885 </tspan></text><text class="fg" transform="translate(2.799999952316284, -6.957712650299072)" text-anchor="start"><tspan x="0" fill="rgb(255, 136, 0)" dy="0">Error Bars: 26,885 </tspan></text></g><g class="end-circle-container" transform="translate(600.3687766751332, 171.39152298050968) scale(1)"><circle class="circle bg" r="2.8000000000000003" fill="#ffffff"></circle><circle class="end circle" r="2.8000000000000003" fill="#4328e7" opacity="1" stroke-width="2.8000000000000003" stroke="#4328e7"></circle><image clip-path="url(#circleClip)" preserveAspectRatio="xMidYMid slice" style="display: none;"></image><text style="text-anchor: middle; dominant-baseline: middle; font-size: 0.8rem; font-weight: 700; fill: rgb(255, 255, 255);"></text></g><g class="end-circle-container" transform="translate(600.3687766751332, 320.3675005172218) scale(1)"><circle class="circle bg" r="2.8000000000000003" fill="#ffffff"></circle><circle class="end circle" r="2.8000000000000003" fill="#9654e5" opacity="1" stroke-width="2.8000000000000003" stroke="#9654e5"></circle><image clip-path="url(#circleClip)" preserveAspectRatio="xMidYMid slice" style="display: none;"></image><text style="text-anchor: middle; dominant-baseline: middle; font-size: 0.8rem; font-weight: 700; fill: rgb(255, 255, 255);"></text></g><g class="end-circle-container" transform="translate(600.3687766751332, 370.06604175090956) scale(1)"><circle class="circle bg" r="2.8000000000000003" fill="#ffffff"></circle><circle class="end circle" r="2.8000000000000003" fill="#ff6283" opacity="1" stroke-width="2.8000000000000003" stroke="#ff6283"></circle><image clip-path="url(#circleClip)" preserveAspectRatio="xMidYMid slice" style="display: none;"></image><text style="text-anchor: middle; dominant-baseline: middle; font-size: 0.8rem; font-weight: 700; fill: rgb(255, 255, 255);"></text></g><g class="end-circle-container" transform="translate(600.3687766751332, 393.87975418664314) scale(1)"><circle class="circle bg" r="2.8000000000000003" fill="#ffffff"></circle><circle class="end circle" r="2.8000000000000003" fill="#ff8800" opacity="1" stroke-width="2.8000000000000003" stroke="#ff8800"></circle><image clip-path="url(#circleClip)" preserveAspectRatio="xMidYMid slice" style="display: none;"></image><text style="text-anchor: middle; dominant-baseline: middle; font-size: 0.8rem; font-weight: 700; fill: rgb(255, 255, 255);"></text></g><g class="end-circle-container" transform="translate(600.3687766751332, 398.52532594732156) scale(1)"><circle class="circle bg" r="2.8000000000000003" fill="#ffffff"></circle><circle class="end circle" r="2.8000000000000003" fill="#ffc502" opacity="1" stroke-width="2.8000000000000003" stroke="#ffc502"></circle><image clip-path="url(#circleClip)" preserveAspectRatio="xMidYMid slice" style="display: none;"></image><text style="text-anchor: middle; dominant-baseline: middle; font-size: 0.8rem; font-weight: 700; fill: rgb(255, 255, 255);"></text></g><g class="end-circle-container" transform="translate(600.3687766751332, 407.3502620006885) scale(1)"><circle class="circle bg" r="2.8000000000000003" fill="#ffffff"></circle><circle class="end circle" r="2.8000000000000003" fill="#88e99a" opacity="1" stroke-width="2.8000000000000003" stroke="#88e99a"></circle><image clip-path="url(#circleClip)" preserveAspectRatio="xMidYMid slice" style="display: none;"></image><text style="text-anchor: middle; dominant-baseline: middle; font-size: 0.8rem; font-weight: 700; fill: rgb(255, 255, 255);"></text></g><g class="end-circle-container" transform="translate(600.3687766751332, 410.1557582682385) scale(1)"><circle class="circle bg" r="2.8000000000000003" fill="#ffffff"></circle><circle class="end circle" r="2.8000000000000003" fill="#29dae4" opacity="1" stroke-width="2.8000000000000003" stroke="#29dae4"></circle><image clip-path="url(#circleClip)" preserveAspectRatio="xMidYMid slice" style="display: none;"></image><text style="text-anchor: middle; dominant-baseline: middle; font-size: 0.8rem; font-weight: 700; fill: rgb(255, 255, 255);"></text></g><g class="end-circle-container" transform="translate(600.3687766751332, 417.13236736886665) scale(1)"><circle class="circle bg" r="2.8000000000000003" fill="#ffffff"></circle><circle class="end circle" r="2.8000000000000003" fill="#1aa7ee" opacity="1" stroke-width="2.8000000000000003" stroke="#1aa7ee"></circle><image clip-path="url(#circleClip)" preserveAspectRatio="xMidYMid slice" style="display: none;"></image><text style="text-anchor: middle; dominant-baseline: middle; font-size: 0.8rem; font-weight: 700; fill: rgb(255, 255, 255);"></text></g><g class="end-circle-container" transform="translate(600.3687766751332, 422.6237137396153) scale(1)"><circle class="circle bg" r="2.8000000000000003" fill="#ffffff"></circle><circle class="end circle" r="2.8000000000000003" fill="#019c00" opacity="1" stroke-width="2.8000000000000003" stroke="#019c00"></circle><image clip-path="url(#circleClip)" preserveAspectRatio="xMidYMid slice" style="display: none;"></image><text style="text-anchor: middle; dominant-baseline: middle; font-size: 0.8rem; font-weight: 700; fill: rgb(255, 255, 255);"></text></g><g class="end-circle-container" transform="translate(600.3687766751332, 434.81937104384747) scale(1)"><circle class="circle bg" r="2.8000000000000003" fill="#ffffff"></circle><circle class="end circle" r="2.8000000000000003" fill="#007d8e" opacity="1" stroke-width="2.8000000000000003" stroke="#007d8e"></circle><image clip-path="url(#circleClip)" preserveAspectRatio="xMidYMid slice" style="display: none;"></image><text style="text-anchor: middle; dominant-baseline: middle; font-size: 0.8rem; font-weight: 700; fill: rgb(255, 255, 255);"></text></g></g></g></g></svg><div id="caption" style="flex-direction: column; gap: 1rem; font-size: 1rem; padding: 1rem; border-radius: 0.2rem; background: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(255, 255, 255); top: 50%; left: 50%; transform: translate(-50%, -50%);"><div id="text" style="max-width: 15rem; text-align: center; align-self: center; font-weight: normal;"></div><div id="image" style="max-height: 15%; width: 15rem;"><img></div></div></div><div id="fl-layout-overlay" style="position: absolute; display: none; width: 100%; height: 100%; top: 0px; left: 0px; background-color: rgb(200, 200, 200); z-index: 999999; pointer-events: none;"><p class="fl-layout-overlay-message" style="color: rgb(51, 51, 51); font-size: 1.5rem; padding-left: 15%; padding-right: 15%; width: 100%; box-sizing: border-box; position: absolute; top: 50%; transform: translate(0px, -50%); margin: 0px; text-align: center;"></p></div></section><section class="fl-layout-container" id="fl-layout-footer-container" style="width: 100%; position: relative; order: 30; display: none;"><div class="fl-layout-inner" id="fl-layout-footer" style="width: 100%; position: relative;"><footer class="flourish-footer" style="display: flex; height: 0px; width: 100%; font-family: inherit; font-weight: normal; justify-content: space-between; font-size: 1rem; color: rgb(51, 51, 51); align-items: center;"><div class="flourish-footer-text" id="flourish-footer-text"><p></p></div><div class="flourish-footer-logo-container"></div></footer></div></section></main><aside id="fl-layout-sidebar" style="position: relative;"></aside></div><script src="Score%20Race_files/embedded.js"></script><script>
		function _Flourish_unflattenInto(dest, src) {
			dest = dest || {};
			for (var k in src) {
				var t = dest;
				for (var i = k.indexOf("."), p = 0; i >= 0; i = k.indexOf(".", p = i+1)) {
					var s = k.substring(p, i);
					if (!(s in t)) t[s] = {};
					t = t[s];
				}
				t[k.substring(p)] = src[k];
			}
			return dest;
		}
		var _Flourish_settings = {"animate_scores":true,"button_style.background":null,"button_style.button_styles_advanced":false,"caption_text_weight":"normal","color.categorical_palette":["#4328e7","#9654e5","#ff6283","#ff8800","#ffc502","#88e99a","#29dae4","#1aa7ee","#019c00","#007d8e","#c11f1f","#730000"],"color_mode":"line","controls_style.font_size":1.1,"controls_style.font_weight":"bold","controls_style.height":2.5,"curve":"curveLinear","end_circle_r":0.2,"end_circle_stroke":0.2,"end_circle_stroke_bg":false,"filter_control.slider_font_color":null,"formatting.advanced":true,"formatting.n_dec":2,"formatting.strip_separator":true,"formatting.strip_zeros":true,"height_mode":"auto","hide_labels":false,"horse_images":false,"label_divider":": ","label_replay":"Replay Animation","labels.data_point_margin":0.2,"labels.lines":"off","labels.max_width":9,"labels.overlap_mode":"spread","labels.spreading_margin":0.3,"labels.text_bg_size":25,"labels.text_line_height":0.8,"labels.text_max_lines":3,"labels.text_size":0.8,"labels.text_weight":"700","layout.body_font":{"name":"Roboto Condensed","url":"https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700"},"layout.header_align":"left","layout.margin_bottom":0.5,"layout.margin_left":0.5,"layout.margin_right":0.5,"layout.margin_top":0.5,"layout.source_name":"","layout.source_url":"","layout.space_between_sections":"0.5","line_width":0.2,"padding_right":8,"play_mode":"all","rank_outside_picture":true,"shade":false,"show_buttons":false,"stage_duration":1000,"start_circle_r":0.2,"ties_mode":"competition","x.axis_position":"top","x.gridlines_visible":false,"x.tick_label_size":1,"x.tick_label_styling":true,"x.tick_label_weight":"bold","x.title_styling":false,"y.tick_label_size":0.8,"y.tick_label_styling":true,"y.tick_padding":-0.2,"y.tick_side":"out","y.title":"Page views","y.title_padding":-0.1,"y.title_position":"side","y.title_size":1,"y.title_styling":true,"y.title_weight":"bold"};
		_Flourish_unflattenInto(window.template.state, _Flourish_settings);

		var _Flourish_data_column_names = {"captions":{"from":"From","image":"Image","text":"Caption","to":"To"},"horserace":{"name":"year","stages":["2017","2018","2019","2020","2021","2022","2023"]}},
		    _Flourish_data_metadata = {"captions":{"from":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"image":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"text":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"to":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"}},"horserace":{"name":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"stages":[{"type":"number","type_id":"number$none_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$none_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$none_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$none_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$none_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$none_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$none_point","output_format_id":"number$comma_point"}]}},
		    _Flourish_data = {"captions":[],"horserace":[{"name":"Box Plot","stages":[17424,44689,68517,69028,89937,101543,80812]},{"name":"Bar Chart","stages":[21571,28379,32641,36861,43552,42395,44703]},{"name":"Bubble Chart","stages":[18532,24144,30486,32891,36630,36475,32657]},{"name":"Error Bars","stages":[3488,7886,24253,23793,29494,30023,26885]},{"name":"Arc Diagram","stages":[17394,18588,21721,23145,23462,26338,25759]},{"name":"Density Plot","stages":[17785,31671,42790,38900,36676,28832,23620]},{"name":"Choropleth Map","stages":[22038,24220,28023,27665,23721,27561,22940]},{"name":"Area Graph","stages":[16154,16782,19061,20606,22379,21942,21249]},{"name":"Candlestick Chart","stages":[8054,11474,12813,13881,16716,18311,19918]},{"name":"Treemap","stages":[20486,28317,28746,24945,22779,19723,16962]}]},
		    _Flourish_visualisation_id = 16430946,
		    _Flourish_visualisation_version_number = 446,
		    _Flourish_template_id = 25964;
		for (var _Flourish_dataset in _Flourish_data) {
				window.template.data[_Flourish_dataset] = _Flourish_data[_Flourish_dataset];
				window.template.data[_Flourish_dataset].column_names = _Flourish_data_column_names[_Flourish_dataset];
				window.template.data[_Flourish_dataset].metadata = _Flourish_data_metadata[_Flourish_dataset];
		}

		
		window.template.draw();
	</script><div class="font-samples" style="visibility: hidden; overflow: hidden; height: 0px;"><div class="font-sample-el" style="font-family: Roboto Condensed; font-weight: normal;">Roboto Condensed</div><div class="font-sample-el" style="font-family: Roboto Condensed; font-weight: bold;">Roboto Condensed</div></div></body></html>